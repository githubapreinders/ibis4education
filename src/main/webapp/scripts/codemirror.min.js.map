{"version":3,"sources":["codemirror.min.js"],"names":["uiCodemirrorDirective","$timeout","uiCodemirrorConfig","postLink","scope","iElement","iAttrs","ngModel","codemirrorOptions","angular","extend","value","text","codemirror","$eval","uiCodemirror","uiCodemirrorOpts","newCodemirrorEditor","configOptionsWatcher","configNgModelLink","configUiRefreshAttribute","uiRefresh","$on","event","callback","isFunction","Error","onLoad","codemirrot","tagName","window","CodeMirror","fromTextArea","html","cm_el","append","uiCodemirrorAttr","updateOptions","newValues","oldValue","isObject","codemirrorDefaultsKeys","forEach","key","hasOwnProperty","setOption","Object","keys","defaults","$watch","$formatters","push","isUndefined","isArray","$render","safeViewValue","$viewValue","setValue","on","instance","newValue","getValue","$evalAsync","$setViewValue","codeMirror","uiRefreshAttr","newVal","oldVal","refresh","restrict","require","compile","global","factory","exports","module","define","amd","this","classTest","cls","RegExp","removeChildren","e","count","childNodes","length","removeChild","firstChild","removeChildrenAndAdd","parent","appendChild","elt","tag","content","className","style","document","createElement","cssText","createTextNode","i","eltP","setAttribute","contains","child","nodeType","parentNode","host","activeElt","activeElement","body","shadowRoot","addClass","node","current","test","joinClasses","a","b","as","split","bind","f","args","Array","prototype","slice","call","arguments","apply","copyObj","obj","target","overwrite","prop","countColumn","string","end","tabSize","startIndex","startValue","search","n","nextTab","indexOf","array","findColumn","goal","pos","col","skipped","Math","min","spaceStr","spaceStrs","lst","arr","map","out","insertSorted","score","priority","splice","nothing","createObj","base","props","inst","create","isWordCharBasic","ch","toUpperCase","toLowerCase","nonASCIISingleCaseWordChar","isWordChar","helper","source","isEmpty","isExtendingChar","charCodeAt","extendingChars","skipExtendingChars","str","dir","charAt","findFirst","pred","from","to","midF","mid","ceil","floor","Display","place","doc","input","d","scrollbarFiller","gutterFiller","lineDiv","selectionDiv","cursorDiv","measure","lineMeasure","lineSpace","lines","mover","sizer","sizerWidth","heightForcer","scrollerGap","gutters","lineGutter","scroller","wrapper","ie","ie_version","zIndex","paddingRight","webkit","gecko","mobile","draggable","viewFrom","viewTo","first","reportedViewFrom","reportedViewTo","view","renderedView","externalMeasured","viewOffset","lastWrapHeight","lastWrapWidth","updateLineNumbers","nativeBarWidth","barHeight","barWidth","scrollbarsClipped","lineNumWidth","lineNumInnerWidth","lineNumChars","alignWidgets","cachedCharWidth","cachedTextHeight","cachedPaddingH","maxLine","maxLineLength","maxLineChanged","wheelDX","wheelDY","wheelStartX","wheelStartY","shift","selForContextMenu","activeTouch","init","getLine","size","chunk","children","sz","chunkSize","getBetween","start","line","iter","getLines","updateLineHeight","height","diff","lineNo","cur","no","lineAtHeight","h","outer","i$1","lh","isLine","l","lineNumberFor","options","String","lineNumberFormatter","firstLineNumber","Pos","sticky","cmp","equalCursorPos","copyPos","x","maxPos","minPos","clipLine","max","clipPos","last","clipToLen","linelen","clipPosArray","seeReadOnlySpans","sawReadOnlySpans","seeCollapsedSpans","sawCollapsedSpans","MarkedSpan","marker","getMarkedSpanFor","spans","span","removeMarkedSpan","r","addMarkedSpan","markedSpans","concat","attachLine","markedSpansBefore","old","startCh","isInsert","nw","startsBefore","inclusiveLeft","type","insertLeft","endsAfter","inclusiveRight","markedSpansAfter","endCh","stretchSpansOverChange","change","full","oldFirst","oldLast","sameLine","offset","found","span$1","found$1","clearEmptySpans","newMarkers","gapMarkers","gap","i$2","i$3","clearWhenEmpty","removeReadOnlyRanges","markers","mark","readOnly","parts","mk","m","find","j","p","newParts","dfrom","dto","detachMarkedSpans","detachLine","attachMarkedSpans","extraLeft","extraRight","compareCollapsedMarkers","lenDiff","aPos","bPos","fromCmp","toCmp","id","collapsedSpanAtSide","sps","sp","collapsed","collapsedSpanAtStart","collapsedSpanAtEnd","conflictingCollapsedRange","lineNo$$1","visualLine","merged","visualLineEnd","visualLineContinued","visualLineNo","lineN","vis","visualLineEndNo","lastLine","lineIsHidden","widgetNode","lineIsHiddenInner","heightAtLine","lineObj","lineLength","len","findMaxLine","cm","display","iterateBidiSections","order","part","level","getBidiPartAt","bidiOther","getOrder","direction","bidiOrdering","getHandlers","emitter","_handlers","noHandlers","off","removeEventListener","detachEvent","map$$1","index","signal","handlers","signalDOMEvent","override","preventDefault","defaultPrevented","e_defaultPrevented","codemirrorIgnore","signalCursorActivity","cursorActivity","set","curOp","cursorActivityHandlers","hasHandler","eventMixin","ctor","e_preventDefault","returnValue","e_stopPropagation","stopPropagation","cancelBubble","e_stop","e_target","srcElement","e_button","which","button","mac","ctrlKey","zeroWidthElement","zwspSupported","offsetHeight","offsetWidth","hasBadBidiRects","badBidiRects","txt","r0","range","getBoundingClientRect","r1","left","right","hasBadZoomedRects","badZoomedRects","normal","fromRange","abs","defineMode","name","mode","dependencies","modes","defineMIME","mime","spec","mimeModes","resolveMode","getMode","mfactory","modeObj","modeExtensions","exts","helperType","modeProps","prop$1","extendMode","properties","copyState","state","nstate","val","innerMode","info","startState","a1","a2","highlightLine","context","forceToEnd","st","modeGen","lineClasses","runMode","loop","o","baseTokens","overlay","overlays","at","i_end","opaque","baseTokenPos","styles","classes","bgClass","textClass","getLineStyles","updateFrontier","getContextBefore","resetState","maxHighlightLength","result","stateAfter","save","styleClasses","highlightFrontier","modeFrontier","precise","Context","findStartLine","saved","fromSaved","processLine","nextLine","startAt","stream","StringStream","callBlankLine","eol","readToken","blankLine","inner","token","takeToken","asArray","tokens","Token","extractLineClasses","output","lineClass","match","flattenSpans","curStart","curStyle","addModeClass","mName","minindent","minline","lim","after","SavedContext","lookAhead","indented","retreatFrontier","updateLine","estimateHeight","estHeight","cleanUpLine","interpretTokenStyle","cache","styleToClassCacheWithMode","styleToClassCache","replace","buildLineContent","lineView","builder","pre","trailingSpace","splitSpaces","getOption","rest","addToken","buildToken","buildTokenBadBidi","allowFrontierUpdate","insertLineContent","maps","caches","lastChild","querySelector","defaultSpecialCharPlaceholder","title","toString","startStyle","endStyle","css","displayText","special","specialChars","mustWrap","createDocumentFragment","lastIndex","exec","txt$1","tabWidth","specialCharPlaceholder","fullStyle","trailingBefore","spaceBefore","buildCollapsedSpan","ignoreWidget","widget","needsContentAttribute","setUneditable","allText","spanStyle","spanEndStyle","spanStartStyle","nextChange","Infinity","foundBookmarks","endStyles","j$1","j$2","upto","tokenText","LineView","hidden","buildViewArray","nextPos","pushOperation","op","operationGroup","ops","ownsGroup","delayedCallbacks","fireCallbacksForOps","group","callbacks","cursorActivityCalled","finishOperation","endCb","signalLater","list","orphanDelayedCallbacks","setTimeout","fireOrphanDelayed","delayed","updateLineForChanges","dims","changes","updateLineText","updateLineGutter","updateLineClasses","updateLineWidgets","ensureLineWrapped","replaceChild","updateLineBackground","background","wrap","insertBefore","getLineContent","ext","built","wrapClass","gutter","gutterBackground","gutterClass","fixedGutter","fixedPos","gutterTotalWidth","gutterMarkers","lineNumbers","wrap$1","gutterWrap","lineNumber","gutterLeft","k","gutterWidth","alignable","next","nextSibling","insertLineWidgets","buildLineElement","insertLineWidgetsFor","allowAbove","widgets","ws","handleMouseEvents","positionLineWidget","above","noHScroll","width","wrapperWidth","coverGutter","paddingLeft","position","marginLeft","widgetHeight","parentStyle","clientWidth","eventInWidget","getAttribute","paddingTop","offsetTop","paddingVert","paddingH","getComputedStyle","currentStyle","data","parseInt","isNaN","scrollGap","displayWidth","displayHeight","clientHeight","ensureLineHeights","rect","wrapping","lineWrapping","curWidth","heights","rects","getClientRects","bottom","top","mapFromLineView","before","updateExternalMeasurement","measureChar","bias","measureCharPrepared","prepareMeasureForLine","findViewForLine","findViewIndex","getDimensions","forceUpdate","hasHeights","prepared","varHeight","measureCharInner","bogus","rtop","rbottom","nodeAndOffsetInLineMap","collapse","mStart","mEnd","coverStart","coverEnd","getUsefulRect","nullRect","maybeUpdateRectForZooming","rSpan","charWidth","rbot","bot","singleCursorHeightPerLine","screen","logicalXDPI","deviceXDPI","scaleX","scaleY","logicalYDPI","deviceYDPI","clearLineMeasurementCacheFor","clearLineMeasurementCache","externalMeasure","clearCaches","pageScrollX","chrome","android","pageXOffset","documentElement","scrollLeft","pageScrollY","marginTop","pageYOffset","scrollTop","widgetTopHeight","intoCoordSystem","includeWidgets","yOff","lOff","xOff","fromCoordSystem","coords","localBox","lineSpaceBox","charCoords","cursorCoords","preparedMeasure","get","getBidi","partPos","invert","other","estimateCoords","PosWithInfo","outside","xRel","coordsChar","y","coordsCharInner","mergedPos","wrappedLineExtent","begin","wrappedLineExtentChar","targetTop","boxIsAfter","box","widgetHeight$$1","ltr","coordsBidiPartWrapped","coordsBidiPart","baseX","chAround","boxAround","atLeft","atStart","_lineNo","ref","closestDist","endX","dist","textHeight","measureText","anchor","clientLeft","offsetLeft","compensateForHScroll","th","perLine","widgetsHeight","estimateLineHeights","est","posFromMouse","liberal","forRect","space","clientX","clientY","colDiff","round","updateSelection","showSelection","prepareSelection","primary","curFragment","cursors","selFragment","selection","sel","ranges","primIndex","range$$1","empty","showCursorWhenSelecting","drawSelectionCursor","head","drawSelectionRange","cursor","cursorHeight","otherCursor","cmpCoords","add","fragment","rightSide","drawForLine","fromArg","toArg","wrapX","side","extent","lineLen","fromPos","toPos","openStart","openEnd","openLeft","docLTR","openRight","leftSide","topLeft","topRight","botLeft","botRight","padding","sFrom","sTo","fromLine","toLine","singleVLine","leftEnd","rightStart","restartBlink","focused","clearInterval","blinker","visibility","cursorBlinkRate","setInterval","ensureFocus","focus","onFocus","delayBlurEvent","delayingBlurEvent","onBlur","reset","receivedFocus","rmClass","updateHeightsInViewport","prevBottom","updateWidgetHeight","visibleLines","viewport","ensure","ensureFrom","ensureTo","alignHorizontally","comp","gutterW","align","maybeUpdateLineNumberWidth","innerW","updateGutterSpace","maybeScrollWindow","doScroll","innerHeight","phantom","scrollNode","scrollIntoView","scrollPosIntoView","margin","limit","changed","endCoords","scrollPos","calculateScrollPos","startTop","startLeft","updateScrollTop","setScrollLeft","snapMargin","screentop","docBottom","atTop","atBottom","newTop","screenleft","screenw","tooWide","addToScrollTop","resolveScrollToPos","ensureCursorVisible","getCursor","scrollToPos","cursorScrollMargin","scrollToCoords","scrollToRange","scrollToCoordsRange","sPos","updateDisplaySimple","setScrollTop","startWorker","forceScroll","scrollHeight","scrollbars","isScroller","scrollWidth","measureForScrollbars","docH","viewHeight","viewWidth","barLeft","docHeight","updateScrollbars","startWidth","startHeight","updateScrollbarsInner","sizes","update","paddingBottom","borderBottom","coverGutterNextToScrollbar","initScrollbars","clear","scrollbarModel","scrollbarStyle","axis","startOperation","viewChanged","updateInput","typing","changeObjs","selectionChanged","updateMaxLine","nextOpId","endOperation","endOperations","endOperation_R1","endOperation_W1","endOperation_R2","endOperation_W2","i$4","endOperation_finish","maybeClipScrollbars","mustUpdate","DisplayUpdate","updatedDisplay","updateDisplayIfNeeded","barMeasure","adjustWidthTo","maxScrollLeft","preparedSelection","minWidth","takeFocus","setDocumentHeight","postUpdateDisplay","maybeHiddenMarkers","unhidden","maybeUnhiddenMarkers","finish","runInOp","operation","methodOp","docMethodOp","regChange","lendiff","resetView","cut","viewCuttingPoint","cut$1","cutTop","cutBot","regLineChange","oldN","newN","adjustView","countDirtyView","dirty","time","highlight","highlightWorker","Date","workTime","changedLines","oldStyles","highlighted","oldCls","newCls","ischange","workDelay","marginBottom","borderRightWidth","selectionSnapshot","hasFocus","active","getSelection","anchorNode","anchorOffset","focusNode","focusOffset","restoreSelection","snapshot","createRange","setEnd","removeAllRanges","addRange","editorIsHidden","force","visible","viewportMargin","different","wrapperHeight","toUpdate","selSnapshot","patchDisplay","minHeight","oldDisplayWidth","updateNumbersFrom","rm","currentWheelTarget","container","updateNumber","updateGutters","specs","gElt","setGuttersForLineNumbers","wheelEventDelta","dx","wheelDeltaX","dy","wheelDeltaY","detail","HORIZONTAL_AXIS","VERTICAL_AXIS","wheelDelta","wheelEventPixels","delta","wheelPixelsPerUnit","onScrollWheel","scroll","canScrollX","canScrollY","presto","pixels","wheelSamples","movedX","movedY","sample","normalizeSelection","prim","sort","prev","inv","Range","Selection","simpleSelection","changeEnd","adjustForChange","computeSelAfterChange","offsetPos","computeReplacedSel","hint","oldPrev","newPrev","loadMode","modeOption","resetModeState","isWholeLineUpdate","wholeLineUpdateBefore","updateDoc","estimateHeight$$1","spansFor","linesFor","Line","firstLine","lastText","lastSpans","nlines","insert","remove","added","added$1","added$2","linkedDocs","sharedHistOnly","propagate","skip","sharedHist","linked","rel","shared","attachDoc","setDirectionClass","directionChanged","History","startGen","done","undone","undoDepth","lastModTime","lastSelTime","lastOp","lastSelOp","lastOrigin","lastSelOrigin","generation","maxGeneration","historyChangeFromChange","histChange","attachLocalSpans","clearSelectionEvents","pop","lastChangeEvent","hist","addChangeToHistory","selAfter","opId","history","origin","historyEventDelay","pushSelectionToHistory","selectionEventCanBeMerged","somethingSelected","addSelectionToHistory","clearRedo","dest","equals","existing","removeClearedSpans","explicitlyCleared","getOldSpans","mergeOldSpans","stretched","oldCur","stretchCur","copyHistoryArray","events","newGroup","instantiateSel","copy","deepCopy","newChanges","Number","extendRange","posBefore","extendSelection","setSelection","extendSelections","heads","newSel","replaceOneSelection","setSimpleSelection","filterSelectionChange","this$1","setSelectionReplaceHistory","setSelectionNoUndo","NaN","setSelectionInner","skipAtomicInSelection","reCheckSelection","mayClear","newAnchor","skipAtomic","newHead","skipAtomicInner","oldPos","atomic","near","movePos","far","cantEdit","selectAll","sel_dontScroll","filterChange","canceled","cancel","undefined","makeChange","ignoreReadOnly","suppressEdits","makeChangeInner","makeChangeSingleDoc","rebased","rebaseHist","makeChangeFromHistory","allowSelectionOnly","antiChanges","filter","returned","v","shiftDoc","distance","removed","makeChangeSingleDocInEditor","recomputeMaxLength","checkWidthStart","changesHandler","changeHandler","replaceRange","code","assign","splitLines","rebaseHistSelSingle","rebaseHistArray","sub","ok","copied","changeLine","handle","changeType","LeafChunk","BranchChunk","adjustScrollWhenAboveVisible","addLineWidget","LineWidget","insertAt","aboveVisible","markText","markTextShared","TextMarker","replacedWith","addToHistory","curLine","clearOnEnter","clearHistory","nextMarkerId","cloneNode","isParent","SharedTextMarker","findSharedMarkers","findMarks","copySharedMarkers","mFrom","mTo","subMark","detachSharedMarkers","subMarker","onDrop","clearDragCursor","lastDrop","files","dataTransfer","isReadOnly","FileReader","File","read","loadFile","file","allowDropFileTypes","reader","onload","join","lineSeparator","readAsText","draggingText","text$1","getData","selected","listSelections","replaceSelection","onDragStart","setData","effectAllowed","setDragImage","safari","img","src","_top","onDragOver","frag","dragCursor","forEachCodeMirror","getElementsByClassName","byClass","ensureGlobalHandlers","globalsRegistered","registerGlobalHandlers","resizeTimer","onResize","setSize","normalizeKeyName","alt","ctrl","cmd","mod","normalizeKeyMap","keymap","keyname","lookupKey","getKeyMap","fallthrough","isModifierKey","keyNames","keyCode","addModifierNames","noShift","altKey","flipCtrlCmd","metaKey","shiftKey","keyName","altGraphKey","keyMap","deleteNearSelection","compute","kill","toKill","replaced","moveCharLogically","moveLogically","endOfLine","visually","moveInStorageOrder","prep","moveVisually","bidi","mv","getWrappedLineExtent","searchInVisualLine","getRes","res","nextCh","lineStart","visual","lineEnd","lineStartSmart","firstNonWS","inWS","doHandleBinding","bound","dropShift","commands","ensurePolled","prevShift","Pass","lookupKeyForEditor","keyMaps","extraKeys","dispatchKey","seq","keySeq","stopSeq","handleKeyBinding","motion","handleCharBinding","onKeyDown","handled","lastStoppedKey","hasCopyEvent","showCrossHair","up","onKeyUp","onKeyPress","charCode","fromCharCode","clickRepeat","now","lastDoubleClick","compare","lastClick","PastClick","onMouseDown","supportsTouch","clickInGutter","repeat","selectingText","handleMappedButton","leftButtonDown","captureRightClick","onContextMenu","configureMouse","option","unit","chromeOS","addNew","moveOnDrag","contained","behavior","dragDrop","dragAndDrop","leftButtonStartDrag","leftButtonSelect","moved","dragEnd","mouseMove","dragStart","e2","rangeForUnit","findWordAt","extendTo","lastPos","startCol","posCol","leftPos","startSel","ourIndex","oldRange","ourRange","ranges$1","bidiSimplify","sel_mouse","curCount","counter","editorSize","move","anchorLine","boundary","headIndex","usePart","gutterEvent","prevent","mX","mY","touches","lineBox","g","contextMenuInGutter","themeChanged","theme","defineOptions","deflt","notOnInit","optionHandlers","Init","defineOption","lineSep","newBreaks","getInputField","spellcheck","windows","guttersChanged","detach","attach","wrappingChanged","integer","blur","readOnlyChanged","dragDropChanged","resetPosition","getField","tabIndex","setDirection","wasOn","funcs","dragFunctions","toggle","enter","over","leave","drop","CodeMirror$1","Doc","inputStyles","inputStyle","pasteIncoming","cutIncoming","Delayed","autofocus","registerEventHandlers","opt","finishInit","initHooks","textRendering","finishTouch","touchFinished","prevTouch","isMouseLikeTouchEvent","touch","radiusX","radiusY","farAway","word","clearTimeout","pageX","pageY","inp","indentLine","how","aggressive","indent","curSpace","indentation","curSpaceString","indentUnit","indentString","indentWithTabs","pos$1","setLastCopied","newLastCopied","lastCopied","applyTextInput","inserted","deleted","paste","textLines","splitLinesAuto","multiPaste","pasteLinesPerSelection","lineWise","changeEvent","triggerElectric","handlePaste","pasted","clipboardData","disableInput","electricChars","smartIndent","getModeAt","electricInput","copyableRanges","lineRange","getRange","disableBrowserMagic","field","hiddenTextarea","te","div","ios","border","findPosH","findNextLine","moveOnce","boundToLine","origDir","sawType","getHelper","hitSide","findPosV","pageSize","moveAmount","posToDOM","isInGutter","scan","badPos","bad","domTextBetween","recognizeMarker","close","closing","addText","walk","cmText","textContent","markerID","isBlock","nodeName","nodeValue","domToPos","lineNode","locateNodeInLineView","textNode","topNode","curNode","previousSibling","dist$1","textarea","tabindex","placeholder","realSubmit","form","leaveSubmitMethodAlone","submit","wrappedSubmit","getTextArea","toTextArea","getWrapperElement","addLegacyProps","cmpPos","userAgent","navigator","platform","ie_upto10","ie_11up","edge","documentMode","qtwebkit","vendor","mac_geMountainLion","presto_version","endNode","setStart","createTextRange","moveToElementText","moveEnd","moveStart","selectInput","select","selectionStart","selectionEnd","_e","ms","sel_move","charType","lowTypes","arabicTypes","BidiSpan","bidiRE","isNeutral","isStrong","countsAsLeft","countsAsNum","outerType","types","type$1","prev$1","type$2","type$3","i$5","cur$1","type$4","i$6","end$1","replace$1","i$7","nstart","unshift","reverse","addEventListener","attachEvent","nl","rt","hasSelection","ownerDocument","parentElement","compareEndPoints","oncopy","lineOracle","lastColumnPos","lastColumnValue","sol","peek","eat","eatWhile","eatSpace","skipToEnd","skipTo","backUp","column","pattern","consume","caseInsensitive","cased","substr","hideFirstChars","oracle","baseToken","maxLookAhead","NativeScrollbars","vert","horiz","checkedZeroWidth","needsH","needsV","sWidth","totalHeight","totalWidth","zeroWidthHack","disableHoriz","enableZeroWidthBar","disableVert","w","pointerEvents","bar","delay","maybeDisable","elt$$1","elementFromPoint","NullScrollbars","native","null","here","there","removeInner","insertInner","iterN","oldHeight","remaining","leaf","maybeSpill","me","spilled","sibling","myIndex","used","oldH","withOp","dHeight","nextDocId","cleanGeneration","constructor","getLineHandle","getLineNumber","getLineHandleVisualStart","lineCount","setCursor","extendSelectionsBy","setSelections","addSelection","getSelections","dup","replaceSelections","undo","redo","undoSelection","redoSelection","setExtending","getExtending","historySize","markClean","changeGeneration","forceSplit","isClean","gen","getHistory","setHistory","histData","setGutterMarker","gutterID","clearGutter","lineInfo","addLineClass","where","removeLineClass","removeLineWidget","setBookmark","realOpts","findMarksAt","getAllMarks","posFromIndex","sepSize","indexFromPos","copyHistory","linkedDoc","unlinkDoc","link","splitIds","iterLinkedDocs","getEditor","eachLine","3","8","9","13","16","17","18","19","20","27","32","33","34","35","36","37","38","39","40","44","45","46","59","61","91","92","93","106","107","109","110","111","127","173","186","187","188","189","190","191","192","219","220","221","222","63232","63233","63234","63235","63272","63273","63275","63276","63277","63302","basic","Left","Right","Up","Down","End","Home","PageUp","PageDown","Delete","Backspace","Shift-Backspace","Tab","Shift-Tab","Enter","Insert","Esc","pcDefault","Ctrl-A","Ctrl-D","Ctrl-Z","Shift-Ctrl-Z","Ctrl-Y","Ctrl-Home","Ctrl-End","Ctrl-Up","Ctrl-Down","Ctrl-Left","Ctrl-Right","Alt-Left","Alt-Right","Ctrl-Backspace","Ctrl-Delete","Ctrl-S","Ctrl-F","Ctrl-G","Shift-Ctrl-G","Shift-Ctrl-F","Shift-Ctrl-R","Ctrl-[","Ctrl-]","Ctrl-U","Shift-Ctrl-U","Alt-U","emacsy","Ctrl-B","Ctrl-P","Ctrl-N","Alt-F","Alt-B","Ctrl-E","Ctrl-V","Shift-Ctrl-V","Ctrl-H","Alt-D","Alt-Backspace","Ctrl-K","Ctrl-T","Ctrl-O","macDefault","Cmd-A","Cmd-D","Cmd-Z","Shift-Cmd-Z","Cmd-Y","Cmd-Home","Cmd-Up","Cmd-End","Cmd-Down","Cmd-Left","Cmd-Right","Ctrl-Alt-Backspace","Alt-Delete","Cmd-S","Cmd-F","Cmd-G","Shift-Cmd-G","Cmd-Alt-F","Shift-Cmd-Alt-F","Cmd-[","Cmd-]","Cmd-Backspace","Cmd-Delete","Cmd-U","Shift-Cmd-U","singleSelection","killLine","deleteLine","delLineLeft","delWrappedLineLeft","delWrappedLineRight","rightPos","goDocStart","goDocEnd","goLineStart","goLineStartSmart","goLineEnd","goLineRight","goLineLeft","goLineLeftSmart","goLineUp","moveV","goLineDown","goPageUp","goPageDown","goCharLeft","moveH","goCharRight","goColumnLeft","goColumnRight","goWordLeft","goGroupRight","goGroupLeft","goWordRight","delCharBefore","deleteH","delCharAfter","delWordBefore","delWordAfter","delGroupBefore","delGroupAfter","indentAuto","indentSelection","indentMore","indentLess","insertTab","insertSoftTab","spaces","defaultTab","execCommand","transposeChars","newlineAndIndent","sels","openLine","toggleOverwrite","DOUBLECLICK_DELAY","defineInitHook","addEditorMethods","helpers","getDoc","addKeyMap","removeKeyMap","addOverlay","modeSpec","removeOverlay","newRanges","getTokenAt","getLineTokens","getTokenTypeAt","getHelpers","help","_global","getStateAfter","defaultTextHeight","defaultCharWidth","getViewport","addWidget","vspace","hspace","triggerOnKeyDown","triggerOnKeyPress","triggerOnKeyUp","triggerOnMouseDown","amount","rtlMoveVisually","goalColumn","goals","headPos","startChar","check","scrollTo","getScrollInfo","interpret","swapDoc","getScrollerElement","getGutterElement","registerHelper","registerGlobalHelper","predicate","ContentEditableInput","lastAnchorNode","lastAnchorOffset","lastFocusNode","lastFocusOffset","polling","composing","gracePeriod","readDOMTimeout","onCopyCut","lineWiseCopyCut","clearData","kludge","hadFocus","showPrimarySelection","updateFromDOM","readFromDOMSoon","forceCompositionEnd","showMultipleSelections","curAnchor","curFocus","rng","rangeCount","getRangeAt","startGracePeriod","rememberSelection","selectionInEditor","commonAncestorContainer","poll","pollSelection","pollInterval","pollContent","fromIndex","fromNode","toNode","toIndex","newText","oldText","cutFront","cutEnd","oldTop","maxCutFront","newBot","oldBot","maxCutEnd","chFrom","chTo","contentEditable","TextareaInput","prevInput","pollingFast","prepareCopyCut","fastPoll","moveInputWithCursor","wrapOff","lineOff","teTop","teLeft","drawn","contextMenuPending","slowPoll","missed","same","prepareSelectAllHack","extval","rehide","oldWrapperCSS","oldCSS","detectingSelectAll","resetSelectionOnContextMenu","wrapperBox","oldScrollY","scrollY","mouseup","disabled","dontDelegate","method","contenteditable","defineExtension","func","defineDocExtension","version","regexpFlags","regexp","flags","ignoreCase","multiline","ensureGlobal","maybeMultiline","searchRegexpForward","searchRegexpForwardMultiline","inside","startLine","lastMatchIn","cutOff","newMatch","searchRegexpBackward","searchRegexpBackwardMultiline","adjustPos","orig","folded","foldFunc","searchStringForward","query","caseFold","fold","doFold","noFold","cutFrom","endString","searchStringBackward","lastIndexOf","topString","SearchCursor","atOccurrence","matches","normalize","findNext","findPrevious","getSearchCursor","searchOverlay","SearchState","posFrom","posTo","lastQuery","getSearchState","queryCaseInsensitive","persistentDialog","onEnter","openDialog","selectValueOnOpen","closeOnEnter","onClose","clearSearch","dialog","shortText","prompt","confirmDialog","fs","openConfirm","confirm","parseString","_","parseQuery","isRE","startSearch","queryText","showMatchesOnScrollbar","annotate","doSearch","rev","persistent","immediate","q","hiding","searchNext","opacity","queryDialog","extra","replaceAll","all","dialogText","replaceQueryDialog","replacementQueryDialog","advance","doReplaceConfirm","doReplace","findPersistent","findPersistentNext","findPersistentPrev","findPrev","State","parseOptions","opts","indicatorOpen","indicatorFolded","isFolded","marks","__isFold","updateFoldInfo","foldGutter","minSize","foldOption","updateInViewport","vp","onGutterClick","foldCode","rangeFinder","onChange","changeUpdate","foldOnChangeTimeSpan","onViewportChange","updateViewportTimeSpan","onFold","Iter","tagAt","prevLine","toTagEnd","gt","lastSlash","selfClose","toTagStart","lt","xmlTagStart","toNextTag","toPrevTag","findMatchingClose","stack","findMatchingOpen","endLine","nameStartChar","nameChar","openTag","startPos","endPos","findMatchingTag","open","findEnclosingTag","forward","scanForClosingTag","allowFolded","finder","cleared","myWidget","makeWidget","myRange","editorOptions","foldOptions","defaultOptions","newFoldFunction","toggleFold","unfold","foldAll","unfoldAll","auto","minFoldSize","scanUp","tagHit","tagOther","doMatchTags","failedTagMatch","matchBothTags","hit","maybeUpdateMatch","bothTags","toMatchingTag","getHints","tags","schemaInfo","quote","quoteChar","prefix","tagStart","replaceToken","tagType","cx","curTag","childList","attrs","globalAttrs","nm","atValues","atName","attr","Completion","debounce","tick","startLen","self","activityFunc","isNewCompletion","editor","hintOptions","resolve","getText","completion","buildKeyMap","addBinding","baseMap","ourMap","moveFocus","menuSize","setFocus","pick","custom","customKeys","getHintElement","hintsElement","el","Widget","picked","hints","selectedHint","completions","HINT_ELEMENT_CLASS","ACTIVE_HINT_ELEMENT_CLASS","render","hintId","alignWithWord","below","winW","innerWidth","winH","overlapY","scrolls","startScroll","curTop","overlapX","avoidWrap","changeActive","screenAmount","closeOnUnfocus","closingOnBlur","onScroll","curScroll","point","t","completeOnSingleClick","applicableHelpers","supportsSelection","fetchHints","async","then","resolveAutoHints","words","resolved","run","app","fromList","anyword","showHint","newOpts","selections","completionActive","requestAnimationFrame","fn","cancelAnimationFrame","closeCharacters","disable","myTick","finishUpdate","completeSingle","term","autocomplete","htmlConfig","autoSelfClosers","area","br","command","embed","frame","hr","keygen","meta","param","track","wbr","menuitem","implicitlyClosed","dd","li","optgroup","rp","tbody","td","tfoot","tr","contextGrabbers","dt","address","article","aside","blockquote","dl","fieldset","footer","h1","h2","h3","h4","h5","h6","header","hgroup","menu","nav","ol","section","table","ul","thead","doNotIndent","allowUnquoted","allowMissing","xmlConfig","editorConf","config_","inText","chain","parser","tokenize","inBlock","doctype","inTag","baseState","inAttribute","stringStartCol","closure","isInAttribute","terminator","depth","startOfLine","config","noIndent","popContext","maybePopContext","nextTagName","parentTagName","tagNameState","closeTagNameState","setStyle","attrState","matchClosing","closeState","closeStateErr","_stream","attrEqState","attrValueState","attrContinuedState","htmlMode","isInText","baseIndent","textAfter","fullLine","multilineTagIndentPastTag","multilineTagIndentFactor","alignCDATA","tagAfter","grabbers","blockCommentStart","blockCommentEnd","configuration","skipAttribute","legacy_beautify_html","modules","__webpack_require__","moduleId","installedModules","c","getter","defineProperty","configurable","enumerable","__esModule","object","property","s","ltrim","rtrim","Beautifier","html_source","js_beautify","css_beautify","Parser","tokenMatcher","delimiter","newToken","doesNotMatch","current_mode","parentcount","parent1","tag_type","token_text","last_token","last_text","token_type","newlines","indent_content","indent_inner_html","indent_body_inner_html","indent_head_inner_html","Utils","whitespace","single_token","void_elements","extra_liners","in_array","what","is_whitespace","traverse_whitespace","input_char","preserve_newlines","max_preserve_newlines","space_or_wrap","line_char_count","wrap_line_length","print_newline","print_indentation","get_content","handlebarsStarted","indent_handlebars","peek3","get_tag","get_contents_to","reg_match","reg_array","end_script","substring","record_tag","indent_level","retrieve_tag","temp_parent","indent_to_tag","tag_start","tag_end","tag_start_char","tail","comment","first_attr","has_wrapped_attrs","orig_pos","orig_line_char_count","is_tag_closed","get_unformatted","is_wrap_attributes_force_expand_multiline","wrapped","indentAttrs","is_wrap_attributes_force","force_first_attr_wrap","is_only_attribute","alignment_size","wrap_attributes_indent_size","is_wrap_attributes_force_aligned","get_comment","tag_index","tag_offset","tag_complete","tag_check","is_unformatted","unformatted","content_unformatted","start_pos","matched","orig_tag","delimiterMatcher","get_token","tag_name_type","get_full_indent","indent_string","next_tag","printer","js_source","indent_character","indent_size","brace_style","print_token","print_token_raw","unindent","multi_parser","wrap_attributes","end_with_newline","mergeOpts","max_char","indent_char","indent_with_tabs","lineBreak","allLineBreaks","beautify","tag_name","tag_extracted_from_last_output","foundIfOnCurrentLine","lastCheckedOutput","_beautifier","script_indent_level","indent_scripts","Child_options","child_options","white","_level","reindent","sweet_code","acorn","nonASCIIidentifierStartChars","nonASCIIidentifierChars","nonASCIIidentifierStart","nonASCIIidentifier","newline","isIdentifierStart","isIdentifierChar","allOptions","targetType","finalOpts","style_html","beautifier","requireamd","html_beautify","legacy_beautify_css","source_text","skipWhitespace","prev_pos","eatWhitespace","eatString","endChars","peekString","endChar","preserve_newlines_local","whiteRe","add_new_line","newlinesFromLastWSEat","eatComment","singleLine","lookBack","foundNestedPseudoClass","openParen","print_string","output_string","just_added_newline","set_indent","indentLevel","add_token","preserveSingleSpace","isAfterSpace","space_before_token","outdent","indentSize","indentCharacter","selectorSeparatorNewline","selector_separator_newline","newline_between_rules","space_around_combinator","space_around_selector_separator","parenLevel","baseIndentString","preindent_index","js_source_text","nestedLevel","singleIndent","Output","insideRule","insidePropertyValue","enteringConditionalGroup","top_ch","last_top_ch","isAfterNewline","trim","variableOrRule","NESTED_AT_RULE","CONDITIONAL_GROUP_RULE","sweetCode","get_code","@page","@font-face","@keyframes","@media","@supports","@document","OutputLine","_character_count","_indent_count","_items","_empty","baseIndentLength","indent_length","get_character_count","is_empty","item","remove_indent","indent_cache","raw","previous_line","current_line","add_outputline","get_line_number","force_newline","add_raw_token","whitespace_before","printable_token","add_space_before_token","output_length","eat_newlines","just_added_blankline","legacy_beautify_js","remove_redundant_indentation","multiline_frame","MODE","ForInitializer","Conditional","start_index","start_line_index","generateMapFromStrings","sanitizeOperatorPosition","opPosition","OPERATOR_POSITION","before_newline","validPositionValues","create_flags","flags_base","next_indent_level","indentation_level","line_indent_level","next_flags","last_word","declaration_statement","declaration_assignment","inline_frame","if_block","else_block","do_block","do_while","import_block","in_case_statement","in_case","case_body","ternary_depth","handle_whitespace_and_comments","local_token","preserve_statement_flags","keep_whitespace","keep_array_indentation","is_array","temp_token","current_token","comments_before","split_linebreaks","idx","allow_wrap_or_preserved_newline","force_linewrap","shouldPreserveOrForce","wanted_newline","operatorLogicApplies","tokenizer","positionable_operators","shouldPrintOperatorNewline","operator_position","OPERATOR_POSITION_BEFORE_OR_PRESERVE","last_type","newline_restricted_tokens","proposed_line_length","next_token","Statement","restore_mode","print_token_line_indentation","comma_first","popped","deindent","set_mode","flag_store","previous_flags","ArrayLiteral","is_expression","Expression","unindent_chained_methods","start_of_object_property","ObjectLiteral","start_of_statement","BlockStatement","last_last_text","all_lines_start_with","each_line_matches_indent","is_special_word","token_pos","handle_start_expr","next_mode","line_starters","space_in_paren","space_after_anon_function","space_before_conditional","handle_end_expr","space_in_empty_paren","handle_start_block","second_token","empty_braces","empty_anonymous_function","brace_preserve_inline","check_token","opened","handle_end_block","handle_word","jslint_happy","handle_semicolon","handle_string","handle_equals","handle_comma","handle_operator","isGeneratorAsterisk","isUnary","space_before","space_after","in_ternary","isColon","isTernaryColon","isOtherColon","after_newline","preserve_newline","handle_block_comment","directives","preserve","test_output_raw","javadoc","starless","lastIndent","lastIndentLength","handle_comment","handle_dot","break_chained_methods","handle_unknown","handle_eof","TK_START_EXPR","TK_END_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_WORD","TK_RESERVED","TK_SEMICOLON","TK_STRING","TK_EQUALS","TK_OPERATOR","TK_COMMA","TK_BLOCK_COMMENT","TK_COMMENT","TK_DOT","TK_UNKNOWN","TK_EOF","braces_on_own_line","brace_style_split","unescape_strings","e4x","Tokenizer","InputScanner","_input","_input_length","_position","back","hasNext","peekCharCode","testChar","pattern_match","comments_after","input_string","get_directives","directives_block_pattern","directive_pattern","directive_match","tokenize_next","resulting_string","whitespace_on_this_line","n_newlines","whitespace_before_token","digit","allow_decimal","allow_e","local_digit","digit_bin","digit_oct","digit_hex","reserved_words","comment_match","block_comment_pattern","ignore","directives_end_ignore_pattern","comment_pattern","startXmlRegExp","sep","esc","has_char_escapes","in_char_class","xmlRegExp","xmlStr","rootTag","isCurlyRoot","isEndTag","isSingletonTag","parse_string","allow_unescaped_newlines","start_sub","current_char","unescape_string","sharp","template_match","template_pattern","in_html_comment","punct","escaped","input_scan","token_values","open_stack","comments","constant","directive","$inject"],"mappings":"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","file":"codemirror.min.js","sourcesContent":["\n\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.CodeMirror = factory());\n}(this, (function () { 'use strict';\n\nvar userAgent = navigator.userAgent;\nvar platform = navigator.platform;\n\nvar gecko = /gecko\\/\\d/i.test(userAgent);\nvar ie_upto10 = /MSIE \\d/.test(userAgent);\nvar ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent);\nvar edge = /Edge\\/(\\d+)/.exec(userAgent);\nvar ie = ie_upto10 || ie_11up || edge;\nvar ie_version = ie && (ie_upto10 ? document.documentMode || 6 : +(edge || ie_11up)[1]);\nvar webkit = !edge && /WebKit\\//.test(userAgent);\nvar qtwebkit = webkit && /Qt\\/\\d+\\.\\d+/.test(userAgent);\nvar chrome = !edge && /Chrome\\//.test(userAgent);\nvar presto = /Opera\\//.test(userAgent);\nvar safari = /Apple Computer/.test(navigator.vendor);\nvar mac_geMountainLion = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent);\nvar phantom = /PhantomJS/.test(userAgent);\n\nvar ios = !edge && /AppleWebKit/.test(userAgent) && /Mobile\\/\\w+/.test(userAgent);\nvar android = /Android/.test(userAgent);\nvar mobile = ios || android || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);\nvar mac = ios || /Mac/.test(platform);\nvar chromeOS = /\\bCrOS\\b/.test(userAgent);\nvar windows = /win/i.test(platform);\n\nvar presto_version = presto && userAgent.match(/Version\\/(\\d*\\.\\d*)/);\nif (presto_version) { presto_version = Number(presto_version[1]); }\nif (presto_version && presto_version >= 15) { presto = false; webkit = true; }\nvar flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));\nvar captureRightClick = gecko || (ie && ie_version >= 9);\n\nfunction classTest(cls) { return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\") }\n\nvar rmClass = function(node, cls) {\n  var current = node.className;\n  var match = classTest(cls).exec(current);\n  if (match) {\n    var after = current.slice(match.index + match[0].length);\n    node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\");\n  }\n};\n\nfunction removeChildren(e) {\n  for (var count = e.childNodes.length; count > 0; --count)\n    { e.removeChild(e.firstChild); }\n  return e\n}\n\nfunction removeChildrenAndAdd(parent, e) {\n  return removeChildren(parent).appendChild(e)\n}\n\nfunction elt(tag, content, className, style) {\n  var e = document.createElement(tag);\n  if (className) { e.className = className; }\n  if (style) { e.style.cssText = style; }\n  if (typeof content == \"string\") { e.appendChild(document.createTextNode(content)); }\n  else if (content) { for (var i = 0; i < content.length; ++i) { e.appendChild(content[i]); } }\n  return e\n}\nfunction eltP(tag, content, className, style) {\n  var e = elt(tag, content, className, style);\n  e.setAttribute(\"role\", \"presentation\");\n  return e\n}\n\nvar range;\nif (document.createRange) { range = function(node, start, end, endNode) {\n  var r = document.createRange();\n  r.setEnd(endNode || node, end);\n  r.setStart(node, start);\n  return r\n}; }\nelse { range = function(node, start, end) {\n  var r = document.body.createTextRange();\n  try { r.moveToElementText(node.parentNode); }\n  catch(e) { return r }\n  r.collapse(true);\n  r.moveEnd(\"character\", end);\n  r.moveStart(\"character\", start);\n  return r\n}; }\n\nfunction contains(parent, child) {\n  if (child.nodeType == 3) \n    { child = child.parentNode; }\n  if (parent.contains)\n    { return parent.contains(child) }\n  do {\n    if (child.nodeType == 11) { child = child.host; }\n    if (child == parent) { return true }\n  } while (child = child.parentNode)\n}\n\nfunction activeElt() {\n  var activeElement;\n  try {\n    activeElement = document.activeElement;\n  } catch(e) {\n    activeElement = document.body || null;\n  }\n  while (activeElement && activeElement.shadowRoot && activeElement.shadowRoot.activeElement)\n    { activeElement = activeElement.shadowRoot.activeElement; }\n  return activeElement\n}\n\nfunction addClass(node, cls) {\n  var current = node.className;\n  if (!classTest(cls).test(current)) { node.className += (current ? \" \" : \"\") + cls; }\n}\nfunction joinClasses(a, b) {\n  var as = a.split(\" \");\n  for (var i = 0; i < as.length; i++)\n    { if (as[i] && !classTest(as[i]).test(b)) { b += \" \" + as[i]; } }\n  return b\n}\n\nvar selectInput = function(node) { node.select(); };\nif (ios) \n  { selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length; }; }\nelse if (ie) \n  { selectInput = function(node) { try { node.select(); } catch(_e) {} }; }\n\nfunction bind(f) {\n  var args = Array.prototype.slice.call(arguments, 1);\n  return function(){return f.apply(null, args)}\n}\n\nfunction copyObj(obj, target, overwrite) {\n  if (!target) { target = {}; }\n  for (var prop in obj)\n    { if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))\n      { target[prop] = obj[prop]; } }\n  return target\n}\n\nfunction countColumn(string, end, tabSize, startIndex, startValue) {\n  if (end == null) {\n    end = string.search(/[^\\s\\u00a0]/);\n    if (end == -1) { end = string.length; }\n  }\n  for (var i = startIndex || 0, n = startValue || 0;;) {\n    var nextTab = string.indexOf(\"\\t\", i);\n    if (nextTab < 0 || nextTab >= end)\n      { return n + (end - i) }\n    n += nextTab - i;\n    n += tabSize - (n % tabSize);\n    i = nextTab + 1;\n  }\n}\n\nvar Delayed = function() {this.id = null;};\nDelayed.prototype.set = function (ms, f) {\n  clearTimeout(this.id);\n  this.id = setTimeout(f, ms);\n};\n\nfunction indexOf(array, elt) {\n  for (var i = 0; i < array.length; ++i)\n    { if (array[i] == elt) { return i } }\n  return -1\n}\n\nvar scrollerGap = 30;\n\nvar Pass = {toString: function(){return \"CodeMirror.Pass\"}};\n\nvar sel_dontScroll = {scroll: false};\nvar sel_mouse = {origin: \"*mouse\"};\nvar sel_move = {origin: \"+move\"};\n\nfunction findColumn(string, goal, tabSize) {\n  for (var pos = 0, col = 0;;) {\n    var nextTab = string.indexOf(\"\\t\", pos);\n    if (nextTab == -1) { nextTab = string.length; }\n    var skipped = nextTab - pos;\n    if (nextTab == string.length || col + skipped >= goal)\n      { return pos + Math.min(skipped, goal - col) }\n    col += nextTab - pos;\n    col += tabSize - (col % tabSize);\n    pos = nextTab + 1;\n    if (col >= goal) { return pos }\n  }\n}\n\nvar spaceStrs = [\"\"];\nfunction spaceStr(n) {\n  while (spaceStrs.length <= n)\n    { spaceStrs.push(lst(spaceStrs) + \" \"); }\n  return spaceStrs[n]\n}\n\nfunction lst(arr) { return arr[arr.length-1] }\n\nfunction map(array, f) {\n  var out = [];\n  for (var i = 0; i < array.length; i++) { out[i] = f(array[i], i); }\n  return out\n}\n\nfunction insertSorted(array, value, score) {\n  var pos = 0, priority = score(value);\n  while (pos < array.length && score(array[pos]) <= priority) { pos++; }\n  array.splice(pos, 0, value);\n}\n\nfunction nothing() {}\n\nfunction createObj(base, props) {\n  var inst;\n  if (Object.create) {\n    inst = Object.create(base);\n  } else {\n    nothing.prototype = base;\n    inst = new nothing();\n  }\n  if (props) { copyObj(props, inst); }\n  return inst\n}\n\nvar nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\nfunction isWordCharBasic(ch) {\n  return /\\w/.test(ch) || ch > \"\\x80\" &&\n    (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch))\n}\nfunction isWordChar(ch, helper) {\n  if (!helper) { return isWordCharBasic(ch) }\n  if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) { return true }\n  return helper.test(ch)\n}\n\nfunction isEmpty(obj) {\n  for (var n in obj) { if (obj.hasOwnProperty(n) && obj[n]) { return false } }\n  return true\n}\n\nvar extendingChars = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;\nfunction isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch) }\n\nfunction skipExtendingChars(str, pos, dir) {\n  while ((dir < 0 ? pos > 0 : pos < str.length) && isExtendingChar(str.charAt(pos))) { pos += dir; }\n  return pos\n}\n\nfunction findFirst(pred, from, to) {\n  var dir = from > to ? -1 : 1;\n  for (;;) {\n    if (from == to) { return from }\n    var midF = (from + to) / 2, mid = dir < 0 ? Math.ceil(midF) : Math.floor(midF);\n    if (mid == from) { return pred(mid) ? from : to }\n    if (pred(mid)) { to = mid; }\n    else { from = mid + dir; }\n  }\n}\n\n\nfunction Display(place, doc, input) {\n  var d = this;\n  this.input = input;\n\n  d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\");\n  d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\");\n  d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\");\n  d.gutterFiller.setAttribute(\"cm-not-content\", \"true\");\n  d.lineDiv = eltP(\"div\", null, \"CodeMirror-code\");\n  d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\");\n  d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\");\n  d.measure = elt(\"div\", null, \"CodeMirror-measure\");\n  d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\");\n  d.lineSpace = eltP(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],\n                    null, \"position: relative; outline: none\");\n  var lines = eltP(\"div\", [d.lineSpace], \"CodeMirror-lines\");\n  d.mover = elt(\"div\", [lines], null, \"position: relative\");\n  d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\");\n  d.sizerWidth = null;\n  d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\");\n  d.gutters = elt(\"div\", null, \"CodeMirror-gutters\");\n  d.lineGutter = null;\n  d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\");\n  d.scroller.setAttribute(\"tabIndex\", \"-1\");\n  d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\");\n\n  if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0; }\n  if (!webkit && !(gecko && mobile)) { d.scroller.draggable = true; }\n\n  if (place) {\n    if (place.appendChild) { place.appendChild(d.wrapper); }\n    else { place(d.wrapper); }\n  }\n\n  d.viewFrom = d.viewTo = doc.first;\n  d.reportedViewFrom = d.reportedViewTo = doc.first;\n  d.view = [];\n  d.renderedView = null;\n  d.externalMeasured = null;\n  d.viewOffset = 0;\n  d.lastWrapHeight = d.lastWrapWidth = 0;\n  d.updateLineNumbers = null;\n\n  d.nativeBarWidth = d.barHeight = d.barWidth = 0;\n  d.scrollbarsClipped = false;\n\n  d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null;\n  d.alignWidgets = false;\n\n  d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n\n  d.maxLine = null;\n  d.maxLineLength = 0;\n  d.maxLineChanged = false;\n\n  d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null;\n\n  d.shift = false;\n\n  d.selForContextMenu = null;\n\n  d.activeTouch = null;\n\n  input.init(d);\n}\n\nfunction getLine(doc, n) {\n  n -= doc.first;\n  if (n < 0 || n >= doc.size) { throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\") }\n  var chunk = doc;\n  while (!chunk.lines) {\n    for (var i = 0;; ++i) {\n      var child = chunk.children[i], sz = child.chunkSize();\n      if (n < sz) { chunk = child; break }\n      n -= sz;\n    }\n  }\n  return chunk.lines[n]\n}\n\nfunction getBetween(doc, start, end) {\n  var out = [], n = start.line;\n  doc.iter(start.line, end.line + 1, function (line) {\n    var text = line.text;\n    if (n == end.line) { text = text.slice(0, end.ch); }\n    if (n == start.line) { text = text.slice(start.ch); }\n    out.push(text);\n    ++n;\n  });\n  return out\n}\nfunction getLines(doc, from, to) {\n  var out = [];\n  doc.iter(from, to, function (line) { out.push(line.text); }); \n  return out\n}\n\nfunction updateLineHeight(line, height) {\n  var diff = height - line.height;\n  if (diff) { for (var n = line; n; n = n.parent) { n.height += diff; } }\n}\n\nfunction lineNo(line) {\n  if (line.parent == null) { return null }\n  var cur = line.parent, no = indexOf(cur.lines, line);\n  for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n    for (var i = 0;; ++i) {\n      if (chunk.children[i] == cur) { break }\n      no += chunk.children[i].chunkSize();\n    }\n  }\n  return no + cur.first\n}\n\nfunction lineAtHeight(chunk, h) {\n  var n = chunk.first;\n  outer: do {\n    for (var i$1 = 0; i$1 < chunk.children.length; ++i$1) {\n      var child = chunk.children[i$1], ch = child.height;\n      if (h < ch) { chunk = child; continue outer }\n      h -= ch;\n      n += child.chunkSize();\n    }\n    return n\n  } while (!chunk.lines)\n  var i = 0;\n  for (; i < chunk.lines.length; ++i) {\n    var line = chunk.lines[i], lh = line.height;\n    if (h < lh) { break }\n    h -= lh;\n  }\n  return n + i\n}\n\nfunction isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size}\n\nfunction lineNumberFor(options, i) {\n  return String(options.lineNumberFormatter(i + options.firstLineNumber))\n}\n\nfunction Pos(line, ch, sticky) {\n  if ( sticky === void 0 ) sticky = null;\n\n  if (!(this instanceof Pos)) { return new Pos(line, ch, sticky) }\n  this.line = line;\n  this.ch = ch;\n  this.sticky = sticky;\n}\n\nfunction cmp(a, b) { return a.line - b.line || a.ch - b.ch }\n\nfunction equalCursorPos(a, b) { return a.sticky == b.sticky && cmp(a, b) == 0 }\n\nfunction copyPos(x) {return Pos(x.line, x.ch)}\nfunction maxPos(a, b) { return cmp(a, b) < 0 ? b : a }\nfunction minPos(a, b) { return cmp(a, b) < 0 ? a : b }\n\nfunction clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1))}\nfunction clipPos(doc, pos) {\n  if (pos.line < doc.first) { return Pos(doc.first, 0) }\n  var last = doc.first + doc.size - 1;\n  if (pos.line > last) { return Pos(last, getLine(doc, last).text.length) }\n  return clipToLen(pos, getLine(doc, pos.line).text.length)\n}\nfunction clipToLen(pos, linelen) {\n  var ch = pos.ch;\n  if (ch == null || ch > linelen) { return Pos(pos.line, linelen) }\n  else if (ch < 0) { return Pos(pos.line, 0) }\n  else { return pos }\n}\nfunction clipPosArray(doc, array) {\n  var out = [];\n  for (var i = 0; i < array.length; i++) { out[i] = clipPos(doc, array[i]); }\n  return out\n}\n\nvar sawReadOnlySpans = false;\nvar sawCollapsedSpans = false;\n\nfunction seeReadOnlySpans() {\n  sawReadOnlySpans = true;\n}\n\nfunction seeCollapsedSpans() {\n  sawCollapsedSpans = true;\n}\n\n\nfunction MarkedSpan(marker, from, to) {\n  this.marker = marker;\n  this.from = from; this.to = to;\n}\n\nfunction getMarkedSpanFor(spans, marker) {\n  if (spans) { for (var i = 0; i < spans.length; ++i) {\n    var span = spans[i];\n    if (span.marker == marker) { return span }\n  } }\n}\nfunction removeMarkedSpan(spans, span) {\n  var r;\n  for (var i = 0; i < spans.length; ++i)\n    { if (spans[i] != span) { (r || (r = [])).push(spans[i]); } }\n  return r\n}\nfunction addMarkedSpan(line, span) {\n  line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span];\n  span.marker.attachLine(line);\n}\n\nfunction markedSpansBefore(old, startCh, isInsert) {\n  var nw;\n  if (old) { for (var i = 0; i < old.length; ++i) {\n    var span = old[i], marker = span.marker;\n    var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);\n    if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\n      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh);(nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to));\n    }\n  } }\n  return nw\n}\nfunction markedSpansAfter(old, endCh, isInsert) {\n  var nw;\n  if (old) { for (var i = 0; i < old.length; ++i) {\n    var span = old[i], marker = span.marker;\n    var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);\n    if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\n      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh);(nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,\n                                            span.to == null ? null : span.to - endCh));\n    }\n  } }\n  return nw\n}\n\nfunction stretchSpansOverChange(doc, change) {\n  if (change.full) { return null }\n  var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans;\n  var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans;\n  if (!oldFirst && !oldLast) { return null }\n\n  var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0;\n  var first = markedSpansBefore(oldFirst, startCh, isInsert);\n  var last = markedSpansAfter(oldLast, endCh, isInsert);\n\n  var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0);\n  if (first) {\n    for (var i = 0; i < first.length; ++i) {\n      var span = first[i];\n      if (span.to == null) {\n        var found = getMarkedSpanFor(last, span.marker);\n        if (!found) { span.to = startCh; }\n        else if (sameLine) { span.to = found.to == null ? null : found.to + offset; }\n      }\n    }\n  }\n  if (last) {\n    for (var i$1 = 0; i$1 < last.length; ++i$1) {\n      var span$1 = last[i$1];\n      if (span$1.to != null) { span$1.to += offset; }\n      if (span$1.from == null) {\n        var found$1 = getMarkedSpanFor(first, span$1.marker);\n        if (!found$1) {\n          span$1.from = offset;\n          if (sameLine) { (first || (first = [])).push(span$1); }\n        }\n      } else {\n        span$1.from += offset;\n        if (sameLine) { (first || (first = [])).push(span$1); }\n      }\n    }\n  }\n  if (first) { first = clearEmptySpans(first); }\n  if (last && last != first) { last = clearEmptySpans(last); }\n\n  var newMarkers = [first];\n  if (!sameLine) {\n    var gap = change.text.length - 2, gapMarkers;\n    if (gap > 0 && first)\n      { for (var i$2 = 0; i$2 < first.length; ++i$2)\n        { if (first[i$2].to == null)\n          { (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$2].marker, null, null)); } } }\n    for (var i$3 = 0; i$3 < gap; ++i$3)\n      { newMarkers.push(gapMarkers); }\n    newMarkers.push(last);\n  }\n  return newMarkers\n}\n\nfunction clearEmptySpans(spans) {\n  for (var i = 0; i < spans.length; ++i) {\n    var span = spans[i];\n    if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)\n      { spans.splice(i--, 1); }\n  }\n  if (!spans.length) { return null }\n  return spans\n}\n\nfunction removeReadOnlyRanges(doc, from, to) {\n  var markers = null;\n  doc.iter(from.line, to.line + 1, function (line) {\n    if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n      var mark = line.markedSpans[i].marker;\n      if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))\n        { (markers || (markers = [])).push(mark); }\n    } }\n  });\n  if (!markers) { return null }\n  var parts = [{from: from, to: to}];\n  for (var i = 0; i < markers.length; ++i) {\n    var mk = markers[i], m = mk.find(0);\n    for (var j = 0; j < parts.length; ++j) {\n      var p = parts[j];\n      if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) { continue }\n      var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to);\n      if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)\n        { newParts.push({from: p.from, to: m.from}); }\n      if (dto > 0 || !mk.inclusiveRight && !dto)\n        { newParts.push({from: m.to, to: p.to}); }\n      parts.splice.apply(parts, newParts);\n      j += newParts.length - 3;\n    }\n  }\n  return parts\n}\n\nfunction detachMarkedSpans(line) {\n  var spans = line.markedSpans;\n  if (!spans) { return }\n  for (var i = 0; i < spans.length; ++i)\n    { spans[i].marker.detachLine(line); }\n  line.markedSpans = null;\n}\nfunction attachMarkedSpans(line, spans) {\n  if (!spans) { return }\n  for (var i = 0; i < spans.length; ++i)\n    { spans[i].marker.attachLine(line); }\n  line.markedSpans = spans;\n}\n\nfunction extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0 }\nfunction extraRight(marker) { return marker.inclusiveRight ? 1 : 0 }\n\nfunction compareCollapsedMarkers(a, b) {\n  var lenDiff = a.lines.length - b.lines.length;\n  if (lenDiff != 0) { return lenDiff }\n  var aPos = a.find(), bPos = b.find();\n  var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b);\n  if (fromCmp) { return -fromCmp }\n  var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b);\n  if (toCmp) { return toCmp }\n  return b.id - a.id\n}\n\nfunction collapsedSpanAtSide(line, start) {\n  var sps = sawCollapsedSpans && line.markedSpans, found;\n  if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n    sp = sps[i];\n    if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&\n        (!found || compareCollapsedMarkers(found, sp.marker) < 0))\n      { found = sp.marker; }\n  } }\n  return found\n}\nfunction collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true) }\nfunction collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false) }\n\nfunction conflictingCollapsedRange(doc, lineNo$$1, from, to, marker) {\n  var line = getLine(doc, lineNo$$1);\n  var sps = sawCollapsedSpans && line.markedSpans;\n  if (sps) { for (var i = 0; i < sps.length; ++i) {\n    var sp = sps[i];\n    if (!sp.marker.collapsed) { continue }\n    var found = sp.marker.find(0);\n    var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker);\n    var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker);\n    if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) { continue }\n    if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) ||\n        fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0))\n      { return true }\n  } }\n}\n\nfunction visualLine(line) {\n  var merged;\n  while (merged = collapsedSpanAtStart(line))\n    { line = merged.find(-1, true).line; }\n  return line\n}\n\nfunction visualLineEnd(line) {\n  var merged;\n  while (merged = collapsedSpanAtEnd(line))\n    { line = merged.find(1, true).line; }\n  return line\n}\n\nfunction visualLineContinued(line) {\n  var merged, lines;\n  while (merged = collapsedSpanAtEnd(line)) {\n    line = merged.find(1, true).line\n    ;(lines || (lines = [])).push(line);\n  }\n  return lines\n}\n\nfunction visualLineNo(doc, lineN) {\n  var line = getLine(doc, lineN), vis = visualLine(line);\n  if (line == vis) { return lineN }\n  return lineNo(vis)\n}\n\nfunction visualLineEndNo(doc, lineN) {\n  if (lineN > doc.lastLine()) { return lineN }\n  var line = getLine(doc, lineN), merged;\n  if (!lineIsHidden(doc, line)) { return lineN }\n  while (merged = collapsedSpanAtEnd(line))\n    { line = merged.find(1, true).line; }\n  return lineNo(line) + 1\n}\n\nfunction lineIsHidden(doc, line) {\n  var sps = sawCollapsedSpans && line.markedSpans;\n  if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n    sp = sps[i];\n    if (!sp.marker.collapsed) { continue }\n    if (sp.from == null) { return true }\n    if (sp.marker.widgetNode) { continue }\n    if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))\n      { return true }\n  } }\n}\nfunction lineIsHiddenInner(doc, line, span) {\n  if (span.to == null) {\n    var end = span.marker.find(1, true);\n    return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker))\n  }\n  if (span.marker.inclusiveRight && span.to == line.text.length)\n    { return true }\n  for (var sp = (void 0), i = 0; i < line.markedSpans.length; ++i) {\n    sp = line.markedSpans[i];\n    if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&\n        (sp.to == null || sp.to != span.from) &&\n        (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&\n        lineIsHiddenInner(doc, line, sp)) { return true }\n  }\n}\n\nfunction heightAtLine(lineObj) {\n  lineObj = visualLine(lineObj);\n\n  var h = 0, chunk = lineObj.parent;\n  for (var i = 0; i < chunk.lines.length; ++i) {\n    var line = chunk.lines[i];\n    if (line == lineObj) { break }\n    else { h += line.height; }\n  }\n  for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\n    for (var i$1 = 0; i$1 < p.children.length; ++i$1) {\n      var cur = p.children[i$1];\n      if (cur == chunk) { break }\n      else { h += cur.height; }\n    }\n  }\n  return h\n}\n\nfunction lineLength(line) {\n  if (line.height == 0) { return 0 }\n  var len = line.text.length, merged, cur = line;\n  while (merged = collapsedSpanAtStart(cur)) {\n    var found = merged.find(0, true);\n    cur = found.from.line;\n    len += found.from.ch - found.to.ch;\n  }\n  cur = line;\n  while (merged = collapsedSpanAtEnd(cur)) {\n    var found$1 = merged.find(0, true);\n    len -= cur.text.length - found$1.from.ch;\n    cur = found$1.to.line;\n    len += cur.text.length - found$1.to.ch;\n  }\n  return len\n}\n\nfunction findMaxLine(cm) {\n  var d = cm.display, doc = cm.doc;\n  d.maxLine = getLine(doc, doc.first);\n  d.maxLineLength = lineLength(d.maxLine);\n  d.maxLineChanged = true;\n  doc.iter(function (line) {\n    var len = lineLength(line);\n    if (len > d.maxLineLength) {\n      d.maxLineLength = len;\n      d.maxLine = line;\n    }\n  });\n}\n\n\nfunction iterateBidiSections(order, from, to, f) {\n  if (!order) { return f(from, to, \"ltr\", 0) }\n  var found = false;\n  for (var i = 0; i < order.length; ++i) {\n    var part = order[i];\n    if (part.from < to && part.to > from || from == to && part.to == from) {\n      f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\", i);\n      found = true;\n    }\n  }\n  if (!found) { f(from, to, \"ltr\"); }\n}\n\nvar bidiOther = null;\nfunction getBidiPartAt(order, ch, sticky) {\n  var found;\n  bidiOther = null;\n  for (var i = 0; i < order.length; ++i) {\n    var cur = order[i];\n    if (cur.from < ch && cur.to > ch) { return i }\n    if (cur.to == ch) {\n      if (cur.from != cur.to && sticky == \"before\") { found = i; }\n      else { bidiOther = i; }\n    }\n    if (cur.from == ch) {\n      if (cur.from != cur.to && sticky != \"before\") { found = i; }\n      else { bidiOther = i; }\n    }\n  }\n  return found != null ? found : bidiOther\n}\n\n\n\nvar bidiOrdering = (function() {\n  var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\";\n  var arabicTypes = \"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\";\n  function charType(code) {\n    if (code <= 0xf7) { return lowTypes.charAt(code) }\n    else if (0x590 <= code && code <= 0x5f4) { return \"R\" }\n    else if (0x600 <= code && code <= 0x6f9) { return arabicTypes.charAt(code - 0x600) }\n    else if (0x6ee <= code && code <= 0x8ac) { return \"r\" }\n    else if (0x2000 <= code && code <= 0x200b) { return \"w\" }\n    else if (code == 0x200c) { return \"b\" }\n    else { return \"L\" }\n  }\n\n  var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n  var isNeutral = /[stwN]/, isStrong = /[LRr]/, countsAsLeft = /[Lb1n]/, countsAsNum = /[1n]/;\n\n  function BidiSpan(level, from, to) {\n    this.level = level;\n    this.from = from; this.to = to;\n  }\n\n  return function(str, direction) {\n    var outerType = direction == \"ltr\" ? \"L\" : \"R\";\n\n    if (str.length == 0 || direction == \"ltr\" && !bidiRE.test(str)) { return false }\n    var len = str.length, types = [];\n    for (var i = 0; i < len; ++i)\n      { types.push(charType(str.charCodeAt(i))); }\n\n    for (var i$1 = 0, prev = outerType; i$1 < len; ++i$1) {\n      var type = types[i$1];\n      if (type == \"m\") { types[i$1] = prev; }\n      else { prev = type; }\n    }\n\n    for (var i$2 = 0, cur = outerType; i$2 < len; ++i$2) {\n      var type$1 = types[i$2];\n      if (type$1 == \"1\" && cur == \"r\") { types[i$2] = \"n\"; }\n      else if (isStrong.test(type$1)) { cur = type$1; if (type$1 == \"r\") { types[i$2] = \"R\"; } }\n    }\n\n    for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {\n      var type$2 = types[i$3];\n      if (type$2 == \"+\" && prev$1 == \"1\" && types[i$3+1] == \"1\") { types[i$3] = \"1\"; }\n      else if (type$2 == \",\" && prev$1 == types[i$3+1] &&\n               (prev$1 == \"1\" || prev$1 == \"n\")) { types[i$3] = prev$1; }\n      prev$1 = type$2;\n    }\n\n    for (var i$4 = 0; i$4 < len; ++i$4) {\n      var type$3 = types[i$4];\n      if (type$3 == \",\") { types[i$4] = \"N\"; }\n      else if (type$3 == \"%\") {\n        var end = (void 0);\n        for (end = i$4 + 1; end < len && types[end] == \"%\"; ++end) {}\n        var replace = (i$4 && types[i$4-1] == \"!\") || (end < len && types[end] == \"1\") ? \"1\" : \"N\";\n        for (var j = i$4; j < end; ++j) { types[j] = replace; }\n        i$4 = end - 1;\n      }\n    }\n\n    for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {\n      var type$4 = types[i$5];\n      if (cur$1 == \"L\" && type$4 == \"1\") { types[i$5] = \"L\"; }\n      else if (isStrong.test(type$4)) { cur$1 = type$4; }\n    }\n\n    for (var i$6 = 0; i$6 < len; ++i$6) {\n      if (isNeutral.test(types[i$6])) {\n        var end$1 = (void 0);\n        for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {}\n        var before = (i$6 ? types[i$6-1] : outerType) == \"L\";\n        var after = (end$1 < len ? types[end$1] : outerType) == \"L\";\n        var replace$1 = before == after ? (before ? \"L\" : \"R\") : outerType;\n        for (var j$1 = i$6; j$1 < end$1; ++j$1) { types[j$1] = replace$1; }\n        i$6 = end$1 - 1;\n      }\n    }\n\n    var order = [], m;\n    for (var i$7 = 0; i$7 < len;) {\n      if (countsAsLeft.test(types[i$7])) {\n        var start = i$7;\n        for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {}\n        order.push(new BidiSpan(0, start, i$7));\n      } else {\n        var pos = i$7, at = order.length;\n        for (++i$7; i$7 < len && types[i$7] != \"L\"; ++i$7) {}\n        for (var j$2 = pos; j$2 < i$7;) {\n          if (countsAsNum.test(types[j$2])) {\n            if (pos < j$2) { order.splice(at, 0, new BidiSpan(1, pos, j$2)); }\n            var nstart = j$2;\n            for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {}\n            order.splice(at, 0, new BidiSpan(2, nstart, j$2));\n            pos = j$2;\n          } else { ++j$2; }\n        }\n        if (pos < i$7) { order.splice(at, 0, new BidiSpan(1, pos, i$7)); }\n      }\n    }\n    if (direction == \"ltr\") {\n      if (order[0].level == 1 && (m = str.match(/^\\s+/))) {\n        order[0].from = m[0].length;\n        order.unshift(new BidiSpan(0, 0, m[0].length));\n      }\n      if (lst(order).level == 1 && (m = str.match(/\\s+$/))) {\n        lst(order).to -= m[0].length;\n        order.push(new BidiSpan(0, len - m[0].length, len));\n      }\n    }\n\n    return direction == \"rtl\" ? order.reverse() : order\n  }\n})();\n\nfunction getOrder(line, direction) {\n  var order = line.order;\n  if (order == null) { order = line.order = bidiOrdering(line.text, direction); }\n  return order\n}\n\n\n\nvar noHandlers = [];\n\nvar on = function(emitter, type, f) {\n  if (emitter.addEventListener) {\n    emitter.addEventListener(type, f, false);\n  } else if (emitter.attachEvent) {\n    emitter.attachEvent(\"on\" + type, f);\n  } else {\n    var map$$1 = emitter._handlers || (emitter._handlers = {});\n    map$$1[type] = (map$$1[type] || noHandlers).concat(f);\n  }\n};\n\nfunction getHandlers(emitter, type) {\n  return emitter._handlers && emitter._handlers[type] || noHandlers\n}\n\nfunction off(emitter, type, f) {\n  if (emitter.removeEventListener) {\n    emitter.removeEventListener(type, f, false);\n  } else if (emitter.detachEvent) {\n    emitter.detachEvent(\"on\" + type, f);\n  } else {\n    var map$$1 = emitter._handlers, arr = map$$1 && map$$1[type];\n    if (arr) {\n      var index = indexOf(arr, f);\n      if (index > -1)\n        { map$$1[type] = arr.slice(0, index).concat(arr.slice(index + 1)); }\n    }\n  }\n}\n\nfunction signal(emitter, type ) {\n  var handlers = getHandlers(emitter, type);\n  if (!handlers.length) { return }\n  var args = Array.prototype.slice.call(arguments, 2);\n  for (var i = 0; i < handlers.length; ++i) { handlers[i].apply(null, args); }\n}\n\nfunction signalDOMEvent(cm, e, override) {\n  if (typeof e == \"string\")\n    { e = {type: e, preventDefault: function() { this.defaultPrevented = true; }}; }\n  signal(cm, override || e.type, cm, e);\n  return e_defaultPrevented(e) || e.codemirrorIgnore\n}\n\nfunction signalCursorActivity(cm) {\n  var arr = cm._handlers && cm._handlers.cursorActivity;\n  if (!arr) { return }\n  var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = []);\n  for (var i = 0; i < arr.length; ++i) { if (indexOf(set, arr[i]) == -1)\n    { set.push(arr[i]); } }\n}\n\nfunction hasHandler(emitter, type) {\n  return getHandlers(emitter, type).length > 0\n}\n\nfunction eventMixin(ctor) {\n  ctor.prototype.on = function(type, f) {on(this, type, f);};\n  ctor.prototype.off = function(type, f) {off(this, type, f);};\n}\n\n\nfunction e_preventDefault(e) {\n  if (e.preventDefault) { e.preventDefault(); }\n  else { e.returnValue = false; }\n}\nfunction e_stopPropagation(e) {\n  if (e.stopPropagation) { e.stopPropagation(); }\n  else { e.cancelBubble = true; }\n}\nfunction e_defaultPrevented(e) {\n  return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false\n}\nfunction e_stop(e) {e_preventDefault(e); e_stopPropagation(e);}\n\nfunction e_target(e) {return e.target || e.srcElement}\nfunction e_button(e) {\n  var b = e.which;\n  if (b == null) {\n    if (e.button & 1) { b = 1; }\n    else if (e.button & 2) { b = 3; }\n    else if (e.button & 4) { b = 2; }\n  }\n  if (mac && e.ctrlKey && b == 1) { b = 3; }\n  return b\n}\n\nvar dragAndDrop = function() {\n  if (ie && ie_version < 9) { return false }\n  var div = elt('div');\n  return \"draggable\" in div || \"dragDrop\" in div\n}();\n\nvar zwspSupported;\nfunction zeroWidthElement(measure) {\n  if (zwspSupported == null) {\n    var test = elt(\"span\", \"\\u200b\");\n    removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]));\n    if (measure.firstChild.offsetHeight != 0)\n      { zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8); }\n  }\n  var node = zwspSupported ? elt(\"span\", \"\\u200b\") :\n    elt(\"span\", \"\\u00a0\", null, \"display: inline-block; width: 1px; margin-right: -1px\");\n  node.setAttribute(\"cm-text\", \"\");\n  return node\n}\n\nvar badBidiRects;\nfunction hasBadBidiRects(measure) {\n  if (badBidiRects != null) { return badBidiRects }\n  var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062eA\"));\n  var r0 = range(txt, 0, 1).getBoundingClientRect();\n  var r1 = range(txt, 1, 2).getBoundingClientRect();\n  removeChildren(measure);\n  if (!r0 || r0.left == r0.right) { return false } \n  return badBidiRects = (r1.right - r0.right < 3)\n}\n\nvar splitLinesAuto = \"\\n\\nb\".split(/\\n/).length != 3 ? function (string) {\n  var pos = 0, result = [], l = string.length;\n  while (pos <= l) {\n    var nl = string.indexOf(\"\\n\", pos);\n    if (nl == -1) { nl = string.length; }\n    var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl);\n    var rt = line.indexOf(\"\\r\");\n    if (rt != -1) {\n      result.push(line.slice(0, rt));\n      pos += rt + 1;\n    } else {\n      result.push(line);\n      pos = nl + 1;\n    }\n  }\n  return result\n} : function (string) { return string.split(/\\r\\n?|\\n/); };\n\nvar hasSelection = window.getSelection ? function (te) {\n  try { return te.selectionStart != te.selectionEnd }\n  catch(e) { return false }\n} : function (te) {\n  var range$$1;\n  try {range$$1 = te.ownerDocument.selection.createRange();}\n  catch(e) {}\n  if (!range$$1 || range$$1.parentElement() != te) { return false }\n  return range$$1.compareEndPoints(\"StartToEnd\", range$$1) != 0\n};\n\nvar hasCopyEvent = (function () {\n  var e = elt(\"div\");\n  if (\"oncopy\" in e) { return true }\n  e.setAttribute(\"oncopy\", \"return;\");\n  return typeof e.oncopy == \"function\"\n})();\n\nvar badZoomedRects = null;\nfunction hasBadZoomedRects(measure) {\n  if (badZoomedRects != null) { return badZoomedRects }\n  var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"));\n  var normal = node.getBoundingClientRect();\n  var fromRange = range(node, 0, 1).getBoundingClientRect();\n  return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1\n}\n\nvar modes = {};\nvar mimeModes = {};\n\nfunction defineMode(name, mode) {\n  if (arguments.length > 2)\n    { mode.dependencies = Array.prototype.slice.call(arguments, 2); }\n  modes[name] = mode;\n}\n\nfunction defineMIME(mime, spec) {\n  mimeModes[mime] = spec;\n}\n\nfunction resolveMode(spec) {\n  if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\n    spec = mimeModes[spec];\n  } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\n    var found = mimeModes[spec.name];\n    if (typeof found == \"string\") { found = {name: found}; }\n    spec = createObj(found, spec);\n    spec.name = found.name;\n  } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)) {\n    return resolveMode(\"application/xml\")\n  } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(spec)) {\n    return resolveMode(\"application/json\")\n  }\n  if (typeof spec == \"string\") { return {name: spec} }\n  else { return spec || {name: \"null\"} }\n}\n\nfunction getMode(options, spec) {\n  spec = resolveMode(spec);\n  var mfactory = modes[spec.name];\n  if (!mfactory) { return getMode(options, \"text/plain\") }\n  var modeObj = mfactory(options, spec);\n  if (modeExtensions.hasOwnProperty(spec.name)) {\n    var exts = modeExtensions[spec.name];\n    for (var prop in exts) {\n      if (!exts.hasOwnProperty(prop)) { continue }\n      if (modeObj.hasOwnProperty(prop)) { modeObj[\"_\" + prop] = modeObj[prop]; }\n      modeObj[prop] = exts[prop];\n    }\n  }\n  modeObj.name = spec.name;\n  if (spec.helperType) { modeObj.helperType = spec.helperType; }\n  if (spec.modeProps) { for (var prop$1 in spec.modeProps)\n    { modeObj[prop$1] = spec.modeProps[prop$1]; } }\n\n  return modeObj\n}\n\nvar modeExtensions = {};\nfunction extendMode(mode, properties) {\n  var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {});\n  copyObj(properties, exts);\n}\n\nfunction copyState(mode, state) {\n  if (state === true) { return state }\n  if (mode.copyState) { return mode.copyState(state) }\n  var nstate = {};\n  for (var n in state) {\n    var val = state[n];\n    if (val instanceof Array) { val = val.concat([]); }\n    nstate[n] = val;\n  }\n  return nstate\n}\n\nfunction innerMode(mode, state) {\n  var info;\n  while (mode.innerMode) {\n    info = mode.innerMode(state);\n    if (!info || info.mode == mode) { break }\n    state = info.state;\n    mode = info.mode;\n  }\n  return info || {mode: mode, state: state}\n}\n\nfunction startState(mode, a1, a2) {\n  return mode.startState ? mode.startState(a1, a2) : true\n}\n\n\n\nvar StringStream = function(string, tabSize, lineOracle) {\n  this.pos = this.start = 0;\n  this.string = string;\n  this.tabSize = tabSize || 8;\n  this.lastColumnPos = this.lastColumnValue = 0;\n  this.lineStart = 0;\n  this.lineOracle = lineOracle;\n};\n\nStringStream.prototype.eol = function () {return this.pos >= this.string.length};\nStringStream.prototype.sol = function () {return this.pos == this.lineStart};\nStringStream.prototype.peek = function () {return this.string.charAt(this.pos) || undefined};\nStringStream.prototype.next = function () {\n  if (this.pos < this.string.length)\n    { return this.string.charAt(this.pos++) }\n};\nStringStream.prototype.eat = function (match) {\n  var ch = this.string.charAt(this.pos);\n  var ok;\n  if (typeof match == \"string\") { ok = ch == match; }\n  else { ok = ch && (match.test ? match.test(ch) : match(ch)); }\n  if (ok) {++this.pos; return ch}\n};\nStringStream.prototype.eatWhile = function (match) {\n  var start = this.pos;\n  while (this.eat(match)){}\n  return this.pos > start\n};\nStringStream.prototype.eatSpace = function () {\n    var this$1 = this;\n\n  var start = this.pos;\n  while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) { ++this$1.pos; }\n  return this.pos > start\n};\nStringStream.prototype.skipToEnd = function () {this.pos = this.string.length;};\nStringStream.prototype.skipTo = function (ch) {\n  var found = this.string.indexOf(ch, this.pos);\n  if (found > -1) {this.pos = found; return true}\n};\nStringStream.prototype.backUp = function (n) {this.pos -= n;};\nStringStream.prototype.column = function () {\n  if (this.lastColumnPos < this.start) {\n    this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);\n    this.lastColumnPos = this.start;\n  }\n  return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n};\nStringStream.prototype.indentation = function () {\n  return countColumn(this.string, null, this.tabSize) -\n    (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n};\nStringStream.prototype.match = function (pattern, consume, caseInsensitive) {\n  if (typeof pattern == \"string\") {\n    var cased = function (str) { return caseInsensitive ? str.toLowerCase() : str; };\n    var substr = this.string.substr(this.pos, pattern.length);\n    if (cased(substr) == cased(pattern)) {\n      if (consume !== false) { this.pos += pattern.length; }\n      return true\n    }\n  } else {\n    var match = this.string.slice(this.pos).match(pattern);\n    if (match && match.index > 0) { return null }\n    if (match && consume !== false) { this.pos += match[0].length; }\n    return match\n  }\n};\nStringStream.prototype.current = function (){return this.string.slice(this.start, this.pos)};\nStringStream.prototype.hideFirstChars = function (n, inner) {\n  this.lineStart += n;\n  try { return inner() }\n  finally { this.lineStart -= n; }\n};\nStringStream.prototype.lookAhead = function (n) {\n  var oracle = this.lineOracle;\n  return oracle && oracle.lookAhead(n)\n};\nStringStream.prototype.baseToken = function () {\n  var oracle = this.lineOracle;\n  return oracle && oracle.baseToken(this.pos)\n};\n\nvar SavedContext = function(state, lookAhead) {\n  this.state = state;\n  this.lookAhead = lookAhead;\n};\n\nvar Context = function(doc, state, line, lookAhead) {\n  this.state = state;\n  this.doc = doc;\n  this.line = line;\n  this.maxLookAhead = lookAhead || 0;\n  this.baseTokens = null;\n  this.baseTokenPos = 1;\n};\n\nContext.prototype.lookAhead = function (n) {\n  var line = this.doc.getLine(this.line + n);\n  if (line != null && n > this.maxLookAhead) { this.maxLookAhead = n; }\n  return line\n};\n\nContext.prototype.baseToken = function (n) {\n    var this$1 = this;\n\n  if (!this.baseTokens) { return null }\n  while (this.baseTokens[this.baseTokenPos] <= n)\n    { this$1.baseTokenPos += 2; }\n  var type = this.baseTokens[this.baseTokenPos + 1];\n  return {type: type && type.replace(/( |^)overlay .*/, \"\"),\n          size: this.baseTokens[this.baseTokenPos] - n}\n};\n\nContext.prototype.nextLine = function () {\n  this.line++;\n  if (this.maxLookAhead > 0) { this.maxLookAhead--; }\n};\n\nContext.fromSaved = function (doc, saved, line) {\n  if (saved instanceof SavedContext)\n    { return new Context(doc, copyState(doc.mode, saved.state), line, saved.lookAhead) }\n  else\n    { return new Context(doc, copyState(doc.mode, saved), line) }\n};\n\nContext.prototype.save = function (copy) {\n  var state = copy !== false ? copyState(this.doc.mode, this.state) : this.state;\n  return this.maxLookAhead > 0 ? new SavedContext(state, this.maxLookAhead) : state\n};\n\n\nfunction highlightLine(cm, line, context, forceToEnd) {\n  var st = [cm.state.modeGen], lineClasses = {};\n  runMode(cm, line.text, cm.doc.mode, context, function (end, style) { return st.push(end, style); },\n          lineClasses, forceToEnd);\n  var state = context.state;\n\n  var loop = function ( o ) {\n    context.baseTokens = st;\n    var overlay = cm.state.overlays[o], i = 1, at = 0;\n    context.state = true;\n    runMode(cm, line.text, overlay.mode, context, function (end, style) {\n      var start = i;\n      while (at < end) {\n        var i_end = st[i];\n        if (i_end > end)\n          { st.splice(i, 1, end, st[i+1], i_end); }\n        i += 2;\n        at = Math.min(end, i_end);\n      }\n      if (!style) { return }\n      if (overlay.opaque) {\n        st.splice(start, i - start, end, \"overlay \" + style);\n        i = start + 2;\n      } else {\n        for (; start < i; start += 2) {\n          var cur = st[start+1];\n          st[start+1] = (cur ? cur + \" \" : \"\") + \"overlay \" + style;\n        }\n      }\n    }, lineClasses);\n    context.state = state;\n    context.baseTokens = null;\n    context.baseTokenPos = 1;\n  };\n\n  for (var o = 0; o < cm.state.overlays.length; ++o) loop( o );\n\n  return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null}\n}\n\nfunction getLineStyles(cm, line, updateFrontier) {\n  if (!line.styles || line.styles[0] != cm.state.modeGen) {\n    var context = getContextBefore(cm, lineNo(line));\n    var resetState = line.text.length > cm.options.maxHighlightLength && copyState(cm.doc.mode, context.state);\n    var result = highlightLine(cm, line, context);\n    if (resetState) { context.state = resetState; }\n    line.stateAfter = context.save(!resetState);\n    line.styles = result.styles;\n    if (result.classes) { line.styleClasses = result.classes; }\n    else if (line.styleClasses) { line.styleClasses = null; }\n    if (updateFrontier === cm.doc.highlightFrontier)\n      { cm.doc.modeFrontier = Math.max(cm.doc.modeFrontier, ++cm.doc.highlightFrontier); }\n  }\n  return line.styles\n}\n\nfunction getContextBefore(cm, n, precise) {\n  var doc = cm.doc, display = cm.display;\n  if (!doc.mode.startState) { return new Context(doc, true, n) }\n  var start = findStartLine(cm, n, precise);\n  var saved = start > doc.first && getLine(doc, start - 1).stateAfter;\n  var context = saved ? Context.fromSaved(doc, saved, start) : new Context(doc, startState(doc.mode), start);\n\n  doc.iter(start, n, function (line) {\n    processLine(cm, line.text, context);\n    var pos = context.line;\n    line.stateAfter = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo ? context.save() : null;\n    context.nextLine();\n  });\n  if (precise) { doc.modeFrontier = context.line; }\n  return context\n}\n\nfunction processLine(cm, text, context, startAt) {\n  var mode = cm.doc.mode;\n  var stream = new StringStream(text, cm.options.tabSize, context);\n  stream.start = stream.pos = startAt || 0;\n  if (text == \"\") { callBlankLine(mode, context.state); }\n  while (!stream.eol()) {\n    readToken(mode, stream, context.state);\n    stream.start = stream.pos;\n  }\n}\n\nfunction callBlankLine(mode, state) {\n  if (mode.blankLine) { return mode.blankLine(state) }\n  if (!mode.innerMode) { return }\n  var inner = innerMode(mode, state);\n  if (inner.mode.blankLine) { return inner.mode.blankLine(inner.state) }\n}\n\nfunction readToken(mode, stream, state, inner) {\n  for (var i = 0; i < 10; i++) {\n    if (inner) { inner[0] = innerMode(mode, state).mode; }\n    var style = mode.token(stream, state);\n    if (stream.pos > stream.start) { return style }\n  }\n  throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\")\n}\n\nvar Token = function(stream, type, state) {\n  this.start = stream.start; this.end = stream.pos;\n  this.string = stream.current();\n  this.type = type || null;\n  this.state = state;\n};\n\nfunction takeToken(cm, pos, precise, asArray) {\n  var doc = cm.doc, mode = doc.mode, style;\n  pos = clipPos(doc, pos);\n  var line = getLine(doc, pos.line), context = getContextBefore(cm, pos.line, precise);\n  var stream = new StringStream(line.text, cm.options.tabSize, context), tokens;\n  if (asArray) { tokens = []; }\n  while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\n    stream.start = stream.pos;\n    style = readToken(mode, stream, context.state);\n    if (asArray) { tokens.push(new Token(stream, style, copyState(doc.mode, context.state))); }\n  }\n  return asArray ? tokens : new Token(stream, style, context.state)\n}\n\nfunction extractLineClasses(type, output) {\n  if (type) { for (;;) {\n    var lineClass = type.match(/(?:^|\\s+)line-(background-)?(\\S+)/);\n    if (!lineClass) { break }\n    type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length);\n    var prop = lineClass[1] ? \"bgClass\" : \"textClass\";\n    if (output[prop] == null)\n      { output[prop] = lineClass[2]; }\n    else if (!(new RegExp(\"(?:^|\\s)\" + lineClass[2] + \"(?:$|\\s)\")).test(output[prop]))\n      { output[prop] += \" \" + lineClass[2]; }\n  } }\n  return type\n}\n\nfunction runMode(cm, text, mode, context, f, lineClasses, forceToEnd) {\n  var flattenSpans = mode.flattenSpans;\n  if (flattenSpans == null) { flattenSpans = cm.options.flattenSpans; }\n  var curStart = 0, curStyle = null;\n  var stream = new StringStream(text, cm.options.tabSize, context), style;\n  var inner = cm.options.addModeClass && [null];\n  if (text == \"\") { extractLineClasses(callBlankLine(mode, context.state), lineClasses); }\n  while (!stream.eol()) {\n    if (stream.pos > cm.options.maxHighlightLength) {\n      flattenSpans = false;\n      if (forceToEnd) { processLine(cm, text, context, stream.pos); }\n      stream.pos = text.length;\n      style = null;\n    } else {\n      style = extractLineClasses(readToken(mode, stream, context.state, inner), lineClasses);\n    }\n    if (inner) {\n      var mName = inner[0].name;\n      if (mName) { style = \"m-\" + (style ? mName + \" \" + style : mName); }\n    }\n    if (!flattenSpans || curStyle != style) {\n      while (curStart < stream.start) {\n        curStart = Math.min(stream.start, curStart + 5000);\n        f(curStart, curStyle);\n      }\n      curStyle = style;\n    }\n    stream.start = stream.pos;\n  }\n  while (curStart < stream.pos) {\n    var pos = Math.min(stream.pos, curStart + 5000);\n    f(pos, curStyle);\n    curStart = pos;\n  }\n}\n\nfunction findStartLine(cm, n, precise) {\n  var minindent, minline, doc = cm.doc;\n  var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100);\n  for (var search = n; search > lim; --search) {\n    if (search <= doc.first) { return doc.first }\n    var line = getLine(doc, search - 1), after = line.stateAfter;\n    if (after && (!precise || search + (after instanceof SavedContext ? after.lookAhead : 0) <= doc.modeFrontier))\n      { return search }\n    var indented = countColumn(line.text, null, cm.options.tabSize);\n    if (minline == null || minindent > indented) {\n      minline = search - 1;\n      minindent = indented;\n    }\n  }\n  return minline\n}\n\nfunction retreatFrontier(doc, n) {\n  doc.modeFrontier = Math.min(doc.modeFrontier, n);\n  if (doc.highlightFrontier < n - 10) { return }\n  var start = doc.first;\n  for (var line = n - 1; line > start; line--) {\n    var saved = getLine(doc, line).stateAfter;\n    if (saved && (!(saved instanceof SavedContext) || line + saved.lookAhead < n)) {\n      start = line + 1;\n      break\n    }\n  }\n  doc.highlightFrontier = Math.min(doc.highlightFrontier, start);\n}\n\n\nvar Line = function(text, markedSpans, estimateHeight) {\n  this.text = text;\n  attachMarkedSpans(this, markedSpans);\n  this.height = estimateHeight ? estimateHeight(this) : 1;\n};\n\nLine.prototype.lineNo = function () { return lineNo(this) };\neventMixin(Line);\n\nfunction updateLine(line, text, markedSpans, estimateHeight) {\n  line.text = text;\n  if (line.stateAfter) { line.stateAfter = null; }\n  if (line.styles) { line.styles = null; }\n  if (line.order != null) { line.order = null; }\n  detachMarkedSpans(line);\n  attachMarkedSpans(line, markedSpans);\n  var estHeight = estimateHeight ? estimateHeight(line) : 1;\n  if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n}\n\nfunction cleanUpLine(line) {\n  line.parent = null;\n  detachMarkedSpans(line);\n}\n\nvar styleToClassCache = {};\nvar styleToClassCacheWithMode = {};\nfunction interpretTokenStyle(style, options) {\n  if (!style || /^\\s*$/.test(style)) { return null }\n  var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache;\n  return cache[style] ||\n    (cache[style] = style.replace(/\\S+/g, \"cm-$&\"))\n}\n\nfunction buildLineContent(cm, lineView) {\n  var content = eltP(\"span\", null, null, webkit ? \"padding-right: .1px\" : null);\n  var builder = {pre: eltP(\"pre\", [content], \"CodeMirror-line\"), content: content,\n                 col: 0, pos: 0, cm: cm,\n                 trailingSpace: false,\n                 splitSpaces: (ie || webkit) && cm.getOption(\"lineWrapping\")};\n  lineView.measure = {};\n\n  for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\n    var line = i ? lineView.rest[i - 1] : lineView.line, order = (void 0);\n    builder.pos = 0;\n    builder.addToken = buildToken;\n    if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line, cm.doc.direction)))\n      { builder.addToken = buildTokenBadBidi(builder.addToken, order); }\n    builder.map = [];\n    var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line);\n    insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate));\n    if (line.styleClasses) {\n      if (line.styleClasses.bgClass)\n        { builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\"); }\n      if (line.styleClasses.textClass)\n        { builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\"); }\n    }\n\n    if (builder.map.length == 0)\n      { builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure))); }\n\n    if (i == 0) {\n      lineView.measure.map = builder.map;\n      lineView.measure.cache = {};\n    } else {\n      (lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map)\n      ;(lineView.measure.caches || (lineView.measure.caches = [])).push({});\n    }\n  }\n\n  if (webkit) {\n    var last = builder.content.lastChild;\n    if (/\\bcm-tab\\b/.test(last.className) || (last.querySelector && last.querySelector(\".cm-tab\")))\n      { builder.content.className = \"cm-tab-wrap-hack\"; }\n  }\n\n  signal(cm, \"renderLine\", cm, lineView.line, builder.pre);\n  if (builder.pre.className)\n    { builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\"); }\n\n  return builder\n}\n\nfunction defaultSpecialCharPlaceholder(ch) {\n  var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\");\n  token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16);\n  token.setAttribute(\"aria-label\", token.title);\n  return token\n}\n\nfunction buildToken(builder, text, style, startStyle, endStyle, title, css) {\n  if (!text) { return }\n  var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text;\n  var special = builder.cm.state.specialChars, mustWrap = false;\n  var content;\n  if (!special.test(text)) {\n    builder.col += text.length;\n    content = document.createTextNode(displayText);\n    builder.map.push(builder.pos, builder.pos + text.length, content);\n    if (ie && ie_version < 9) { mustWrap = true; }\n    builder.pos += text.length;\n  } else {\n    content = document.createDocumentFragment();\n    var pos = 0;\n    while (true) {\n      special.lastIndex = pos;\n      var m = special.exec(text);\n      var skipped = m ? m.index - pos : text.length - pos;\n      if (skipped) {\n        var txt = document.createTextNode(displayText.slice(pos, pos + skipped));\n        if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt])); }\n        else { content.appendChild(txt); }\n        builder.map.push(builder.pos, builder.pos + skipped, txt);\n        builder.col += skipped;\n        builder.pos += skipped;\n      }\n      if (!m) { break }\n      pos += skipped + 1;\n      var txt$1 = (void 0);\n      if (m[0] == \"\\t\") {\n        var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize;\n        txt$1 = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"));\n        txt$1.setAttribute(\"role\", \"presentation\");\n        txt$1.setAttribute(\"cm-text\", \"\\t\");\n        builder.col += tabWidth;\n      } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\n        txt$1 = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240d\" : \"\\u2424\", \"cm-invalidchar\"));\n        txt$1.setAttribute(\"cm-text\", m[0]);\n        builder.col += 1;\n      } else {\n        txt$1 = builder.cm.options.specialCharPlaceholder(m[0]);\n        txt$1.setAttribute(\"cm-text\", m[0]);\n        if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt$1])); }\n        else { content.appendChild(txt$1); }\n        builder.col += 1;\n      }\n      builder.map.push(builder.pos, builder.pos + 1, txt$1);\n      builder.pos++;\n    }\n  }\n  builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32;\n  if (style || startStyle || endStyle || mustWrap || css) {\n    var fullStyle = style || \"\";\n    if (startStyle) { fullStyle += startStyle; }\n    if (endStyle) { fullStyle += endStyle; }\n    var token = elt(\"span\", [content], fullStyle, css);\n    if (title) { token.title = title; }\n    return builder.content.appendChild(token)\n  }\n  builder.content.appendChild(content);\n}\n\nfunction splitSpaces(text, trailingBefore) {\n  if (text.length > 1 && !/  /.test(text)) { return text }\n  var spaceBefore = trailingBefore, result = \"\";\n  for (var i = 0; i < text.length; i++) {\n    var ch = text.charAt(i);\n    if (ch == \" \" && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32))\n      { ch = \"\\u00a0\"; }\n    result += ch;\n    spaceBefore = ch == \" \";\n  }\n  return result\n}\n\nfunction buildTokenBadBidi(inner, order) {\n  return function (builder, text, style, startStyle, endStyle, title, css) {\n    style = style ? style + \" cm-force-border\" : \"cm-force-border\";\n    var start = builder.pos, end = start + text.length;\n    for (;;) {\n      var part = (void 0);\n      for (var i = 0; i < order.length; i++) {\n        part = order[i];\n        if (part.to > start && part.from <= start) { break }\n      }\n      if (part.to >= end) { return inner(builder, text, style, startStyle, endStyle, title, css) }\n      inner(builder, text.slice(0, part.to - start), style, startStyle, null, title, css);\n      startStyle = null;\n      text = text.slice(part.to - start);\n      start = part.to;\n    }\n  }\n}\n\nfunction buildCollapsedSpan(builder, size, marker, ignoreWidget) {\n  var widget = !ignoreWidget && marker.widgetNode;\n  if (widget) { builder.map.push(builder.pos, builder.pos + size, widget); }\n  if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\n    if (!widget)\n      { widget = builder.content.appendChild(document.createElement(\"span\")); }\n    widget.setAttribute(\"cm-marker\", marker.id);\n  }\n  if (widget) {\n    builder.cm.display.input.setUneditable(widget);\n    builder.content.appendChild(widget);\n  }\n  builder.pos += size;\n  builder.trailingSpace = false;\n}\n\nfunction insertLineContent(line, builder, styles) {\n  var spans = line.markedSpans, allText = line.text, at = 0;\n  if (!spans) {\n    for (var i$1 = 1; i$1 < styles.length; i$1+=2)\n      { builder.addToken(builder, allText.slice(at, at = styles[i$1]), interpretTokenStyle(styles[i$1+1], builder.cm.options)); }\n    return\n  }\n\n  var len = allText.length, pos = 0, i = 1, text = \"\", style, css;\n  var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, title, collapsed;\n  for (;;) {\n    if (nextChange == pos) { \n      spanStyle = spanEndStyle = spanStartStyle = title = css = \"\";\n      collapsed = null; nextChange = Infinity;\n      var foundBookmarks = [], endStyles = (void 0);\n      for (var j = 0; j < spans.length; ++j) {\n        var sp = spans[j], m = sp.marker;\n        if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\n          foundBookmarks.push(m);\n        } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\n          if (sp.to != null && sp.to != pos && nextChange > sp.to) {\n            nextChange = sp.to;\n            spanEndStyle = \"\";\n          }\n          if (m.className) { spanStyle += \" \" + m.className; }\n          if (m.css) { css = (css ? css + \";\" : \"\") + m.css; }\n          if (m.startStyle && sp.from == pos) { spanStartStyle += \" \" + m.startStyle; }\n          if (m.endStyle && sp.to == nextChange) { (endStyles || (endStyles = [])).push(m.endStyle, sp.to); }\n          if (m.title && !title) { title = m.title; }\n          if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))\n            { collapsed = sp; }\n        } else if (sp.from > pos && nextChange > sp.from) {\n          nextChange = sp.from;\n        }\n      }\n      if (endStyles) { for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2)\n        { if (endStyles[j$1 + 1] == nextChange) { spanEndStyle += \" \" + endStyles[j$1]; } } }\n\n      if (!collapsed || collapsed.from == pos) { for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2)\n        { buildCollapsedSpan(builder, 0, foundBookmarks[j$2]); } }\n      if (collapsed && (collapsed.from || 0) == pos) {\n        buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,\n                           collapsed.marker, collapsed.from == null);\n        if (collapsed.to == null) { return }\n        if (collapsed.to == pos) { collapsed = false; }\n      }\n    }\n    if (pos >= len) { break }\n\n    var upto = Math.min(len, nextChange);\n    while (true) {\n      if (text) {\n        var end = pos + text.length;\n        if (!collapsed) {\n          var tokenText = end > upto ? text.slice(0, upto - pos) : text;\n          builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,\n                           spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", title, css);\n        }\n        if (end >= upto) {text = text.slice(upto - pos); pos = upto; break}\n        pos = end;\n        spanStartStyle = \"\";\n      }\n      text = allText.slice(at, at = styles[i++]);\n      style = interpretTokenStyle(styles[i++], builder.cm.options);\n    }\n  }\n}\n\n\nfunction LineView(doc, line, lineN) {\n  this.line = line;\n  this.rest = visualLineContinued(line);\n  this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1;\n  this.node = this.text = null;\n  this.hidden = lineIsHidden(doc, line);\n}\n\nfunction buildViewArray(cm, from, to) {\n  var array = [], nextPos;\n  for (var pos = from; pos < to; pos = nextPos) {\n    var view = new LineView(cm.doc, getLine(cm.doc, pos), pos);\n    nextPos = pos + view.size;\n    array.push(view);\n  }\n  return array\n}\n\nvar operationGroup = null;\n\nfunction pushOperation(op) {\n  if (operationGroup) {\n    operationGroup.ops.push(op);\n  } else {\n    op.ownsGroup = operationGroup = {\n      ops: [op],\n      delayedCallbacks: []\n    };\n  }\n}\n\nfunction fireCallbacksForOps(group) {\n  var callbacks = group.delayedCallbacks, i = 0;\n  do {\n    for (; i < callbacks.length; i++)\n      { callbacks[i].call(null); }\n    for (var j = 0; j < group.ops.length; j++) {\n      var op = group.ops[j];\n      if (op.cursorActivityHandlers)\n        { while (op.cursorActivityCalled < op.cursorActivityHandlers.length)\n          { op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm); } }\n    }\n  } while (i < callbacks.length)\n}\n\nfunction finishOperation(op, endCb) {\n  var group = op.ownsGroup;\n  if (!group) { return }\n\n  try { fireCallbacksForOps(group); }\n  finally {\n    operationGroup = null;\n    endCb(group);\n  }\n}\n\nvar orphanDelayedCallbacks = null;\n\nfunction signalLater(emitter, type ) {\n  var arr = getHandlers(emitter, type);\n  if (!arr.length) { return }\n  var args = Array.prototype.slice.call(arguments, 2), list;\n  if (operationGroup) {\n    list = operationGroup.delayedCallbacks;\n  } else if (orphanDelayedCallbacks) {\n    list = orphanDelayedCallbacks;\n  } else {\n    list = orphanDelayedCallbacks = [];\n    setTimeout(fireOrphanDelayed, 0);\n  }\n  var loop = function ( i ) {\n    list.push(function () { return arr[i].apply(null, args); });\n  };\n\n  for (var i = 0; i < arr.length; ++i)\n    loop( i );\n}\n\nfunction fireOrphanDelayed() {\n  var delayed = orphanDelayedCallbacks;\n  orphanDelayedCallbacks = null;\n  for (var i = 0; i < delayed.length; ++i) { delayed[i](); }\n}\n\nfunction updateLineForChanges(cm, lineView, lineN, dims) {\n  for (var j = 0; j < lineView.changes.length; j++) {\n    var type = lineView.changes[j];\n    if (type == \"text\") { updateLineText(cm, lineView); }\n    else if (type == \"gutter\") { updateLineGutter(cm, lineView, lineN, dims); }\n    else if (type == \"class\") { updateLineClasses(cm, lineView); }\n    else if (type == \"widget\") { updateLineWidgets(cm, lineView, dims); }\n  }\n  lineView.changes = null;\n}\n\nfunction ensureLineWrapped(lineView) {\n  if (lineView.node == lineView.text) {\n    lineView.node = elt(\"div\", null, null, \"position: relative\");\n    if (lineView.text.parentNode)\n      { lineView.text.parentNode.replaceChild(lineView.node, lineView.text); }\n    lineView.node.appendChild(lineView.text);\n    if (ie && ie_version < 8) { lineView.node.style.zIndex = 2; }\n  }\n  return lineView.node\n}\n\nfunction updateLineBackground(cm, lineView) {\n  var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass;\n  if (cls) { cls += \" CodeMirror-linebackground\"; }\n  if (lineView.background) {\n    if (cls) { lineView.background.className = cls; }\n    else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null; }\n  } else if (cls) {\n    var wrap = ensureLineWrapped(lineView);\n    lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild);\n    cm.display.input.setUneditable(lineView.background);\n  }\n}\n\nfunction getLineContent(cm, lineView) {\n  var ext = cm.display.externalMeasured;\n  if (ext && ext.line == lineView.line) {\n    cm.display.externalMeasured = null;\n    lineView.measure = ext.measure;\n    return ext.built\n  }\n  return buildLineContent(cm, lineView)\n}\n\nfunction updateLineText(cm, lineView) {\n  var cls = lineView.text.className;\n  var built = getLineContent(cm, lineView);\n  if (lineView.text == lineView.node) { lineView.node = built.pre; }\n  lineView.text.parentNode.replaceChild(built.pre, lineView.text);\n  lineView.text = built.pre;\n  if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\n    lineView.bgClass = built.bgClass;\n    lineView.textClass = built.textClass;\n    updateLineClasses(cm, lineView);\n  } else if (cls) {\n    lineView.text.className = cls;\n  }\n}\n\nfunction updateLineClasses(cm, lineView) {\n  updateLineBackground(cm, lineView);\n  if (lineView.line.wrapClass)\n    { ensureLineWrapped(lineView).className = lineView.line.wrapClass; }\n  else if (lineView.node != lineView.text)\n    { lineView.node.className = \"\"; }\n  var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass;\n  lineView.text.className = textClass || \"\";\n}\n\nfunction updateLineGutter(cm, lineView, lineN, dims) {\n  if (lineView.gutter) {\n    lineView.node.removeChild(lineView.gutter);\n    lineView.gutter = null;\n  }\n  if (lineView.gutterBackground) {\n    lineView.node.removeChild(lineView.gutterBackground);\n    lineView.gutterBackground = null;\n  }\n  if (lineView.line.gutterClass) {\n    var wrap = ensureLineWrapped(lineView);\n    lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass,\n                                    (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px; width: \" + (dims.gutterTotalWidth) + \"px\"));\n    cm.display.input.setUneditable(lineView.gutterBackground);\n    wrap.insertBefore(lineView.gutterBackground, lineView.text);\n  }\n  var markers = lineView.line.gutterMarkers;\n  if (cm.options.lineNumbers || markers) {\n    var wrap$1 = ensureLineWrapped(lineView);\n    var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\"));\n    cm.display.input.setUneditable(gutterWrap);\n    wrap$1.insertBefore(gutterWrap, lineView.text);\n    if (lineView.line.gutterClass)\n      { gutterWrap.className += \" \" + lineView.line.gutterClass; }\n    if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"]))\n      { lineView.lineNumber = gutterWrap.appendChild(\n        elt(\"div\", lineNumberFor(cm.options, lineN),\n            \"CodeMirror-linenumber CodeMirror-gutter-elt\",\n            (\"left: \" + (dims.gutterLeft[\"CodeMirror-linenumbers\"]) + \"px; width: \" + (cm.display.lineNumInnerWidth) + \"px\"))); }\n    if (markers) { for (var k = 0; k < cm.options.gutters.length; ++k) {\n      var id = cm.options.gutters[k], found = markers.hasOwnProperty(id) && markers[id];\n      if (found)\n        { gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\",\n                                   (\"left: \" + (dims.gutterLeft[id]) + \"px; width: \" + (dims.gutterWidth[id]) + \"px\"))); }\n    } }\n  }\n}\n\nfunction updateLineWidgets(cm, lineView, dims) {\n  if (lineView.alignable) { lineView.alignable = null; }\n  for (var node = lineView.node.firstChild, next = (void 0); node; node = next) {\n    next = node.nextSibling;\n    if (node.className == \"CodeMirror-linewidget\")\n      { lineView.node.removeChild(node); }\n  }\n  insertLineWidgets(cm, lineView, dims);\n}\n\nfunction buildLineElement(cm, lineView, lineN, dims) {\n  var built = getLineContent(cm, lineView);\n  lineView.text = lineView.node = built.pre;\n  if (built.bgClass) { lineView.bgClass = built.bgClass; }\n  if (built.textClass) { lineView.textClass = built.textClass; }\n\n  updateLineClasses(cm, lineView);\n  updateLineGutter(cm, lineView, lineN, dims);\n  insertLineWidgets(cm, lineView, dims);\n  return lineView.node\n}\n\nfunction insertLineWidgets(cm, lineView, dims) {\n  insertLineWidgetsFor(cm, lineView.line, lineView, dims, true);\n  if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n    { insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false); } }\n}\n\nfunction insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\n  if (!line.widgets) { return }\n  var wrap = ensureLineWrapped(lineView);\n  for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\n    var widget = ws[i], node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\");\n    if (!widget.handleMouseEvents) { node.setAttribute(\"cm-ignore-events\", \"true\"); }\n    positionLineWidget(widget, node, lineView, dims);\n    cm.display.input.setUneditable(node);\n    if (allowAbove && widget.above)\n      { wrap.insertBefore(node, lineView.gutter || lineView.text); }\n    else\n      { wrap.appendChild(node); }\n    signalLater(widget, \"redraw\");\n  }\n}\n\nfunction positionLineWidget(widget, node, lineView, dims) {\n  if (widget.noHScroll) {\n    (lineView.alignable || (lineView.alignable = [])).push(node);\n    var width = dims.wrapperWidth;\n    node.style.left = dims.fixedPos + \"px\";\n    if (!widget.coverGutter) {\n      width -= dims.gutterTotalWidth;\n      node.style.paddingLeft = dims.gutterTotalWidth + \"px\";\n    }\n    node.style.width = width + \"px\";\n  }\n  if (widget.coverGutter) {\n    node.style.zIndex = 5;\n    node.style.position = \"relative\";\n    if (!widget.noHScroll) { node.style.marginLeft = -dims.gutterTotalWidth + \"px\"; }\n  }\n}\n\nfunction widgetHeight(widget) {\n  if (widget.height != null) { return widget.height }\n  var cm = widget.doc.cm;\n  if (!cm) { return 0 }\n  if (!contains(document.body, widget.node)) {\n    var parentStyle = \"position: relative;\";\n    if (widget.coverGutter)\n      { parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\"; }\n    if (widget.noHScroll)\n      { parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\"; }\n    removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle));\n  }\n  return widget.height = widget.node.parentNode.offsetHeight\n}\n\nfunction eventInWidget(display, e) {\n  for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\n    if (!n || (n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\") ||\n        (n.parentNode == display.sizer && n != display.mover))\n      { return true }\n  }\n}\n\n\nfunction paddingTop(display) {return display.lineSpace.offsetTop}\nfunction paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight}\nfunction paddingH(display) {\n  if (display.cachedPaddingH) { return display.cachedPaddingH }\n  var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\"));\n  var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle;\n  var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)};\n  if (!isNaN(data.left) && !isNaN(data.right)) { display.cachedPaddingH = data; }\n  return data\n}\n\nfunction scrollGap(cm) { return scrollerGap - cm.display.nativeBarWidth }\nfunction displayWidth(cm) {\n  return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth\n}\nfunction displayHeight(cm) {\n  return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight\n}\n\nfunction ensureLineHeights(cm, lineView, rect) {\n  var wrapping = cm.options.lineWrapping;\n  var curWidth = wrapping && displayWidth(cm);\n  if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\n    var heights = lineView.measure.heights = [];\n    if (wrapping) {\n      lineView.measure.width = curWidth;\n      var rects = lineView.text.firstChild.getClientRects();\n      for (var i = 0; i < rects.length - 1; i++) {\n        var cur = rects[i], next = rects[i + 1];\n        if (Math.abs(cur.bottom - next.bottom) > 2)\n          { heights.push((cur.bottom + next.top) / 2 - rect.top); }\n      }\n    }\n    heights.push(rect.bottom - rect.top);\n  }\n}\n\nfunction mapFromLineView(lineView, line, lineN) {\n  if (lineView.line == line)\n    { return {map: lineView.measure.map, cache: lineView.measure.cache} }\n  for (var i = 0; i < lineView.rest.length; i++)\n    { if (lineView.rest[i] == line)\n      { return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]} } }\n  for (var i$1 = 0; i$1 < lineView.rest.length; i$1++)\n    { if (lineNo(lineView.rest[i$1]) > lineN)\n      { return {map: lineView.measure.maps[i$1], cache: lineView.measure.caches[i$1], before: true} } }\n}\n\nfunction updateExternalMeasurement(cm, line) {\n  line = visualLine(line);\n  var lineN = lineNo(line);\n  var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN);\n  view.lineN = lineN;\n  var built = view.built = buildLineContent(cm, view);\n  view.text = built.pre;\n  removeChildrenAndAdd(cm.display.lineMeasure, built.pre);\n  return view\n}\n\nfunction measureChar(cm, line, ch, bias) {\n  return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias)\n}\n\nfunction findViewForLine(cm, lineN) {\n  if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)\n    { return cm.display.view[findViewIndex(cm, lineN)] }\n  var ext = cm.display.externalMeasured;\n  if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)\n    { return ext }\n}\n\nfunction prepareMeasureForLine(cm, line) {\n  var lineN = lineNo(line);\n  var view = findViewForLine(cm, lineN);\n  if (view && !view.text) {\n    view = null;\n  } else if (view && view.changes) {\n    updateLineForChanges(cm, view, lineN, getDimensions(cm));\n    cm.curOp.forceUpdate = true;\n  }\n  if (!view)\n    { view = updateExternalMeasurement(cm, line); }\n\n  var info = mapFromLineView(view, line, lineN);\n  return {\n    line: line, view: view, rect: null,\n    map: info.map, cache: info.cache, before: info.before,\n    hasHeights: false\n  }\n}\n\nfunction measureCharPrepared(cm, prepared, ch, bias, varHeight) {\n  if (prepared.before) { ch = -1; }\n  var key = ch + (bias || \"\"), found;\n  if (prepared.cache.hasOwnProperty(key)) {\n    found = prepared.cache[key];\n  } else {\n    if (!prepared.rect)\n      { prepared.rect = prepared.view.text.getBoundingClientRect(); }\n    if (!prepared.hasHeights) {\n      ensureLineHeights(cm, prepared.view, prepared.rect);\n      prepared.hasHeights = true;\n    }\n    found = measureCharInner(cm, prepared, ch, bias);\n    if (!found.bogus) { prepared.cache[key] = found; }\n  }\n  return {left: found.left, right: found.right,\n          top: varHeight ? found.rtop : found.top,\n          bottom: varHeight ? found.rbottom : found.bottom}\n}\n\nvar nullRect = {left: 0, right: 0, top: 0, bottom: 0};\n\nfunction nodeAndOffsetInLineMap(map$$1, ch, bias) {\n  var node, start, end, collapse, mStart, mEnd;\n  for (var i = 0; i < map$$1.length; i += 3) {\n    mStart = map$$1[i];\n    mEnd = map$$1[i + 1];\n    if (ch < mStart) {\n      start = 0; end = 1;\n      collapse = \"left\";\n    } else if (ch < mEnd) {\n      start = ch - mStart;\n      end = start + 1;\n    } else if (i == map$$1.length - 3 || ch == mEnd && map$$1[i + 3] > ch) {\n      end = mEnd - mStart;\n      start = end - 1;\n      if (ch >= mEnd) { collapse = \"right\"; }\n    }\n    if (start != null) {\n      node = map$$1[i + 2];\n      if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\"))\n        { collapse = bias; }\n      if (bias == \"left\" && start == 0)\n        { while (i && map$$1[i - 2] == map$$1[i - 3] && map$$1[i - 1].insertLeft) {\n          node = map$$1[(i -= 3) + 2];\n          collapse = \"left\";\n        } }\n      if (bias == \"right\" && start == mEnd - mStart)\n        { while (i < map$$1.length - 3 && map$$1[i + 3] == map$$1[i + 4] && !map$$1[i + 5].insertLeft) {\n          node = map$$1[(i += 3) + 2];\n          collapse = \"right\";\n        } }\n      break\n    }\n  }\n  return {node: node, start: start, end: end, collapse: collapse, coverStart: mStart, coverEnd: mEnd}\n}\n\nfunction getUsefulRect(rects, bias) {\n  var rect = nullRect;\n  if (bias == \"left\") { for (var i = 0; i < rects.length; i++) {\n    if ((rect = rects[i]).left != rect.right) { break }\n  } } else { for (var i$1 = rects.length - 1; i$1 >= 0; i$1--) {\n    if ((rect = rects[i$1]).left != rect.right) { break }\n  } }\n  return rect\n}\n\nfunction measureCharInner(cm, prepared, ch, bias) {\n  var place = nodeAndOffsetInLineMap(prepared.map, ch, bias);\n  var node = place.node, start = place.start, end = place.end, collapse = place.collapse;\n\n  var rect;\n  if (node.nodeType == 3) { \n    for (var i$1 = 0; i$1 < 4; i$1++) { \n      while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) { --start; }\n      while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) { ++end; }\n      if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart)\n        { rect = node.parentNode.getBoundingClientRect(); }\n      else\n        { rect = getUsefulRect(range(node, start, end).getClientRects(), bias); }\n      if (rect.left || rect.right || start == 0) { break }\n      end = start;\n      start = start - 1;\n      collapse = \"right\";\n    }\n    if (ie && ie_version < 11) { rect = maybeUpdateRectForZooming(cm.display.measure, rect); }\n  } else { \n    if (start > 0) { collapse = bias = \"right\"; }\n    var rects;\n    if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)\n      { rect = rects[bias == \"right\" ? rects.length - 1 : 0]; }\n    else\n      { rect = node.getBoundingClientRect(); }\n  }\n  if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\n    var rSpan = node.parentNode.getClientRects()[0];\n    if (rSpan)\n      { rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom}; }\n    else\n      { rect = nullRect; }\n  }\n\n  var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top;\n  var mid = (rtop + rbot) / 2;\n  var heights = prepared.view.measure.heights;\n  var i = 0;\n  for (; i < heights.length - 1; i++)\n    { if (mid < heights[i]) { break } }\n  var top = i ? heights[i - 1] : 0, bot = heights[i];\n  var result = {left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\n                right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\n                top: top, bottom: bot};\n  if (!rect.left && !rect.right) { result.bogus = true; }\n  if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot; }\n\n  return result\n}\n\nfunction maybeUpdateRectForZooming(measure, rect) {\n  if (!window.screen || screen.logicalXDPI == null ||\n      screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))\n    { return rect }\n  var scaleX = screen.logicalXDPI / screen.deviceXDPI;\n  var scaleY = screen.logicalYDPI / screen.deviceYDPI;\n  return {left: rect.left * scaleX, right: rect.right * scaleX,\n          top: rect.top * scaleY, bottom: rect.bottom * scaleY}\n}\n\nfunction clearLineMeasurementCacheFor(lineView) {\n  if (lineView.measure) {\n    lineView.measure.cache = {};\n    lineView.measure.heights = null;\n    if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n      { lineView.measure.caches[i] = {}; } }\n  }\n}\n\nfunction clearLineMeasurementCache(cm) {\n  cm.display.externalMeasure = null;\n  removeChildren(cm.display.lineMeasure);\n  for (var i = 0; i < cm.display.view.length; i++)\n    { clearLineMeasurementCacheFor(cm.display.view[i]); }\n}\n\nfunction clearCaches(cm) {\n  clearLineMeasurementCache(cm);\n  cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null;\n  if (!cm.options.lineWrapping) { cm.display.maxLineChanged = true; }\n  cm.display.lineNumChars = null;\n}\n\nfunction pageScrollX() {\n  if (chrome && android) { return -(document.body.getBoundingClientRect().left - parseInt(getComputedStyle(document.body).marginLeft)) }\n  return window.pageXOffset || (document.documentElement || document.body).scrollLeft\n}\nfunction pageScrollY() {\n  if (chrome && android) { return -(document.body.getBoundingClientRect().top - parseInt(getComputedStyle(document.body).marginTop)) }\n  return window.pageYOffset || (document.documentElement || document.body).scrollTop\n}\n\nfunction widgetTopHeight(lineObj) {\n  var height = 0;\n  if (lineObj.widgets) { for (var i = 0; i < lineObj.widgets.length; ++i) { if (lineObj.widgets[i].above)\n    { height += widgetHeight(lineObj.widgets[i]); } } }\n  return height\n}\n\nfunction intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {\n  if (!includeWidgets) {\n    var height = widgetTopHeight(lineObj);\n    rect.top += height; rect.bottom += height;\n  }\n  if (context == \"line\") { return rect }\n  if (!context) { context = \"local\"; }\n  var yOff = heightAtLine(lineObj);\n  if (context == \"local\") { yOff += paddingTop(cm.display); }\n  else { yOff -= cm.display.viewOffset; }\n  if (context == \"page\" || context == \"window\") {\n    var lOff = cm.display.lineSpace.getBoundingClientRect();\n    yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY());\n    var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX());\n    rect.left += xOff; rect.right += xOff;\n  }\n  rect.top += yOff; rect.bottom += yOff;\n  return rect\n}\n\nfunction fromCoordSystem(cm, coords, context) {\n  if (context == \"div\") { return coords }\n  var left = coords.left, top = coords.top;\n  if (context == \"page\") {\n    left -= pageScrollX();\n    top -= pageScrollY();\n  } else if (context == \"local\" || !context) {\n    var localBox = cm.display.sizer.getBoundingClientRect();\n    left += localBox.left;\n    top += localBox.top;\n  }\n\n  var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect();\n  return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top}\n}\n\nfunction charCoords(cm, pos, context, lineObj, bias) {\n  if (!lineObj) { lineObj = getLine(cm.doc, pos.line); }\n  return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context)\n}\n\nfunction cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\n  lineObj = lineObj || getLine(cm.doc, pos.line);\n  if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n  function get(ch, right) {\n    var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight);\n    if (right) { m.left = m.right; } else { m.right = m.left; }\n    return intoCoordSystem(cm, lineObj, m, context)\n  }\n  var order = getOrder(lineObj, cm.doc.direction), ch = pos.ch, sticky = pos.sticky;\n  if (ch >= lineObj.text.length) {\n    ch = lineObj.text.length;\n    sticky = \"before\";\n  } else if (ch <= 0) {\n    ch = 0;\n    sticky = \"after\";\n  }\n  if (!order) { return get(sticky == \"before\" ? ch - 1 : ch, sticky == \"before\") }\n\n  function getBidi(ch, partPos, invert) {\n    var part = order[partPos], right = part.level == 1;\n    return get(invert ? ch - 1 : ch, right != invert)\n  }\n  var partPos = getBidiPartAt(order, ch, sticky);\n  var other = bidiOther;\n  var val = getBidi(ch, partPos, sticky == \"before\");\n  if (other != null) { val.other = getBidi(ch, other, sticky != \"before\"); }\n  return val\n}\n\nfunction estimateCoords(cm, pos) {\n  var left = 0;\n  pos = clipPos(cm.doc, pos);\n  if (!cm.options.lineWrapping) { left = charWidth(cm.display) * pos.ch; }\n  var lineObj = getLine(cm.doc, pos.line);\n  var top = heightAtLine(lineObj) + paddingTop(cm.display);\n  return {left: left, right: left, top: top, bottom: top + lineObj.height}\n}\n\nfunction PosWithInfo(line, ch, sticky, outside, xRel) {\n  var pos = Pos(line, ch, sticky);\n  pos.xRel = xRel;\n  if (outside) { pos.outside = true; }\n  return pos\n}\n\nfunction coordsChar(cm, x, y) {\n  var doc = cm.doc;\n  y += cm.display.viewOffset;\n  if (y < 0) { return PosWithInfo(doc.first, 0, null, true, -1) }\n  var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1;\n  if (lineN > last)\n    { return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, null, true, 1) }\n  if (x < 0) { x = 0; }\n\n  var lineObj = getLine(doc, lineN);\n  for (;;) {\n    var found = coordsCharInner(cm, lineObj, lineN, x, y);\n    var merged = collapsedSpanAtEnd(lineObj);\n    var mergedPos = merged && merged.find(0, true);\n    if (merged && (found.ch > mergedPos.from.ch || found.ch == mergedPos.from.ch && found.xRel > 0))\n      { lineN = lineNo(lineObj = mergedPos.to.line); }\n    else\n      { return found }\n  }\n}\n\nfunction wrappedLineExtent(cm, lineObj, preparedMeasure, y) {\n  y -= widgetTopHeight(lineObj);\n  var end = lineObj.text.length;\n  var begin = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch - 1).bottom <= y; }, end, 0);\n  end = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch).top > y; }, begin, end);\n  return {begin: begin, end: end}\n}\n\nfunction wrappedLineExtentChar(cm, lineObj, preparedMeasure, target) {\n  if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n  var targetTop = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, target), \"line\").top;\n  return wrappedLineExtent(cm, lineObj, preparedMeasure, targetTop)\n}\n\nfunction boxIsAfter(box, x, y, left) {\n  return box.bottom <= y ? false : box.top > y ? true : (left ? box.left : box.right) > x\n}\n\nfunction coordsCharInner(cm, lineObj, lineNo$$1, x, y) {\n  y -= heightAtLine(lineObj);\n  var preparedMeasure = prepareMeasureForLine(cm, lineObj);\n  var widgetHeight$$1 = widgetTopHeight(lineObj);\n  var begin = 0, end = lineObj.text.length, ltr = true;\n\n  var order = getOrder(lineObj, cm.doc.direction);\n  if (order) {\n    var part = (cm.options.lineWrapping ? coordsBidiPartWrapped : coordsBidiPart)\n                 (cm, lineObj, lineNo$$1, preparedMeasure, order, x, y);\n    ltr = part.level != 1;\n    begin = ltr ? part.from : part.to - 1;\n    end = ltr ? part.to : part.from - 1;\n  }\n\n  var chAround = null, boxAround = null;\n  var ch = findFirst(function (ch) {\n    var box = measureCharPrepared(cm, preparedMeasure, ch);\n    box.top += widgetHeight$$1; box.bottom += widgetHeight$$1;\n    if (!boxIsAfter(box, x, y, false)) { return false }\n    if (box.top <= y && box.left <= x) {\n      chAround = ch;\n      boxAround = box;\n    }\n    return true\n  }, begin, end);\n\n  var baseX, sticky, outside = false;\n  if (boxAround) {\n    var atLeft = x - boxAround.left < boxAround.right - x, atStart = atLeft == ltr;\n    ch = chAround + (atStart ? 0 : 1);\n    sticky = atStart ? \"after\" : \"before\";\n    baseX = atLeft ? boxAround.left : boxAround.right;\n  } else {\n    if (!ltr && (ch == end || ch == begin)) { ch++; }\n    sticky = ch == 0 ? \"after\" : ch == lineObj.text.length ? \"before\" :\n      (measureCharPrepared(cm, preparedMeasure, ch - (ltr ? 1 : 0)).bottom + widgetHeight$$1 <= y) == ltr ?\n      \"after\" : \"before\";\n    var coords = cursorCoords(cm, Pos(lineNo$$1, ch, sticky), \"line\", lineObj, preparedMeasure);\n    baseX = coords.left;\n    outside = y < coords.top || y >= coords.bottom;\n  }\n\n  ch = skipExtendingChars(lineObj.text, ch, 1);\n  return PosWithInfo(lineNo$$1, ch, sticky, outside, x - baseX)\n}\n\nfunction coordsBidiPart(cm, lineObj, lineNo$$1, preparedMeasure, order, x, y) {\n  var index = findFirst(function (i) {\n    var part = order[i], ltr = part.level != 1;\n    return boxIsAfter(cursorCoords(cm, Pos(lineNo$$1, ltr ? part.to : part.from, ltr ? \"before\" : \"after\"),\n                                   \"line\", lineObj, preparedMeasure), x, y, true)\n  }, 0, order.length - 1);\n  var part = order[index];\n  if (index > 0) {\n    var ltr = part.level != 1;\n    var start = cursorCoords(cm, Pos(lineNo$$1, ltr ? part.from : part.to, ltr ? \"after\" : \"before\"),\n                             \"line\", lineObj, preparedMeasure);\n    if (boxIsAfter(start, x, y, true) && start.top > y)\n      { part = order[index - 1]; }\n  }\n  return part\n}\n\nfunction coordsBidiPartWrapped(cm, lineObj, _lineNo, preparedMeasure, order, x, y) {\n  var ref = wrappedLineExtent(cm, lineObj, preparedMeasure, y);\n  var begin = ref.begin;\n  var end = ref.end;\n  if (/\\s/.test(lineObj.text.charAt(end - 1))) { end--; }\n  var part = null, closestDist = null;\n  for (var i = 0; i < order.length; i++) {\n    var p = order[i];\n    if (p.from >= end || p.to <= begin) { continue }\n    var ltr = p.level != 1;\n    var endX = measureCharPrepared(cm, preparedMeasure, ltr ? Math.min(end, p.to) - 1 : Math.max(begin, p.from)).right;\n    var dist = endX < x ? x - endX + 1e9 : endX - x;\n    if (!part || closestDist > dist) {\n      part = p;\n      closestDist = dist;\n    }\n  }\n  if (!part) { part = order[order.length - 1]; }\n  if (part.from < begin) { part = {from: begin, to: part.to, level: part.level}; }\n  if (part.to > end) { part = {from: part.from, to: end, level: part.level}; }\n  return part\n}\n\nvar measureText;\nfunction textHeight(display) {\n  if (display.cachedTextHeight != null) { return display.cachedTextHeight }\n  if (measureText == null) {\n    measureText = elt(\"pre\");\n    for (var i = 0; i < 49; ++i) {\n      measureText.appendChild(document.createTextNode(\"x\"));\n      measureText.appendChild(elt(\"br\"));\n    }\n    measureText.appendChild(document.createTextNode(\"x\"));\n  }\n  removeChildrenAndAdd(display.measure, measureText);\n  var height = measureText.offsetHeight / 50;\n  if (height > 3) { display.cachedTextHeight = height; }\n  removeChildren(display.measure);\n  return height || 1\n}\n\nfunction charWidth(display) {\n  if (display.cachedCharWidth != null) { return display.cachedCharWidth }\n  var anchor = elt(\"span\", \"xxxxxxxxxx\");\n  var pre = elt(\"pre\", [anchor]);\n  removeChildrenAndAdd(display.measure, pre);\n  var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) / 10;\n  if (width > 2) { display.cachedCharWidth = width; }\n  return width || 10\n}\n\nfunction getDimensions(cm) {\n  var d = cm.display, left = {}, width = {};\n  var gutterLeft = d.gutters.clientLeft;\n  for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\n    left[cm.options.gutters[i]] = n.offsetLeft + n.clientLeft + gutterLeft;\n    width[cm.options.gutters[i]] = n.clientWidth;\n  }\n  return {fixedPos: compensateForHScroll(d),\n          gutterTotalWidth: d.gutters.offsetWidth,\n          gutterLeft: left,\n          gutterWidth: width,\n          wrapperWidth: d.wrapper.clientWidth}\n}\n\nfunction compensateForHScroll(display) {\n  return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left\n}\n\nfunction estimateHeight(cm) {\n  var th = textHeight(cm.display), wrapping = cm.options.lineWrapping;\n  var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3);\n  return function (line) {\n    if (lineIsHidden(cm.doc, line)) { return 0 }\n\n    var widgetsHeight = 0;\n    if (line.widgets) { for (var i = 0; i < line.widgets.length; i++) {\n      if (line.widgets[i].height) { widgetsHeight += line.widgets[i].height; }\n    } }\n\n    if (wrapping)\n      { return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th }\n    else\n      { return widgetsHeight + th }\n  }\n}\n\nfunction estimateLineHeights(cm) {\n  var doc = cm.doc, est = estimateHeight(cm);\n  doc.iter(function (line) {\n    var estHeight = est(line);\n    if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n  });\n}\n\nfunction posFromMouse(cm, e, liberal, forRect) {\n  var display = cm.display;\n  if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") { return null }\n\n  var x, y, space = display.lineSpace.getBoundingClientRect();\n  try { x = e.clientX - space.left; y = e.clientY - space.top; }\n  catch (e) { return null }\n  var coords = coordsChar(cm, x, y), line;\n  if (forRect && coords.xRel == 1 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\n    var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length;\n    coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff));\n  }\n  return coords\n}\n\nfunction findViewIndex(cm, n) {\n  if (n >= cm.display.viewTo) { return null }\n  n -= cm.display.viewFrom;\n  if (n < 0) { return null }\n  var view = cm.display.view;\n  for (var i = 0; i < view.length; i++) {\n    n -= view[i].size;\n    if (n < 0) { return i }\n  }\n}\n\nfunction updateSelection(cm) {\n  cm.display.input.showSelection(cm.display.input.prepareSelection());\n}\n\nfunction prepareSelection(cm, primary) {\n  if ( primary === void 0 ) primary = true;\n\n  var doc = cm.doc, result = {};\n  var curFragment = result.cursors = document.createDocumentFragment();\n  var selFragment = result.selection = document.createDocumentFragment();\n\n  for (var i = 0; i < doc.sel.ranges.length; i++) {\n    if (!primary && i == doc.sel.primIndex) { continue }\n    var range$$1 = doc.sel.ranges[i];\n    if (range$$1.from().line >= cm.display.viewTo || range$$1.to().line < cm.display.viewFrom) { continue }\n    var collapsed = range$$1.empty();\n    if (collapsed || cm.options.showCursorWhenSelecting)\n      { drawSelectionCursor(cm, range$$1.head, curFragment); }\n    if (!collapsed)\n      { drawSelectionRange(cm, range$$1, selFragment); }\n  }\n  return result\n}\n\nfunction drawSelectionCursor(cm, head, output) {\n  var pos = cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine);\n\n  var cursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor\"));\n  cursor.style.left = pos.left + \"px\";\n  cursor.style.top = pos.top + \"px\";\n  cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\";\n\n  if (pos.other) {\n    var otherCursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"));\n    otherCursor.style.display = \"\";\n    otherCursor.style.left = pos.other.left + \"px\";\n    otherCursor.style.top = pos.other.top + \"px\";\n    otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\";\n  }\n}\n\nfunction cmpCoords(a, b) { return a.top - b.top || a.left - b.left }\n\nfunction drawSelectionRange(cm, range$$1, output) {\n  var display = cm.display, doc = cm.doc;\n  var fragment = document.createDocumentFragment();\n  var padding = paddingH(cm.display), leftSide = padding.left;\n  var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right;\n  var docLTR = doc.direction == \"ltr\";\n\n  function add(left, top, width, bottom) {\n    if (top < 0) { top = 0; }\n    top = Math.round(top);\n    bottom = Math.round(bottom);\n    fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", (\"position: absolute; left: \" + left + \"px;\\n                             top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) + \"px;\\n                             height: \" + (bottom - top) + \"px\")));\n  }\n\n  function drawForLine(line, fromArg, toArg) {\n    var lineObj = getLine(doc, line);\n    var lineLen = lineObj.text.length;\n    var start, end;\n    function coords(ch, bias) {\n      return charCoords(cm, Pos(line, ch), \"div\", lineObj, bias)\n    }\n\n    function wrapX(pos, dir, side) {\n      var extent = wrappedLineExtentChar(cm, lineObj, null, pos);\n      var prop = (dir == \"ltr\") == (side == \"after\") ? \"left\" : \"right\";\n      var ch = side == \"after\" ? extent.begin : extent.end - (/\\s/.test(lineObj.text.charAt(extent.end - 1)) ? 2 : 1);\n      return coords(ch, prop)[prop]\n    }\n\n    var order = getOrder(lineObj, doc.direction);\n    iterateBidiSections(order, fromArg || 0, toArg == null ? lineLen : toArg, function (from, to, dir, i) {\n      var ltr = dir == \"ltr\";\n      var fromPos = coords(from, ltr ? \"left\" : \"right\");\n      var toPos = coords(to - 1, ltr ? \"right\" : \"left\");\n\n      var openStart = fromArg == null && from == 0, openEnd = toArg == null && to == lineLen;\n      var first = i == 0, last = !order || i == order.length - 1;\n      if (toPos.top - fromPos.top <= 3) { \n        var openLeft = (docLTR ? openStart : openEnd) && first;\n        var openRight = (docLTR ? openEnd : openStart) && last;\n        var left = openLeft ? leftSide : (ltr ? fromPos : toPos).left;\n        var right = openRight ? rightSide : (ltr ? toPos : fromPos).right;\n        add(left, fromPos.top, right - left, fromPos.bottom);\n      } else { \n        var topLeft, topRight, botLeft, botRight;\n        if (ltr) {\n          topLeft = docLTR && openStart && first ? leftSide : fromPos.left;\n          topRight = docLTR ? rightSide : wrapX(from, dir, \"before\");\n          botLeft = docLTR ? leftSide : wrapX(to, dir, \"after\");\n          botRight = docLTR && openEnd && last ? rightSide : toPos.right;\n        } else {\n          topLeft = !docLTR ? leftSide : wrapX(from, dir, \"before\");\n          topRight = !docLTR && openStart && first ? rightSide : fromPos.right;\n          botLeft = !docLTR && openEnd && last ? leftSide : toPos.left;\n          botRight = !docLTR ? rightSide : wrapX(to, dir, \"after\");\n        }\n        add(topLeft, fromPos.top, topRight - topLeft, fromPos.bottom);\n        if (fromPos.bottom < toPos.top) { add(leftSide, fromPos.bottom, null, toPos.top); }\n        add(botLeft, toPos.top, botRight - botLeft, toPos.bottom);\n      }\n\n      if (!start || cmpCoords(fromPos, start) < 0) { start = fromPos; }\n      if (cmpCoords(toPos, start) < 0) { start = toPos; }\n      if (!end || cmpCoords(fromPos, end) < 0) { end = fromPos; }\n      if (cmpCoords(toPos, end) < 0) { end = toPos; }\n    });\n    return {start: start, end: end}\n  }\n\n  var sFrom = range$$1.from(), sTo = range$$1.to();\n  if (sFrom.line == sTo.line) {\n    drawForLine(sFrom.line, sFrom.ch, sTo.ch);\n  } else {\n    var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line);\n    var singleVLine = visualLine(fromLine) == visualLine(toLine);\n    var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end;\n    var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start;\n    if (singleVLine) {\n      if (leftEnd.top < rightStart.top - 2) {\n        add(leftEnd.right, leftEnd.top, null, leftEnd.bottom);\n        add(leftSide, rightStart.top, rightStart.left, rightStart.bottom);\n      } else {\n        add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom);\n      }\n    }\n    if (leftEnd.bottom < rightStart.top)\n      { add(leftSide, leftEnd.bottom, null, rightStart.top); }\n  }\n\n  output.appendChild(fragment);\n}\n\nfunction restartBlink(cm) {\n  if (!cm.state.focused) { return }\n  var display = cm.display;\n  clearInterval(display.blinker);\n  var on = true;\n  display.cursorDiv.style.visibility = \"\";\n  if (cm.options.cursorBlinkRate > 0)\n    { display.blinker = setInterval(function () { return display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\"; },\n      cm.options.cursorBlinkRate); }\n  else if (cm.options.cursorBlinkRate < 0)\n    { display.cursorDiv.style.visibility = \"hidden\"; }\n}\n\nfunction ensureFocus(cm) {\n  if (!cm.state.focused) { cm.display.input.focus(); onFocus(cm); }\n}\n\nfunction delayBlurEvent(cm) {\n  cm.state.delayingBlurEvent = true;\n  setTimeout(function () { if (cm.state.delayingBlurEvent) {\n    cm.state.delayingBlurEvent = false;\n    onBlur(cm);\n  } }, 100);\n}\n\nfunction onFocus(cm, e) {\n  if (cm.state.delayingBlurEvent) { cm.state.delayingBlurEvent = false; }\n\n  if (cm.options.readOnly == \"nocursor\") { return }\n  if (!cm.state.focused) {\n    signal(cm, \"focus\", cm, e);\n    cm.state.focused = true;\n    addClass(cm.display.wrapper, \"CodeMirror-focused\");\n    if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\n      cm.display.input.reset();\n      if (webkit) { setTimeout(function () { return cm.display.input.reset(true); }, 20); } \n    }\n    cm.display.input.receivedFocus();\n  }\n  restartBlink(cm);\n}\nfunction onBlur(cm, e) {\n  if (cm.state.delayingBlurEvent) { return }\n\n  if (cm.state.focused) {\n    signal(cm, \"blur\", cm, e);\n    cm.state.focused = false;\n    rmClass(cm.display.wrapper, \"CodeMirror-focused\");\n  }\n  clearInterval(cm.display.blinker);\n  setTimeout(function () { if (!cm.state.focused) { cm.display.shift = false; } }, 150);\n}\n\nfunction updateHeightsInViewport(cm) {\n  var display = cm.display;\n  var prevBottom = display.lineDiv.offsetTop;\n  for (var i = 0; i < display.view.length; i++) {\n    var cur = display.view[i], height = (void 0);\n    if (cur.hidden) { continue }\n    if (ie && ie_version < 8) {\n      var bot = cur.node.offsetTop + cur.node.offsetHeight;\n      height = bot - prevBottom;\n      prevBottom = bot;\n    } else {\n      var box = cur.node.getBoundingClientRect();\n      height = box.bottom - box.top;\n    }\n    var diff = cur.line.height - height;\n    if (height < 2) { height = textHeight(display); }\n    if (diff > .005 || diff < -.005) {\n      updateLineHeight(cur.line, height);\n      updateWidgetHeight(cur.line);\n      if (cur.rest) { for (var j = 0; j < cur.rest.length; j++)\n        { updateWidgetHeight(cur.rest[j]); } }\n    }\n  }\n}\n\nfunction updateWidgetHeight(line) {\n  if (line.widgets) { for (var i = 0; i < line.widgets.length; ++i)\n    { line.widgets[i].height = line.widgets[i].node.parentNode.offsetHeight; } }\n}\n\nfunction visibleLines(display, doc, viewport) {\n  var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop;\n  top = Math.floor(top - paddingTop(display));\n  var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight;\n\n  var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom);\n  if (viewport && viewport.ensure) {\n    var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line;\n    if (ensureFrom < from) {\n      from = ensureFrom;\n      to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight);\n    } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\n      from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight);\n      to = ensureTo;\n    }\n  }\n  return {from: from, to: Math.max(to, from + 1)}\n}\n\nfunction alignHorizontally(cm) {\n  var display = cm.display, view = display.view;\n  if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) { return }\n  var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft;\n  var gutterW = display.gutters.offsetWidth, left = comp + \"px\";\n  for (var i = 0; i < view.length; i++) { if (!view[i].hidden) {\n    if (cm.options.fixedGutter) {\n      if (view[i].gutter)\n        { view[i].gutter.style.left = left; }\n      if (view[i].gutterBackground)\n        { view[i].gutterBackground.style.left = left; }\n    }\n    var align = view[i].alignable;\n    if (align) { for (var j = 0; j < align.length; j++)\n      { align[j].style.left = left; } }\n  } }\n  if (cm.options.fixedGutter)\n    { display.gutters.style.left = (comp + gutterW) + \"px\"; }\n}\n\nfunction maybeUpdateLineNumberWidth(cm) {\n  if (!cm.options.lineNumbers) { return false }\n  var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display;\n  if (last.length != display.lineNumChars) {\n    var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)],\n                                               \"CodeMirror-linenumber CodeMirror-gutter-elt\"));\n    var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW;\n    display.lineGutter.style.width = \"\";\n    display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1;\n    display.lineNumWidth = display.lineNumInnerWidth + padding;\n    display.lineNumChars = display.lineNumInnerWidth ? last.length : -1;\n    display.lineGutter.style.width = display.lineNumWidth + \"px\";\n    updateGutterSpace(cm);\n    return true\n  }\n  return false\n}\n\n\nfunction maybeScrollWindow(cm, rect) {\n  if (signalDOMEvent(cm, \"scrollCursorIntoView\")) { return }\n\n  var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null;\n  if (rect.top + box.top < 0) { doScroll = true; }\n  else if (rect.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) { doScroll = false; }\n  if (doScroll != null && !phantom) {\n    var scrollNode = elt(\"div\", \"\\u200b\", null, (\"position: absolute;\\n                         top: \" + (rect.top - display.viewOffset - paddingTop(cm.display)) + \"px;\\n                         height: \" + (rect.bottom - rect.top + scrollGap(cm) + display.barHeight) + \"px;\\n                         left: \" + (rect.left) + \"px; width: \" + (Math.max(2, rect.right - rect.left)) + \"px;\"));\n    cm.display.lineSpace.appendChild(scrollNode);\n    scrollNode.scrollIntoView(doScroll);\n    cm.display.lineSpace.removeChild(scrollNode);\n  }\n}\n\nfunction scrollPosIntoView(cm, pos, end, margin) {\n  if (margin == null) { margin = 0; }\n  var rect;\n  if (!cm.options.lineWrapping && pos == end) {\n    pos = pos.ch ? Pos(pos.line, pos.sticky == \"before\" ? pos.ch - 1 : pos.ch, \"after\") : pos;\n    end = pos.sticky == \"before\" ? Pos(pos.line, pos.ch + 1, \"before\") : pos;\n  }\n  for (var limit = 0; limit < 5; limit++) {\n    var changed = false;\n    var coords = cursorCoords(cm, pos);\n    var endCoords = !end || end == pos ? coords : cursorCoords(cm, end);\n    rect = {left: Math.min(coords.left, endCoords.left),\n            top: Math.min(coords.top, endCoords.top) - margin,\n            right: Math.max(coords.left, endCoords.left),\n            bottom: Math.max(coords.bottom, endCoords.bottom) + margin};\n    var scrollPos = calculateScrollPos(cm, rect);\n    var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft;\n    if (scrollPos.scrollTop != null) {\n      updateScrollTop(cm, scrollPos.scrollTop);\n      if (Math.abs(cm.doc.scrollTop - startTop) > 1) { changed = true; }\n    }\n    if (scrollPos.scrollLeft != null) {\n      setScrollLeft(cm, scrollPos.scrollLeft);\n      if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) { changed = true; }\n    }\n    if (!changed) { break }\n  }\n  return rect\n}\n\nfunction scrollIntoView(cm, rect) {\n  var scrollPos = calculateScrollPos(cm, rect);\n  if (scrollPos.scrollTop != null) { updateScrollTop(cm, scrollPos.scrollTop); }\n  if (scrollPos.scrollLeft != null) { setScrollLeft(cm, scrollPos.scrollLeft); }\n}\n\nfunction calculateScrollPos(cm, rect) {\n  var display = cm.display, snapMargin = textHeight(cm.display);\n  if (rect.top < 0) { rect.top = 0; }\n  var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop;\n  var screen = displayHeight(cm), result = {};\n  if (rect.bottom - rect.top > screen) { rect.bottom = rect.top + screen; }\n  var docBottom = cm.doc.height + paddingVert(display);\n  var atTop = rect.top < snapMargin, atBottom = rect.bottom > docBottom - snapMargin;\n  if (rect.top < screentop) {\n    result.scrollTop = atTop ? 0 : rect.top;\n  } else if (rect.bottom > screentop + screen) {\n    var newTop = Math.min(rect.top, (atBottom ? docBottom : rect.bottom) - screen);\n    if (newTop != screentop) { result.scrollTop = newTop; }\n  }\n\n  var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft;\n  var screenw = displayWidth(cm) - (cm.options.fixedGutter ? display.gutters.offsetWidth : 0);\n  var tooWide = rect.right - rect.left > screenw;\n  if (tooWide) { rect.right = rect.left + screenw; }\n  if (rect.left < 10)\n    { result.scrollLeft = 0; }\n  else if (rect.left < screenleft)\n    { result.scrollLeft = Math.max(0, rect.left - (tooWide ? 0 : 10)); }\n  else if (rect.right > screenw + screenleft - 3)\n    { result.scrollLeft = rect.right + (tooWide ? 0 : 10) - screenw; }\n  return result\n}\n\nfunction addToScrollTop(cm, top) {\n  if (top == null) { return }\n  resolveScrollToPos(cm);\n  cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top;\n}\n\nfunction ensureCursorVisible(cm) {\n  resolveScrollToPos(cm);\n  var cur = cm.getCursor();\n  cm.curOp.scrollToPos = {from: cur, to: cur, margin: cm.options.cursorScrollMargin};\n}\n\nfunction scrollToCoords(cm, x, y) {\n  if (x != null || y != null) { resolveScrollToPos(cm); }\n  if (x != null) { cm.curOp.scrollLeft = x; }\n  if (y != null) { cm.curOp.scrollTop = y; }\n}\n\nfunction scrollToRange(cm, range$$1) {\n  resolveScrollToPos(cm);\n  cm.curOp.scrollToPos = range$$1;\n}\n\nfunction resolveScrollToPos(cm) {\n  var range$$1 = cm.curOp.scrollToPos;\n  if (range$$1) {\n    cm.curOp.scrollToPos = null;\n    var from = estimateCoords(cm, range$$1.from), to = estimateCoords(cm, range$$1.to);\n    scrollToCoordsRange(cm, from, to, range$$1.margin);\n  }\n}\n\nfunction scrollToCoordsRange(cm, from, to, margin) {\n  var sPos = calculateScrollPos(cm, {\n    left: Math.min(from.left, to.left),\n    top: Math.min(from.top, to.top) - margin,\n    right: Math.max(from.right, to.right),\n    bottom: Math.max(from.bottom, to.bottom) + margin\n  });\n  scrollToCoords(cm, sPos.scrollLeft, sPos.scrollTop);\n}\n\nfunction updateScrollTop(cm, val) {\n  if (Math.abs(cm.doc.scrollTop - val) < 2) { return }\n  if (!gecko) { updateDisplaySimple(cm, {top: val}); }\n  setScrollTop(cm, val, true);\n  if (gecko) { updateDisplaySimple(cm); }\n  startWorker(cm, 100);\n}\n\nfunction setScrollTop(cm, val, forceScroll) {\n  val = Math.min(cm.display.scroller.scrollHeight - cm.display.scroller.clientHeight, val);\n  if (cm.display.scroller.scrollTop == val && !forceScroll) { return }\n  cm.doc.scrollTop = val;\n  cm.display.scrollbars.setScrollTop(val);\n  if (cm.display.scroller.scrollTop != val) { cm.display.scroller.scrollTop = val; }\n}\n\nfunction setScrollLeft(cm, val, isScroller, forceScroll) {\n  val = Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth);\n  if ((isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) && !forceScroll) { return }\n  cm.doc.scrollLeft = val;\n  alignHorizontally(cm);\n  if (cm.display.scroller.scrollLeft != val) { cm.display.scroller.scrollLeft = val; }\n  cm.display.scrollbars.setScrollLeft(val);\n}\n\n\nfunction measureForScrollbars(cm) {\n  var d = cm.display, gutterW = d.gutters.offsetWidth;\n  var docH = Math.round(cm.doc.height + paddingVert(cm.display));\n  return {\n    clientHeight: d.scroller.clientHeight,\n    viewHeight: d.wrapper.clientHeight,\n    scrollWidth: d.scroller.scrollWidth, clientWidth: d.scroller.clientWidth,\n    viewWidth: d.wrapper.clientWidth,\n    barLeft: cm.options.fixedGutter ? gutterW : 0,\n    docHeight: docH,\n    scrollHeight: docH + scrollGap(cm) + d.barHeight,\n    nativeBarWidth: d.nativeBarWidth,\n    gutterWidth: gutterW\n  }\n}\n\nvar NativeScrollbars = function(place, scroll, cm) {\n  this.cm = cm;\n  var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\");\n  var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\");\n  place(vert); place(horiz);\n\n  on(vert, \"scroll\", function () {\n    if (vert.clientHeight) { scroll(vert.scrollTop, \"vertical\"); }\n  });\n  on(horiz, \"scroll\", function () {\n    if (horiz.clientWidth) { scroll(horiz.scrollLeft, \"horizontal\"); }\n  });\n\n  this.checkedZeroWidth = false;\n  if (ie && ie_version < 8) { this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\"; }\n};\n\nNativeScrollbars.prototype.update = function (measure) {\n  var needsH = measure.scrollWidth > measure.clientWidth + 1;\n  var needsV = measure.scrollHeight > measure.clientHeight + 1;\n  var sWidth = measure.nativeBarWidth;\n\n  if (needsV) {\n    this.vert.style.display = \"block\";\n    this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\";\n    var totalHeight = measure.viewHeight - (needsH ? sWidth : 0);\n    this.vert.firstChild.style.height =\n      Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\";\n  } else {\n    this.vert.style.display = \"\";\n    this.vert.firstChild.style.height = \"0\";\n  }\n\n  if (needsH) {\n    this.horiz.style.display = \"block\";\n    this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\";\n    this.horiz.style.left = measure.barLeft + \"px\";\n    var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0);\n    this.horiz.firstChild.style.width =\n      Math.max(0, measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\";\n  } else {\n    this.horiz.style.display = \"\";\n    this.horiz.firstChild.style.width = \"0\";\n  }\n\n  if (!this.checkedZeroWidth && measure.clientHeight > 0) {\n    if (sWidth == 0) { this.zeroWidthHack(); }\n    this.checkedZeroWidth = true;\n  }\n\n  return {right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0}\n};\n\nNativeScrollbars.prototype.setScrollLeft = function (pos) {\n  if (this.horiz.scrollLeft != pos) { this.horiz.scrollLeft = pos; }\n  if (this.disableHoriz) { this.enableZeroWidthBar(this.horiz, this.disableHoriz, \"horiz\"); }\n};\n\nNativeScrollbars.prototype.setScrollTop = function (pos) {\n  if (this.vert.scrollTop != pos) { this.vert.scrollTop = pos; }\n  if (this.disableVert) { this.enableZeroWidthBar(this.vert, this.disableVert, \"vert\"); }\n};\n\nNativeScrollbars.prototype.zeroWidthHack = function () {\n  var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\";\n  this.horiz.style.height = this.vert.style.width = w;\n  this.horiz.style.pointerEvents = this.vert.style.pointerEvents = \"none\";\n  this.disableHoriz = new Delayed;\n  this.disableVert = new Delayed;\n};\n\nNativeScrollbars.prototype.enableZeroWidthBar = function (bar, delay, type) {\n  bar.style.pointerEvents = \"auto\";\n  function maybeDisable() {\n    var box = bar.getBoundingClientRect();\n    var elt$$1 = type == \"vert\" ? document.elementFromPoint(box.right - 1, (box.top + box.bottom) / 2)\n        : document.elementFromPoint((box.right + box.left) / 2, box.bottom - 1);\n    if (elt$$1 != bar) { bar.style.pointerEvents = \"none\"; }\n    else { delay.set(1000, maybeDisable); }\n  }\n  delay.set(1000, maybeDisable);\n};\n\nNativeScrollbars.prototype.clear = function () {\n  var parent = this.horiz.parentNode;\n  parent.removeChild(this.horiz);\n  parent.removeChild(this.vert);\n};\n\nvar NullScrollbars = function () {};\n\nNullScrollbars.prototype.update = function () { return {bottom: 0, right: 0} };\nNullScrollbars.prototype.setScrollLeft = function () {};\nNullScrollbars.prototype.setScrollTop = function () {};\nNullScrollbars.prototype.clear = function () {};\n\nfunction updateScrollbars(cm, measure) {\n  if (!measure) { measure = measureForScrollbars(cm); }\n  var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight;\n  updateScrollbarsInner(cm, measure);\n  for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\n    if (startWidth != cm.display.barWidth && cm.options.lineWrapping)\n      { updateHeightsInViewport(cm); }\n    updateScrollbarsInner(cm, measureForScrollbars(cm));\n    startWidth = cm.display.barWidth; startHeight = cm.display.barHeight;\n  }\n}\n\nfunction updateScrollbarsInner(cm, measure) {\n  var d = cm.display;\n  var sizes = d.scrollbars.update(measure);\n\n  d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\";\n  d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\";\n  d.heightForcer.style.borderBottom = sizes.bottom + \"px solid transparent\";\n\n  if (sizes.right && sizes.bottom) {\n    d.scrollbarFiller.style.display = \"block\";\n    d.scrollbarFiller.style.height = sizes.bottom + \"px\";\n    d.scrollbarFiller.style.width = sizes.right + \"px\";\n  } else { d.scrollbarFiller.style.display = \"\"; }\n  if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\n    d.gutterFiller.style.display = \"block\";\n    d.gutterFiller.style.height = sizes.bottom + \"px\";\n    d.gutterFiller.style.width = measure.gutterWidth + \"px\";\n  } else { d.gutterFiller.style.display = \"\"; }\n}\n\nvar scrollbarModel = {\"native\": NativeScrollbars, \"null\": NullScrollbars};\n\nfunction initScrollbars(cm) {\n  if (cm.display.scrollbars) {\n    cm.display.scrollbars.clear();\n    if (cm.display.scrollbars.addClass)\n      { rmClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n  }\n\n  cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function (node) {\n    cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller);\n    on(node, \"mousedown\", function () {\n      if (cm.state.focused) { setTimeout(function () { return cm.display.input.focus(); }, 0); }\n    });\n    node.setAttribute(\"cm-not-content\", \"true\");\n  }, function (pos, axis) {\n    if (axis == \"horizontal\") { setScrollLeft(cm, pos); }\n    else { updateScrollTop(cm, pos); }\n  }, cm);\n  if (cm.display.scrollbars.addClass)\n    { addClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n}\n\n\nvar nextOpId = 0;\nfunction startOperation(cm) {\n  cm.curOp = {\n    cm: cm,\n    viewChanged: false,      \n    startHeight: cm.doc.height, \n    forceUpdate: false,      \n    updateInput: null,       \n    typing: false,           \n    changeObjs: null,        \n    cursorActivityHandlers: null, \n    cursorActivityCalled: 0, \n    selectionChanged: false, \n    updateMaxLine: false,    \n    scrollLeft: null, scrollTop: null, \n    scrollToPos: null,       \n    focus: false,\n    id: ++nextOpId           \n  };\n  pushOperation(cm.curOp);\n}\n\nfunction endOperation(cm) {\n  var op = cm.curOp;\n  finishOperation(op, function (group) {\n    for (var i = 0; i < group.ops.length; i++)\n      { group.ops[i].cm.curOp = null; }\n    endOperations(group);\n  });\n}\n\nfunction endOperations(group) {\n  var ops = group.ops;\n  for (var i = 0; i < ops.length; i++) \n    { endOperation_R1(ops[i]); }\n  for (var i$1 = 0; i$1 < ops.length; i$1++) \n    { endOperation_W1(ops[i$1]); }\n  for (var i$2 = 0; i$2 < ops.length; i$2++) \n    { endOperation_R2(ops[i$2]); }\n  for (var i$3 = 0; i$3 < ops.length; i$3++) \n    { endOperation_W2(ops[i$3]); }\n  for (var i$4 = 0; i$4 < ops.length; i$4++) \n    { endOperation_finish(ops[i$4]); }\n}\n\nfunction endOperation_R1(op) {\n  var cm = op.cm, display = cm.display;\n  maybeClipScrollbars(cm);\n  if (op.updateMaxLine) { findMaxLine(cm); }\n\n  op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||\n    op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||\n                       op.scrollToPos.to.line >= display.viewTo) ||\n    display.maxLineChanged && cm.options.lineWrapping;\n  op.update = op.mustUpdate &&\n    new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate);\n}\n\nfunction endOperation_W1(op) {\n  op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update);\n}\n\nfunction endOperation_R2(op) {\n  var cm = op.cm, display = cm.display;\n  if (op.updatedDisplay) { updateHeightsInViewport(cm); }\n\n  op.barMeasure = measureForScrollbars(cm);\n\n  if (display.maxLineChanged && !cm.options.lineWrapping) {\n    op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3;\n    cm.display.sizerWidth = op.adjustWidthTo;\n    op.barMeasure.scrollWidth =\n      Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth);\n    op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm));\n  }\n\n  if (op.updatedDisplay || op.selectionChanged)\n    { op.preparedSelection = display.input.prepareSelection(); }\n}\n\nfunction endOperation_W2(op) {\n  var cm = op.cm;\n\n  if (op.adjustWidthTo != null) {\n    cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\";\n    if (op.maxScrollLeft < cm.doc.scrollLeft)\n      { setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true); }\n    cm.display.maxLineChanged = false;\n  }\n\n  var takeFocus = op.focus && op.focus == activeElt();\n  if (op.preparedSelection)\n    { cm.display.input.showSelection(op.preparedSelection, takeFocus); }\n  if (op.updatedDisplay || op.startHeight != cm.doc.height)\n    { updateScrollbars(cm, op.barMeasure); }\n  if (op.updatedDisplay)\n    { setDocumentHeight(cm, op.barMeasure); }\n\n  if (op.selectionChanged) { restartBlink(cm); }\n\n  if (cm.state.focused && op.updateInput)\n    { cm.display.input.reset(op.typing); }\n  if (takeFocus) { ensureFocus(op.cm); }\n}\n\nfunction endOperation_finish(op) {\n  var cm = op.cm, display = cm.display, doc = cm.doc;\n\n  if (op.updatedDisplay) { postUpdateDisplay(cm, op.update); }\n\n  if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))\n    { display.wheelStartX = display.wheelStartY = null; }\n\n  if (op.scrollTop != null) { setScrollTop(cm, op.scrollTop, op.forceScroll); }\n\n  if (op.scrollLeft != null) { setScrollLeft(cm, op.scrollLeft, true, true); }\n  if (op.scrollToPos) {\n    var rect = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),\n                                 clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin);\n    maybeScrollWindow(cm, rect);\n  }\n\n  var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers;\n  if (hidden) { for (var i = 0; i < hidden.length; ++i)\n    { if (!hidden[i].lines.length) { signal(hidden[i], \"hide\"); } } }\n  if (unhidden) { for (var i$1 = 0; i$1 < unhidden.length; ++i$1)\n    { if (unhidden[i$1].lines.length) { signal(unhidden[i$1], \"unhide\"); } } }\n\n  if (display.wrapper.offsetHeight)\n    { doc.scrollTop = cm.display.scroller.scrollTop; }\n\n  if (op.changeObjs)\n    { signal(cm, \"changes\", cm, op.changeObjs); }\n  if (op.update)\n    { op.update.finish(); }\n}\n\nfunction runInOp(cm, f) {\n  if (cm.curOp) { return f() }\n  startOperation(cm);\n  try { return f() }\n  finally { endOperation(cm); }\n}\nfunction operation(cm, f) {\n  return function() {\n    if (cm.curOp) { return f.apply(cm, arguments) }\n    startOperation(cm);\n    try { return f.apply(cm, arguments) }\n    finally { endOperation(cm); }\n  }\n}\nfunction methodOp(f) {\n  return function() {\n    if (this.curOp) { return f.apply(this, arguments) }\n    startOperation(this);\n    try { return f.apply(this, arguments) }\n    finally { endOperation(this); }\n  }\n}\nfunction docMethodOp(f) {\n  return function() {\n    var cm = this.cm;\n    if (!cm || cm.curOp) { return f.apply(this, arguments) }\n    startOperation(cm);\n    try { return f.apply(this, arguments) }\n    finally { endOperation(cm); }\n  }\n}\n\nfunction regChange(cm, from, to, lendiff) {\n  if (from == null) { from = cm.doc.first; }\n  if (to == null) { to = cm.doc.first + cm.doc.size; }\n  if (!lendiff) { lendiff = 0; }\n\n  var display = cm.display;\n  if (lendiff && to < display.viewTo &&\n      (display.updateLineNumbers == null || display.updateLineNumbers > from))\n    { display.updateLineNumbers = from; }\n\n  cm.curOp.viewChanged = true;\n\n  if (from >= display.viewTo) { \n    if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)\n      { resetView(cm); }\n  } else if (to <= display.viewFrom) { \n    if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\n      resetView(cm);\n    } else {\n      display.viewFrom += lendiff;\n      display.viewTo += lendiff;\n    }\n  } else if (from <= display.viewFrom && to >= display.viewTo) { \n    resetView(cm);\n  } else if (from <= display.viewFrom) { \n    var cut = viewCuttingPoint(cm, to, to + lendiff, 1);\n    if (cut) {\n      display.view = display.view.slice(cut.index);\n      display.viewFrom = cut.lineN;\n      display.viewTo += lendiff;\n    } else {\n      resetView(cm);\n    }\n  } else if (to >= display.viewTo) { \n    var cut$1 = viewCuttingPoint(cm, from, from, -1);\n    if (cut$1) {\n      display.view = display.view.slice(0, cut$1.index);\n      display.viewTo = cut$1.lineN;\n    } else {\n      resetView(cm);\n    }\n  } else { \n    var cutTop = viewCuttingPoint(cm, from, from, -1);\n    var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1);\n    if (cutTop && cutBot) {\n      display.view = display.view.slice(0, cutTop.index)\n        .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))\n        .concat(display.view.slice(cutBot.index));\n      display.viewTo += lendiff;\n    } else {\n      resetView(cm);\n    }\n  }\n\n  var ext = display.externalMeasured;\n  if (ext) {\n    if (to < ext.lineN)\n      { ext.lineN += lendiff; }\n    else if (from < ext.lineN + ext.size)\n      { display.externalMeasured = null; }\n  }\n}\n\nfunction regLineChange(cm, line, type) {\n  cm.curOp.viewChanged = true;\n  var display = cm.display, ext = cm.display.externalMeasured;\n  if (ext && line >= ext.lineN && line < ext.lineN + ext.size)\n    { display.externalMeasured = null; }\n\n  if (line < display.viewFrom || line >= display.viewTo) { return }\n  var lineView = display.view[findViewIndex(cm, line)];\n  if (lineView.node == null) { return }\n  var arr = lineView.changes || (lineView.changes = []);\n  if (indexOf(arr, type) == -1) { arr.push(type); }\n}\n\nfunction resetView(cm) {\n  cm.display.viewFrom = cm.display.viewTo = cm.doc.first;\n  cm.display.view = [];\n  cm.display.viewOffset = 0;\n}\n\nfunction viewCuttingPoint(cm, oldN, newN, dir) {\n  var index = findViewIndex(cm, oldN), diff, view = cm.display.view;\n  if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)\n    { return {index: index, lineN: newN} }\n  var n = cm.display.viewFrom;\n  for (var i = 0; i < index; i++)\n    { n += view[i].size; }\n  if (n != oldN) {\n    if (dir > 0) {\n      if (index == view.length - 1) { return null }\n      diff = (n + view[index].size) - oldN;\n      index++;\n    } else {\n      diff = n - oldN;\n    }\n    oldN += diff; newN += diff;\n  }\n  while (visualLineNo(cm.doc, newN) != newN) {\n    if (index == (dir < 0 ? 0 : view.length - 1)) { return null }\n    newN += dir * view[index - (dir < 0 ? 1 : 0)].size;\n    index += dir;\n  }\n  return {index: index, lineN: newN}\n}\n\nfunction adjustView(cm, from, to) {\n  var display = cm.display, view = display.view;\n  if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\n    display.view = buildViewArray(cm, from, to);\n    display.viewFrom = from;\n  } else {\n    if (display.viewFrom > from)\n      { display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view); }\n    else if (display.viewFrom < from)\n      { display.view = display.view.slice(findViewIndex(cm, from)); }\n    display.viewFrom = from;\n    if (display.viewTo < to)\n      { display.view = display.view.concat(buildViewArray(cm, display.viewTo, to)); }\n    else if (display.viewTo > to)\n      { display.view = display.view.slice(0, findViewIndex(cm, to)); }\n  }\n  display.viewTo = to;\n}\n\nfunction countDirtyView(cm) {\n  var view = cm.display.view, dirty = 0;\n  for (var i = 0; i < view.length; i++) {\n    var lineView = view[i];\n    if (!lineView.hidden && (!lineView.node || lineView.changes)) { ++dirty; }\n  }\n  return dirty\n}\n\n\nfunction startWorker(cm, time) {\n  if (cm.doc.highlightFrontier < cm.display.viewTo)\n    { cm.state.highlight.set(time, bind(highlightWorker, cm)); }\n}\n\nfunction highlightWorker(cm) {\n  var doc = cm.doc;\n  if (doc.highlightFrontier >= cm.display.viewTo) { return }\n  var end = +new Date + cm.options.workTime;\n  var context = getContextBefore(cm, doc.highlightFrontier);\n  var changedLines = [];\n\n  doc.iter(context.line, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function (line) {\n    if (context.line >= cm.display.viewFrom) { \n      var oldStyles = line.styles;\n      var resetState = line.text.length > cm.options.maxHighlightLength ? copyState(doc.mode, context.state) : null;\n      var highlighted = highlightLine(cm, line, context, true);\n      if (resetState) { context.state = resetState; }\n      line.styles = highlighted.styles;\n      var oldCls = line.styleClasses, newCls = highlighted.classes;\n      if (newCls) { line.styleClasses = newCls; }\n      else if (oldCls) { line.styleClasses = null; }\n      var ischange = !oldStyles || oldStyles.length != line.styles.length ||\n        oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass);\n      for (var i = 0; !ischange && i < oldStyles.length; ++i) { ischange = oldStyles[i] != line.styles[i]; }\n      if (ischange) { changedLines.push(context.line); }\n      line.stateAfter = context.save();\n      context.nextLine();\n    } else {\n      if (line.text.length <= cm.options.maxHighlightLength)\n        { processLine(cm, line.text, context); }\n      line.stateAfter = context.line % 5 == 0 ? context.save() : null;\n      context.nextLine();\n    }\n    if (+new Date > end) {\n      startWorker(cm, cm.options.workDelay);\n      return true\n    }\n  });\n  doc.highlightFrontier = context.line;\n  doc.modeFrontier = Math.max(doc.modeFrontier, context.line);\n  if (changedLines.length) { runInOp(cm, function () {\n    for (var i = 0; i < changedLines.length; i++)\n      { regLineChange(cm, changedLines[i], \"text\"); }\n  }); }\n}\n\n\nvar DisplayUpdate = function(cm, viewport, force) {\n  var display = cm.display;\n\n  this.viewport = viewport;\n  this.visible = visibleLines(display, cm.doc, viewport);\n  this.editorIsHidden = !display.wrapper.offsetWidth;\n  this.wrapperHeight = display.wrapper.clientHeight;\n  this.wrapperWidth = display.wrapper.clientWidth;\n  this.oldDisplayWidth = displayWidth(cm);\n  this.force = force;\n  this.dims = getDimensions(cm);\n  this.events = [];\n};\n\nDisplayUpdate.prototype.signal = function (emitter, type) {\n  if (hasHandler(emitter, type))\n    { this.events.push(arguments); }\n};\nDisplayUpdate.prototype.finish = function () {\n    var this$1 = this;\n\n  for (var i = 0; i < this.events.length; i++)\n    { signal.apply(null, this$1.events[i]); }\n};\n\nfunction maybeClipScrollbars(cm) {\n  var display = cm.display;\n  if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\n    display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth;\n    display.heightForcer.style.height = scrollGap(cm) + \"px\";\n    display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\";\n    display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\";\n    display.scrollbarsClipped = true;\n  }\n}\n\nfunction selectionSnapshot(cm) {\n  if (cm.hasFocus()) { return null }\n  var active = activeElt();\n  if (!active || !contains(cm.display.lineDiv, active)) { return null }\n  var result = {activeElt: active};\n  if (window.getSelection) {\n    var sel = window.getSelection();\n    if (sel.anchorNode && sel.extend && contains(cm.display.lineDiv, sel.anchorNode)) {\n      result.anchorNode = sel.anchorNode;\n      result.anchorOffset = sel.anchorOffset;\n      result.focusNode = sel.focusNode;\n      result.focusOffset = sel.focusOffset;\n    }\n  }\n  return result\n}\n\nfunction restoreSelection(snapshot) {\n  if (!snapshot || !snapshot.activeElt || snapshot.activeElt == activeElt()) { return }\n  snapshot.activeElt.focus();\n  if (snapshot.anchorNode && contains(document.body, snapshot.anchorNode) && contains(document.body, snapshot.focusNode)) {\n    var sel = window.getSelection(), range$$1 = document.createRange();\n    range$$1.setEnd(snapshot.anchorNode, snapshot.anchorOffset);\n    range$$1.collapse(false);\n    sel.removeAllRanges();\n    sel.addRange(range$$1);\n    sel.extend(snapshot.focusNode, snapshot.focusOffset);\n  }\n}\n\nfunction updateDisplayIfNeeded(cm, update) {\n  var display = cm.display, doc = cm.doc;\n\n  if (update.editorIsHidden) {\n    resetView(cm);\n    return false\n  }\n\n  if (!update.force &&\n      update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&\n      (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&\n      display.renderedView == display.view && countDirtyView(cm) == 0)\n    { return false }\n\n  if (maybeUpdateLineNumberWidth(cm)) {\n    resetView(cm);\n    update.dims = getDimensions(cm);\n  }\n\n  var end = doc.first + doc.size;\n  var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first);\n  var to = Math.min(end, update.visible.to + cm.options.viewportMargin);\n  if (display.viewFrom < from && from - display.viewFrom < 20) { from = Math.max(doc.first, display.viewFrom); }\n  if (display.viewTo > to && display.viewTo - to < 20) { to = Math.min(end, display.viewTo); }\n  if (sawCollapsedSpans) {\n    from = visualLineNo(cm.doc, from);\n    to = visualLineEndNo(cm.doc, to);\n  }\n\n  var different = from != display.viewFrom || to != display.viewTo ||\n    display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth;\n  adjustView(cm, from, to);\n\n  display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom));\n  cm.display.mover.style.top = display.viewOffset + \"px\";\n\n  var toUpdate = countDirtyView(cm);\n  if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view &&\n      (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))\n    { return false }\n\n  var selSnapshot = selectionSnapshot(cm);\n  if (toUpdate > 4) { display.lineDiv.style.display = \"none\"; }\n  patchDisplay(cm, display.updateLineNumbers, update.dims);\n  if (toUpdate > 4) { display.lineDiv.style.display = \"\"; }\n  display.renderedView = display.view;\n  restoreSelection(selSnapshot);\n\n  removeChildren(display.cursorDiv);\n  removeChildren(display.selectionDiv);\n  display.gutters.style.height = display.sizer.style.minHeight = 0;\n\n  if (different) {\n    display.lastWrapHeight = update.wrapperHeight;\n    display.lastWrapWidth = update.wrapperWidth;\n    startWorker(cm, 400);\n  }\n\n  display.updateLineNumbers = null;\n\n  return true\n}\n\nfunction postUpdateDisplay(cm, update) {\n  var viewport = update.viewport;\n\n  for (var first = true;; first = false) {\n    if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\n      if (viewport && viewport.top != null)\n        { viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)}; }\n      update.visible = visibleLines(cm.display, cm.doc, viewport);\n      if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)\n        { break }\n    }\n    if (!updateDisplayIfNeeded(cm, update)) { break }\n    updateHeightsInViewport(cm);\n    var barMeasure = measureForScrollbars(cm);\n    updateSelection(cm);\n    updateScrollbars(cm, barMeasure);\n    setDocumentHeight(cm, barMeasure);\n    update.force = false;\n  }\n\n  update.signal(cm, \"update\", cm);\n  if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\n    update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo);\n    cm.display.reportedViewFrom = cm.display.viewFrom; cm.display.reportedViewTo = cm.display.viewTo;\n  }\n}\n\nfunction updateDisplaySimple(cm, viewport) {\n  var update = new DisplayUpdate(cm, viewport);\n  if (updateDisplayIfNeeded(cm, update)) {\n    updateHeightsInViewport(cm);\n    postUpdateDisplay(cm, update);\n    var barMeasure = measureForScrollbars(cm);\n    updateSelection(cm);\n    updateScrollbars(cm, barMeasure);\n    setDocumentHeight(cm, barMeasure);\n    update.finish();\n  }\n}\n\nfunction patchDisplay(cm, updateNumbersFrom, dims) {\n  var display = cm.display, lineNumbers = cm.options.lineNumbers;\n  var container = display.lineDiv, cur = container.firstChild;\n\n  function rm(node) {\n    var next = node.nextSibling;\n    if (webkit && mac && cm.display.currentWheelTarget == node)\n      { node.style.display = \"none\"; }\n    else\n      { node.parentNode.removeChild(node); }\n    return next\n  }\n\n  var view = display.view, lineN = display.viewFrom;\n  for (var i = 0; i < view.length; i++) {\n    var lineView = view[i];\n    if (lineView.hidden) {\n    } else if (!lineView.node || lineView.node.parentNode != container) { \n      var node = buildLineElement(cm, lineView, lineN, dims);\n      container.insertBefore(node, cur);\n    } else { \n      while (cur != lineView.node) { cur = rm(cur); }\n      var updateNumber = lineNumbers && updateNumbersFrom != null &&\n        updateNumbersFrom <= lineN && lineView.lineNumber;\n      if (lineView.changes) {\n        if (indexOf(lineView.changes, \"gutter\") > -1) { updateNumber = false; }\n        updateLineForChanges(cm, lineView, lineN, dims);\n      }\n      if (updateNumber) {\n        removeChildren(lineView.lineNumber);\n        lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)));\n      }\n      cur = lineView.node.nextSibling;\n    }\n    lineN += lineView.size;\n  }\n  while (cur) { cur = rm(cur); }\n}\n\nfunction updateGutterSpace(cm) {\n  var width = cm.display.gutters.offsetWidth;\n  cm.display.sizer.style.marginLeft = width + \"px\";\n}\n\nfunction setDocumentHeight(cm, measure) {\n  cm.display.sizer.style.minHeight = measure.docHeight + \"px\";\n  cm.display.heightForcer.style.top = measure.docHeight + \"px\";\n  cm.display.gutters.style.height = (measure.docHeight + cm.display.barHeight + scrollGap(cm)) + \"px\";\n}\n\nfunction updateGutters(cm) {\n  var gutters = cm.display.gutters, specs = cm.options.gutters;\n  removeChildren(gutters);\n  var i = 0;\n  for (; i < specs.length; ++i) {\n    var gutterClass = specs[i];\n    var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + gutterClass));\n    if (gutterClass == \"CodeMirror-linenumbers\") {\n      cm.display.lineGutter = gElt;\n      gElt.style.width = (cm.display.lineNumWidth || 1) + \"px\";\n    }\n  }\n  gutters.style.display = i ? \"\" : \"none\";\n  updateGutterSpace(cm);\n}\n\nfunction setGuttersForLineNumbers(options) {\n  var found = indexOf(options.gutters, \"CodeMirror-linenumbers\");\n  if (found == -1 && options.lineNumbers) {\n    options.gutters = options.gutters.concat([\"CodeMirror-linenumbers\"]);\n  } else if (found > -1 && !options.lineNumbers) {\n    options.gutters = options.gutters.slice(0);\n    options.gutters.splice(found, 1);\n  }\n}\n\n\nvar wheelSamples = 0;\nvar wheelPixelsPerUnit = null;\nif (ie) { wheelPixelsPerUnit = -.53; }\nelse if (gecko) { wheelPixelsPerUnit = 15; }\nelse if (chrome) { wheelPixelsPerUnit = -.7; }\nelse if (safari) { wheelPixelsPerUnit = -1/3; }\n\nfunction wheelEventDelta(e) {\n  var dx = e.wheelDeltaX, dy = e.wheelDeltaY;\n  if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) { dx = e.detail; }\n  if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) { dy = e.detail; }\n  else if (dy == null) { dy = e.wheelDelta; }\n  return {x: dx, y: dy}\n}\nfunction wheelEventPixels(e) {\n  var delta = wheelEventDelta(e);\n  delta.x *= wheelPixelsPerUnit;\n  delta.y *= wheelPixelsPerUnit;\n  return delta\n}\n\nfunction onScrollWheel(cm, e) {\n  var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y;\n\n  var display = cm.display, scroll = display.scroller;\n  var canScrollX = scroll.scrollWidth > scroll.clientWidth;\n  var canScrollY = scroll.scrollHeight > scroll.clientHeight;\n  if (!(dx && canScrollX || dy && canScrollY)) { return }\n\n  if (dy && mac && webkit) {\n    outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\n      for (var i = 0; i < view.length; i++) {\n        if (view[i].node == cur) {\n          cm.display.currentWheelTarget = cur;\n          break outer\n        }\n      }\n    }\n  }\n\n  if (dx && !gecko && !presto && wheelPixelsPerUnit != null) {\n    if (dy && canScrollY)\n      { updateScrollTop(cm, Math.max(0, scroll.scrollTop + dy * wheelPixelsPerUnit)); }\n    setScrollLeft(cm, Math.max(0, scroll.scrollLeft + dx * wheelPixelsPerUnit));\n    if (!dy || (dy && canScrollY))\n      { e_preventDefault(e); }\n    display.wheelStartX = null; \n    return\n  }\n\n  if (dy && wheelPixelsPerUnit != null) {\n    var pixels = dy * wheelPixelsPerUnit;\n    var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight;\n    if (pixels < 0) { top = Math.max(0, top + pixels - 50); }\n    else { bot = Math.min(cm.doc.height, bot + pixels + 50); }\n    updateDisplaySimple(cm, {top: top, bottom: bot});\n  }\n\n  if (wheelSamples < 20) {\n    if (display.wheelStartX == null) {\n      display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop;\n      display.wheelDX = dx; display.wheelDY = dy;\n      setTimeout(function () {\n        if (display.wheelStartX == null) { return }\n        var movedX = scroll.scrollLeft - display.wheelStartX;\n        var movedY = scroll.scrollTop - display.wheelStartY;\n        var sample = (movedY && display.wheelDY && movedY / display.wheelDY) ||\n          (movedX && display.wheelDX && movedX / display.wheelDX);\n        display.wheelStartX = display.wheelStartY = null;\n        if (!sample) { return }\n        wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1);\n        ++wheelSamples;\n      }, 200);\n    } else {\n      display.wheelDX += dx; display.wheelDY += dy;\n    }\n  }\n}\n\nvar Selection = function(ranges, primIndex) {\n  this.ranges = ranges;\n  this.primIndex = primIndex;\n};\n\nSelection.prototype.primary = function () { return this.ranges[this.primIndex] };\n\nSelection.prototype.equals = function (other) {\n    var this$1 = this;\n\n  if (other == this) { return true }\n  if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) { return false }\n  for (var i = 0; i < this.ranges.length; i++) {\n    var here = this$1.ranges[i], there = other.ranges[i];\n    if (!equalCursorPos(here.anchor, there.anchor) || !equalCursorPos(here.head, there.head)) { return false }\n  }\n  return true\n};\n\nSelection.prototype.deepCopy = function () {\n    var this$1 = this;\n\n  var out = [];\n  for (var i = 0; i < this.ranges.length; i++)\n    { out[i] = new Range(copyPos(this$1.ranges[i].anchor), copyPos(this$1.ranges[i].head)); }\n  return new Selection(out, this.primIndex)\n};\n\nSelection.prototype.somethingSelected = function () {\n    var this$1 = this;\n\n  for (var i = 0; i < this.ranges.length; i++)\n    { if (!this$1.ranges[i].empty()) { return true } }\n  return false\n};\n\nSelection.prototype.contains = function (pos, end) {\n    var this$1 = this;\n\n  if (!end) { end = pos; }\n  for (var i = 0; i < this.ranges.length; i++) {\n    var range = this$1.ranges[i];\n    if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)\n      { return i }\n  }\n  return -1\n};\n\nvar Range = function(anchor, head) {\n  this.anchor = anchor; this.head = head;\n};\n\nRange.prototype.from = function () { return minPos(this.anchor, this.head) };\nRange.prototype.to = function () { return maxPos(this.anchor, this.head) };\nRange.prototype.empty = function () { return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch };\n\nfunction normalizeSelection(ranges, primIndex) {\n  var prim = ranges[primIndex];\n  ranges.sort(function (a, b) { return cmp(a.from(), b.from()); });\n  primIndex = indexOf(ranges, prim);\n  for (var i = 1; i < ranges.length; i++) {\n    var cur = ranges[i], prev = ranges[i - 1];\n    if (cmp(prev.to(), cur.from()) >= 0) {\n      var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to());\n      var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head;\n      if (i <= primIndex) { --primIndex; }\n      ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to));\n    }\n  }\n  return new Selection(ranges, primIndex)\n}\n\nfunction simpleSelection(anchor, head) {\n  return new Selection([new Range(anchor, head || anchor)], 0)\n}\n\nfunction changeEnd(change) {\n  if (!change.text) { return change.to }\n  return Pos(change.from.line + change.text.length - 1,\n             lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0))\n}\n\nfunction adjustForChange(pos, change) {\n  if (cmp(pos, change.from) < 0) { return pos }\n  if (cmp(pos, change.to) <= 0) { return changeEnd(change) }\n\n  var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch;\n  if (pos.line == change.to.line) { ch += changeEnd(change).ch - change.to.ch; }\n  return Pos(line, ch)\n}\n\nfunction computeSelAfterChange(doc, change) {\n  var out = [];\n  for (var i = 0; i < doc.sel.ranges.length; i++) {\n    var range = doc.sel.ranges[i];\n    out.push(new Range(adjustForChange(range.anchor, change),\n                       adjustForChange(range.head, change)));\n  }\n  return normalizeSelection(out, doc.sel.primIndex)\n}\n\nfunction offsetPos(pos, old, nw) {\n  if (pos.line == old.line)\n    { return Pos(nw.line, pos.ch - old.ch + nw.ch) }\n  else\n    { return Pos(nw.line + (pos.line - old.line), pos.ch) }\n}\n\nfunction computeReplacedSel(doc, changes, hint) {\n  var out = [];\n  var oldPrev = Pos(doc.first, 0), newPrev = oldPrev;\n  for (var i = 0; i < changes.length; i++) {\n    var change = changes[i];\n    var from = offsetPos(change.from, oldPrev, newPrev);\n    var to = offsetPos(changeEnd(change), oldPrev, newPrev);\n    oldPrev = change.to;\n    newPrev = to;\n    if (hint == \"around\") {\n      var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0;\n      out[i] = new Range(inv ? to : from, inv ? from : to);\n    } else {\n      out[i] = new Range(from, from);\n    }\n  }\n  return new Selection(out, doc.sel.primIndex)\n}\n\n\nfunction loadMode(cm) {\n  cm.doc.mode = getMode(cm.options, cm.doc.modeOption);\n  resetModeState(cm);\n}\n\nfunction resetModeState(cm) {\n  cm.doc.iter(function (line) {\n    if (line.stateAfter) { line.stateAfter = null; }\n    if (line.styles) { line.styles = null; }\n  });\n  cm.doc.modeFrontier = cm.doc.highlightFrontier = cm.doc.first;\n  startWorker(cm, 100);\n  cm.state.modeGen++;\n  if (cm.curOp) { regChange(cm); }\n}\n\n\nfunction isWholeLineUpdate(doc, change) {\n  return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" &&\n    (!doc.cm || doc.cm.options.wholeLineUpdateBefore)\n}\n\nfunction updateDoc(doc, change, markedSpans, estimateHeight$$1) {\n  function spansFor(n) {return markedSpans ? markedSpans[n] : null}\n  function update(line, text, spans) {\n    updateLine(line, text, spans, estimateHeight$$1);\n    signalLater(line, \"change\", line, change);\n  }\n  function linesFor(start, end) {\n    var result = [];\n    for (var i = start; i < end; ++i)\n      { result.push(new Line(text[i], spansFor(i), estimateHeight$$1)); }\n    return result\n  }\n\n  var from = change.from, to = change.to, text = change.text;\n  var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line);\n  var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line;\n\n  if (change.full) {\n    doc.insert(0, linesFor(0, text.length));\n    doc.remove(text.length, doc.size - text.length);\n  } else if (isWholeLineUpdate(doc, change)) {\n    var added = linesFor(0, text.length - 1);\n    update(lastLine, lastLine.text, lastSpans);\n    if (nlines) { doc.remove(from.line, nlines); }\n    if (added.length) { doc.insert(from.line, added); }\n  } else if (firstLine == lastLine) {\n    if (text.length == 1) {\n      update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans);\n    } else {\n      var added$1 = linesFor(1, text.length - 1);\n      added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight$$1));\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n      doc.insert(from.line + 1, added$1);\n    }\n  } else if (text.length == 1) {\n    update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0));\n    doc.remove(from.line + 1, nlines);\n  } else {\n    update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n    update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans);\n    var added$2 = linesFor(1, text.length - 1);\n    if (nlines > 1) { doc.remove(from.line + 1, nlines - 1); }\n    doc.insert(from.line + 1, added$2);\n  }\n\n  signalLater(doc, \"change\", doc, change);\n}\n\nfunction linkedDocs(doc, f, sharedHistOnly) {\n  function propagate(doc, skip, sharedHist) {\n    if (doc.linked) { for (var i = 0; i < doc.linked.length; ++i) {\n      var rel = doc.linked[i];\n      if (rel.doc == skip) { continue }\n      var shared = sharedHist && rel.sharedHist;\n      if (sharedHistOnly && !shared) { continue }\n      f(rel.doc, shared);\n      propagate(rel.doc, doc, shared);\n    } }\n  }\n  propagate(doc, null, true);\n}\n\nfunction attachDoc(cm, doc) {\n  if (doc.cm) { throw new Error(\"This document is already in use.\") }\n  cm.doc = doc;\n  doc.cm = cm;\n  estimateLineHeights(cm);\n  loadMode(cm);\n  setDirectionClass(cm);\n  if (!cm.options.lineWrapping) { findMaxLine(cm); }\n  cm.options.mode = doc.modeOption;\n  regChange(cm);\n}\n\nfunction setDirectionClass(cm) {\n  (cm.doc.direction == \"rtl\" ? addClass : rmClass)(cm.display.lineDiv, \"CodeMirror-rtl\");\n}\n\nfunction directionChanged(cm) {\n  runInOp(cm, function () {\n    setDirectionClass(cm);\n    regChange(cm);\n  });\n}\n\nfunction History(startGen) {\n  this.done = []; this.undone = [];\n  this.undoDepth = Infinity;\n  this.lastModTime = this.lastSelTime = 0;\n  this.lastOp = this.lastSelOp = null;\n  this.lastOrigin = this.lastSelOrigin = null;\n  this.generation = this.maxGeneration = startGen || 1;\n}\n\nfunction historyChangeFromChange(doc, change) {\n  var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)};\n  attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);\n  linkedDocs(doc, function (doc) { return attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1); }, true);\n  return histChange\n}\n\nfunction clearSelectionEvents(array) {\n  while (array.length) {\n    var last = lst(array);\n    if (last.ranges) { array.pop(); }\n    else { break }\n  }\n}\n\nfunction lastChangeEvent(hist, force) {\n  if (force) {\n    clearSelectionEvents(hist.done);\n    return lst(hist.done)\n  } else if (hist.done.length && !lst(hist.done).ranges) {\n    return lst(hist.done)\n  } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\n    hist.done.pop();\n    return lst(hist.done)\n  }\n}\n\nfunction addChangeToHistory(doc, change, selAfter, opId) {\n  var hist = doc.history;\n  hist.undone.length = 0;\n  var time = +new Date, cur;\n  var last;\n\n  if ((hist.lastOp == opId ||\n       hist.lastOrigin == change.origin && change.origin &&\n       ((change.origin.charAt(0) == \"+\" && doc.cm && hist.lastModTime > time - doc.cm.options.historyEventDelay) ||\n        change.origin.charAt(0) == \"*\")) &&\n      (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\n    last = lst(cur.changes);\n    if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\n      last.to = changeEnd(change);\n    } else {\n      cur.changes.push(historyChangeFromChange(doc, change));\n    }\n  } else {\n    var before = lst(hist.done);\n    if (!before || !before.ranges)\n      { pushSelectionToHistory(doc.sel, hist.done); }\n    cur = {changes: [historyChangeFromChange(doc, change)],\n           generation: hist.generation};\n    hist.done.push(cur);\n    while (hist.done.length > hist.undoDepth) {\n      hist.done.shift();\n      if (!hist.done[0].ranges) { hist.done.shift(); }\n    }\n  }\n  hist.done.push(selAfter);\n  hist.generation = ++hist.maxGeneration;\n  hist.lastModTime = hist.lastSelTime = time;\n  hist.lastOp = hist.lastSelOp = opId;\n  hist.lastOrigin = hist.lastSelOrigin = change.origin;\n\n  if (!last) { signal(doc, \"historyAdded\"); }\n}\n\nfunction selectionEventCanBeMerged(doc, origin, prev, sel) {\n  var ch = origin.charAt(0);\n  return ch == \"*\" ||\n    ch == \"+\" &&\n    prev.ranges.length == sel.ranges.length &&\n    prev.somethingSelected() == sel.somethingSelected() &&\n    new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500)\n}\n\nfunction addSelectionToHistory(doc, sel, opId, options) {\n  var hist = doc.history, origin = options && options.origin;\n\n  if (opId == hist.lastSelOp ||\n      (origin && hist.lastSelOrigin == origin &&\n       (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||\n        selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))\n    { hist.done[hist.done.length - 1] = sel; }\n  else\n    { pushSelectionToHistory(sel, hist.done); }\n\n  hist.lastSelTime = +new Date;\n  hist.lastSelOrigin = origin;\n  hist.lastSelOp = opId;\n  if (options && options.clearRedo !== false)\n    { clearSelectionEvents(hist.undone); }\n}\n\nfunction pushSelectionToHistory(sel, dest) {\n  var top = lst(dest);\n  if (!(top && top.ranges && top.equals(sel)))\n    { dest.push(sel); }\n}\n\nfunction attachLocalSpans(doc, change, from, to) {\n  var existing = change[\"spans_\" + doc.id], n = 0;\n  doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function (line) {\n    if (line.markedSpans)\n      { (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans; }\n    ++n;\n  });\n}\n\nfunction removeClearedSpans(spans) {\n  if (!spans) { return null }\n  var out;\n  for (var i = 0; i < spans.length; ++i) {\n    if (spans[i].marker.explicitlyCleared) { if (!out) { out = spans.slice(0, i); } }\n    else if (out) { out.push(spans[i]); }\n  }\n  return !out ? spans : out.length ? out : null\n}\n\nfunction getOldSpans(doc, change) {\n  var found = change[\"spans_\" + doc.id];\n  if (!found) { return null }\n  var nw = [];\n  for (var i = 0; i < change.text.length; ++i)\n    { nw.push(removeClearedSpans(found[i])); }\n  return nw\n}\n\nfunction mergeOldSpans(doc, change) {\n  var old = getOldSpans(doc, change);\n  var stretched = stretchSpansOverChange(doc, change);\n  if (!old) { return stretched }\n  if (!stretched) { return old }\n\n  for (var i = 0; i < old.length; ++i) {\n    var oldCur = old[i], stretchCur = stretched[i];\n    if (oldCur && stretchCur) {\n      spans: for (var j = 0; j < stretchCur.length; ++j) {\n        var span = stretchCur[j];\n        for (var k = 0; k < oldCur.length; ++k)\n          { if (oldCur[k].marker == span.marker) { continue spans } }\n        oldCur.push(span);\n      }\n    } else if (stretchCur) {\n      old[i] = stretchCur;\n    }\n  }\n  return old\n}\n\nfunction copyHistoryArray(events, newGroup, instantiateSel) {\n  var copy = [];\n  for (var i = 0; i < events.length; ++i) {\n    var event = events[i];\n    if (event.ranges) {\n      copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event);\n      continue\n    }\n    var changes = event.changes, newChanges = [];\n    copy.push({changes: newChanges});\n    for (var j = 0; j < changes.length; ++j) {\n      var change = changes[j], m = (void 0);\n      newChanges.push({from: change.from, to: change.to, text: change.text});\n      if (newGroup) { for (var prop in change) { if (m = prop.match(/^spans_(\\d+)$/)) {\n        if (indexOf(newGroup, Number(m[1])) > -1) {\n          lst(newChanges)[prop] = change[prop];\n          delete change[prop];\n        }\n      } } }\n    }\n  }\n  return copy\n}\n\n\nfunction extendRange(range, head, other, extend) {\n  if (extend) {\n    var anchor = range.anchor;\n    if (other) {\n      var posBefore = cmp(head, anchor) < 0;\n      if (posBefore != (cmp(other, anchor) < 0)) {\n        anchor = head;\n        head = other;\n      } else if (posBefore != (cmp(head, other) < 0)) {\n        head = other;\n      }\n    }\n    return new Range(anchor, head)\n  } else {\n    return new Range(other || head, head)\n  }\n}\n\nfunction extendSelection(doc, head, other, options, extend) {\n  if (extend == null) { extend = doc.cm && (doc.cm.display.shift || doc.extend); }\n  setSelection(doc, new Selection([extendRange(doc.sel.primary(), head, other, extend)], 0), options);\n}\n\nfunction extendSelections(doc, heads, options) {\n  var out = [];\n  var extend = doc.cm && (doc.cm.display.shift || doc.extend);\n  for (var i = 0; i < doc.sel.ranges.length; i++)\n    { out[i] = extendRange(doc.sel.ranges[i], heads[i], null, extend); }\n  var newSel = normalizeSelection(out, doc.sel.primIndex);\n  setSelection(doc, newSel, options);\n}\n\nfunction replaceOneSelection(doc, i, range, options) {\n  var ranges = doc.sel.ranges.slice(0);\n  ranges[i] = range;\n  setSelection(doc, normalizeSelection(ranges, doc.sel.primIndex), options);\n}\n\nfunction setSimpleSelection(doc, anchor, head, options) {\n  setSelection(doc, simpleSelection(anchor, head), options);\n}\n\nfunction filterSelectionChange(doc, sel, options) {\n  var obj = {\n    ranges: sel.ranges,\n    update: function(ranges) {\n      var this$1 = this;\n\n      this.ranges = [];\n      for (var i = 0; i < ranges.length; i++)\n        { this$1.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),\n                                   clipPos(doc, ranges[i].head)); }\n    },\n    origin: options && options.origin\n  };\n  signal(doc, \"beforeSelectionChange\", doc, obj);\n  if (doc.cm) { signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj); }\n  if (obj.ranges != sel.ranges) { return normalizeSelection(obj.ranges, obj.ranges.length - 1) }\n  else { return sel }\n}\n\nfunction setSelectionReplaceHistory(doc, sel, options) {\n  var done = doc.history.done, last = lst(done);\n  if (last && last.ranges) {\n    done[done.length - 1] = sel;\n    setSelectionNoUndo(doc, sel, options);\n  } else {\n    setSelection(doc, sel, options);\n  }\n}\n\nfunction setSelection(doc, sel, options) {\n  setSelectionNoUndo(doc, sel, options);\n  addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options);\n}\n\nfunction setSelectionNoUndo(doc, sel, options) {\n  if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\"))\n    { sel = filterSelectionChange(doc, sel, options); }\n\n  var bias = options && options.bias ||\n    (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1);\n  setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true));\n\n  if (!(options && options.scroll === false) && doc.cm)\n    { ensureCursorVisible(doc.cm); }\n}\n\nfunction setSelectionInner(doc, sel) {\n  if (sel.equals(doc.sel)) { return }\n\n  doc.sel = sel;\n\n  if (doc.cm) {\n    doc.cm.curOp.updateInput = doc.cm.curOp.selectionChanged = true;\n    signalCursorActivity(doc.cm);\n  }\n  signalLater(doc, \"cursorActivity\", doc);\n}\n\nfunction reCheckSelection(doc) {\n  setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false));\n}\n\nfunction skipAtomicInSelection(doc, sel, bias, mayClear) {\n  var out;\n  for (var i = 0; i < sel.ranges.length; i++) {\n    var range = sel.ranges[i];\n    var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i];\n    var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear);\n    var newHead = skipAtomic(doc, range.head, old && old.head, bias, mayClear);\n    if (out || newAnchor != range.anchor || newHead != range.head) {\n      if (!out) { out = sel.ranges.slice(0, i); }\n      out[i] = new Range(newAnchor, newHead);\n    }\n  }\n  return out ? normalizeSelection(out, sel.primIndex) : sel\n}\n\nfunction skipAtomicInner(doc, pos, oldPos, dir, mayClear) {\n  var line = getLine(doc, pos.line);\n  if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n    var sp = line.markedSpans[i], m = sp.marker;\n    if ((sp.from == null || (m.inclusiveLeft ? sp.from <= pos.ch : sp.from < pos.ch)) &&\n        (sp.to == null || (m.inclusiveRight ? sp.to >= pos.ch : sp.to > pos.ch))) {\n      if (mayClear) {\n        signal(m, \"beforeCursorEnter\");\n        if (m.explicitlyCleared) {\n          if (!line.markedSpans) { break }\n          else {--i; continue}\n        }\n      }\n      if (!m.atomic) { continue }\n\n      if (oldPos) {\n        var near = m.find(dir < 0 ? 1 : -1), diff = (void 0);\n        if (dir < 0 ? m.inclusiveRight : m.inclusiveLeft)\n          { near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null); }\n        if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0))\n          { return skipAtomicInner(doc, near, pos, dir, mayClear) }\n      }\n\n      var far = m.find(dir < 0 ? -1 : 1);\n      if (dir < 0 ? m.inclusiveLeft : m.inclusiveRight)\n        { far = movePos(doc, far, dir, far.line == pos.line ? line : null); }\n      return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null\n    }\n  } }\n  return pos\n}\n\nfunction skipAtomic(doc, pos, oldPos, bias, mayClear) {\n  var dir = bias || 1;\n  var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) ||\n      (!mayClear && skipAtomicInner(doc, pos, oldPos, dir, true)) ||\n      skipAtomicInner(doc, pos, oldPos, -dir, mayClear) ||\n      (!mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true));\n  if (!found) {\n    doc.cantEdit = true;\n    return Pos(doc.first, 0)\n  }\n  return found\n}\n\nfunction movePos(doc, pos, dir, line) {\n  if (dir < 0 && pos.ch == 0) {\n    if (pos.line > doc.first) { return clipPos(doc, Pos(pos.line - 1)) }\n    else { return null }\n  } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {\n    if (pos.line < doc.first + doc.size - 1) { return Pos(pos.line + 1, 0) }\n    else { return null }\n  } else {\n    return new Pos(pos.line, pos.ch + dir)\n  }\n}\n\nfunction selectAll(cm) {\n  cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll);\n}\n\n\nfunction filterChange(doc, change, update) {\n  var obj = {\n    canceled: false,\n    from: change.from,\n    to: change.to,\n    text: change.text,\n    origin: change.origin,\n    cancel: function () { return obj.canceled = true; }\n  };\n  if (update) { obj.update = function (from, to, text, origin) {\n    if (from) { obj.from = clipPos(doc, from); }\n    if (to) { obj.to = clipPos(doc, to); }\n    if (text) { obj.text = text; }\n    if (origin !== undefined) { obj.origin = origin; }\n  }; }\n  signal(doc, \"beforeChange\", doc, obj);\n  if (doc.cm) { signal(doc.cm, \"beforeChange\", doc.cm, obj); }\n\n  if (obj.canceled) { return null }\n  return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin}\n}\n\nfunction makeChange(doc, change, ignoreReadOnly) {\n  if (doc.cm) {\n    if (!doc.cm.curOp) { return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly) }\n    if (doc.cm.state.suppressEdits) { return }\n  }\n\n  if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\n    change = filterChange(doc, change, true);\n    if (!change) { return }\n  }\n\n  var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to);\n  if (split) {\n    for (var i = split.length - 1; i >= 0; --i)\n      { makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [\"\"] : change.text, origin: change.origin}); }\n  } else {\n    makeChangeInner(doc, change);\n  }\n}\n\nfunction makeChangeInner(doc, change) {\n  if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) { return }\n  var selAfter = computeSelAfterChange(doc, change);\n  addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN);\n\n  makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change));\n  var rebased = [];\n\n  linkedDocs(doc, function (doc, sharedHist) {\n    if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n      rebaseHist(doc.history, change);\n      rebased.push(doc.history);\n    }\n    makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change));\n  });\n}\n\nfunction makeChangeFromHistory(doc, type, allowSelectionOnly) {\n  if (doc.cm && doc.cm.state.suppressEdits && !allowSelectionOnly) { return }\n\n  var hist = doc.history, event, selAfter = doc.sel;\n  var source = type == \"undo\" ? hist.done : hist.undone, dest = type == \"undo\" ? hist.undone : hist.done;\n\n  var i = 0;\n  for (; i < source.length; i++) {\n    event = source[i];\n    if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)\n      { break }\n  }\n  if (i == source.length) { return }\n  hist.lastOrigin = hist.lastSelOrigin = null;\n\n  for (;;) {\n    event = source.pop();\n    if (event.ranges) {\n      pushSelectionToHistory(event, dest);\n      if (allowSelectionOnly && !event.equals(doc.sel)) {\n        setSelection(doc, event, {clearRedo: false});\n        return\n      }\n      selAfter = event;\n    }\n    else { break }\n  }\n\n  var antiChanges = [];\n  pushSelectionToHistory(selAfter, dest);\n  dest.push({changes: antiChanges, generation: hist.generation});\n  hist.generation = event.generation || ++hist.maxGeneration;\n\n  var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\");\n\n  var loop = function ( i ) {\n    var change = event.changes[i];\n    change.origin = type;\n    if (filter && !filterChange(doc, change, false)) {\n      source.length = 0;\n      return {}\n    }\n\n    antiChanges.push(historyChangeFromChange(doc, change));\n\n    var after = i ? computeSelAfterChange(doc, change) : lst(source);\n    makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change));\n    if (!i && doc.cm) { doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)}); }\n    var rebased = [];\n\n    linkedDocs(doc, function (doc, sharedHist) {\n      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n        rebaseHist(doc.history, change);\n        rebased.push(doc.history);\n      }\n      makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change));\n    });\n  };\n\n  for (var i$1 = event.changes.length - 1; i$1 >= 0; --i$1) {\n    var returned = loop( i$1 );\n\n    if ( returned ) return returned.v;\n  }\n}\n\nfunction shiftDoc(doc, distance) {\n  if (distance == 0) { return }\n  doc.first += distance;\n  doc.sel = new Selection(map(doc.sel.ranges, function (range) { return new Range(\n    Pos(range.anchor.line + distance, range.anchor.ch),\n    Pos(range.head.line + distance, range.head.ch)\n  ); }), doc.sel.primIndex);\n  if (doc.cm) {\n    regChange(doc.cm, doc.first, doc.first - distance, distance);\n    for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)\n      { regLineChange(doc.cm, l, \"gutter\"); }\n  }\n}\n\nfunction makeChangeSingleDoc(doc, change, selAfter, spans) {\n  if (doc.cm && !doc.cm.curOp)\n    { return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans) }\n\n  if (change.to.line < doc.first) {\n    shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line));\n    return\n  }\n  if (change.from.line > doc.lastLine()) { return }\n\n  if (change.from.line < doc.first) {\n    var shift = change.text.length - 1 - (doc.first - change.from.line);\n    shiftDoc(doc, shift);\n    change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),\n              text: [lst(change.text)], origin: change.origin};\n  }\n  var last = doc.lastLine();\n  if (change.to.line > last) {\n    change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),\n              text: [change.text[0]], origin: change.origin};\n  }\n\n  change.removed = getBetween(doc, change.from, change.to);\n\n  if (!selAfter) { selAfter = computeSelAfterChange(doc, change); }\n  if (doc.cm) { makeChangeSingleDocInEditor(doc.cm, change, spans); }\n  else { updateDoc(doc, change, spans); }\n  setSelectionNoUndo(doc, selAfter, sel_dontScroll);\n}\n\nfunction makeChangeSingleDocInEditor(cm, change, spans) {\n  var doc = cm.doc, display = cm.display, from = change.from, to = change.to;\n\n  var recomputeMaxLength = false, checkWidthStart = from.line;\n  if (!cm.options.lineWrapping) {\n    checkWidthStart = lineNo(visualLine(getLine(doc, from.line)));\n    doc.iter(checkWidthStart, to.line + 1, function (line) {\n      if (line == display.maxLine) {\n        recomputeMaxLength = true;\n        return true\n      }\n    });\n  }\n\n  if (doc.sel.contains(change.from, change.to) > -1)\n    { signalCursorActivity(cm); }\n\n  updateDoc(doc, change, spans, estimateHeight(cm));\n\n  if (!cm.options.lineWrapping) {\n    doc.iter(checkWidthStart, from.line + change.text.length, function (line) {\n      var len = lineLength(line);\n      if (len > display.maxLineLength) {\n        display.maxLine = line;\n        display.maxLineLength = len;\n        display.maxLineChanged = true;\n        recomputeMaxLength = false;\n      }\n    });\n    if (recomputeMaxLength) { cm.curOp.updateMaxLine = true; }\n  }\n\n  retreatFrontier(doc, from.line);\n  startWorker(cm, 400);\n\n  var lendiff = change.text.length - (to.line - from.line) - 1;\n  if (change.full)\n    { regChange(cm); }\n  else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))\n    { regLineChange(cm, from.line, \"text\"); }\n  else\n    { regChange(cm, from.line, to.line + 1, lendiff); }\n\n  var changesHandler = hasHandler(cm, \"changes\"), changeHandler = hasHandler(cm, \"change\");\n  if (changeHandler || changesHandler) {\n    var obj = {\n      from: from, to: to,\n      text: change.text,\n      removed: change.removed,\n      origin: change.origin\n    };\n    if (changeHandler) { signalLater(cm, \"change\", cm, obj); }\n    if (changesHandler) { (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj); }\n  }\n  cm.display.selForContextMenu = null;\n}\n\nfunction replaceRange(doc, code, from, to, origin) {\n  if (!to) { to = from; }\n  if (cmp(to, from) < 0) { var assign;\n    (assign = [to, from], from = assign[0], to = assign[1], assign); }\n  if (typeof code == \"string\") { code = doc.splitLines(code); }\n  makeChange(doc, {from: from, to: to, text: code, origin: origin});\n}\n\n\nfunction rebaseHistSelSingle(pos, from, to, diff) {\n  if (to < pos.line) {\n    pos.line += diff;\n  } else if (from < pos.line) {\n    pos.line = from;\n    pos.ch = 0;\n  }\n}\n\nfunction rebaseHistArray(array, from, to, diff) {\n  for (var i = 0; i < array.length; ++i) {\n    var sub = array[i], ok = true;\n    if (sub.ranges) {\n      if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true; }\n      for (var j = 0; j < sub.ranges.length; j++) {\n        rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff);\n        rebaseHistSelSingle(sub.ranges[j].head, from, to, diff);\n      }\n      continue\n    }\n    for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {\n      var cur = sub.changes[j$1];\n      if (to < cur.from.line) {\n        cur.from = Pos(cur.from.line + diff, cur.from.ch);\n        cur.to = Pos(cur.to.line + diff, cur.to.ch);\n      } else if (from <= cur.to.line) {\n        ok = false;\n        break\n      }\n    }\n    if (!ok) {\n      array.splice(0, i + 1);\n      i = 0;\n    }\n  }\n}\n\nfunction rebaseHist(hist, change) {\n  var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1;\n  rebaseHistArray(hist.done, from, to, diff);\n  rebaseHistArray(hist.undone, from, to, diff);\n}\n\nfunction changeLine(doc, handle, changeType, op) {\n  var no = handle, line = handle;\n  if (typeof handle == \"number\") { line = getLine(doc, clipLine(doc, handle)); }\n  else { no = lineNo(handle); }\n  if (no == null) { return null }\n  if (op(line, no) && doc.cm) { regLineChange(doc.cm, no, changeType); }\n  return line\n}\n\n\nfunction LeafChunk(lines) {\n  var this$1 = this;\n\n  this.lines = lines;\n  this.parent = null;\n  var height = 0;\n  for (var i = 0; i < lines.length; ++i) {\n    lines[i].parent = this$1;\n    height += lines[i].height;\n  }\n  this.height = height;\n}\n\nLeafChunk.prototype = {\n  chunkSize: function chunkSize() { return this.lines.length },\n\n  removeInner: function removeInner(at, n) {\n    var this$1 = this;\n\n    for (var i = at, e = at + n; i < e; ++i) {\n      var line = this$1.lines[i];\n      this$1.height -= line.height;\n      cleanUpLine(line);\n      signalLater(line, \"delete\");\n    }\n    this.lines.splice(at, n);\n  },\n\n  collapse: function collapse(lines) {\n    lines.push.apply(lines, this.lines);\n  },\n\n  insertInner: function insertInner(at, lines, height) {\n    var this$1 = this;\n\n    this.height += height;\n    this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));\n    for (var i = 0; i < lines.length; ++i) { lines[i].parent = this$1; }\n  },\n\n  iterN: function iterN(at, n, op) {\n    var this$1 = this;\n\n    for (var e = at + n; at < e; ++at)\n      { if (op(this$1.lines[at])) { return true } }\n  }\n};\n\nfunction BranchChunk(children) {\n  var this$1 = this;\n\n  this.children = children;\n  var size = 0, height = 0;\n  for (var i = 0; i < children.length; ++i) {\n    var ch = children[i];\n    size += ch.chunkSize(); height += ch.height;\n    ch.parent = this$1;\n  }\n  this.size = size;\n  this.height = height;\n  this.parent = null;\n}\n\nBranchChunk.prototype = {\n  chunkSize: function chunkSize() { return this.size },\n\n  removeInner: function removeInner(at, n) {\n    var this$1 = this;\n\n    this.size -= n;\n    for (var i = 0; i < this.children.length; ++i) {\n      var child = this$1.children[i], sz = child.chunkSize();\n      if (at < sz) {\n        var rm = Math.min(n, sz - at), oldHeight = child.height;\n        child.removeInner(at, rm);\n        this$1.height -= oldHeight - child.height;\n        if (sz == rm) { this$1.children.splice(i--, 1); child.parent = null; }\n        if ((n -= rm) == 0) { break }\n        at = 0;\n      } else { at -= sz; }\n    }\n    if (this.size - n < 25 &&\n        (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\n      var lines = [];\n      this.collapse(lines);\n      this.children = [new LeafChunk(lines)];\n      this.children[0].parent = this;\n    }\n  },\n\n  collapse: function collapse(lines) {\n    var this$1 = this;\n\n    for (var i = 0; i < this.children.length; ++i) { this$1.children[i].collapse(lines); }\n  },\n\n  insertInner: function insertInner(at, lines, height) {\n    var this$1 = this;\n\n    this.size += lines.length;\n    this.height += height;\n    for (var i = 0; i < this.children.length; ++i) {\n      var child = this$1.children[i], sz = child.chunkSize();\n      if (at <= sz) {\n        child.insertInner(at, lines, height);\n        if (child.lines && child.lines.length > 50) {\n          var remaining = child.lines.length % 25 + 25;\n          for (var pos = remaining; pos < child.lines.length;) {\n            var leaf = new LeafChunk(child.lines.slice(pos, pos += 25));\n            child.height -= leaf.height;\n            this$1.children.splice(++i, 0, leaf);\n            leaf.parent = this$1;\n          }\n          child.lines = child.lines.slice(0, remaining);\n          this$1.maybeSpill();\n        }\n        break\n      }\n      at -= sz;\n    }\n  },\n\n  maybeSpill: function maybeSpill() {\n    if (this.children.length <= 10) { return }\n    var me = this;\n    do {\n      var spilled = me.children.splice(me.children.length - 5, 5);\n      var sibling = new BranchChunk(spilled);\n      if (!me.parent) { \n        var copy = new BranchChunk(me.children);\n        copy.parent = me;\n        me.children = [copy, sibling];\n        me = copy;\n     } else {\n        me.size -= sibling.size;\n        me.height -= sibling.height;\n        var myIndex = indexOf(me.parent.children, me);\n        me.parent.children.splice(myIndex + 1, 0, sibling);\n      }\n      sibling.parent = me.parent;\n    } while (me.children.length > 10)\n    me.parent.maybeSpill();\n  },\n\n  iterN: function iterN(at, n, op) {\n    var this$1 = this;\n\n    for (var i = 0; i < this.children.length; ++i) {\n      var child = this$1.children[i], sz = child.chunkSize();\n      if (at < sz) {\n        var used = Math.min(n, sz - at);\n        if (child.iterN(at, used, op)) { return true }\n        if ((n -= used) == 0) { break }\n        at = 0;\n      } else { at -= sz; }\n    }\n  }\n};\n\n\nvar LineWidget = function(doc, node, options) {\n  var this$1 = this;\n\n  if (options) { for (var opt in options) { if (options.hasOwnProperty(opt))\n    { this$1[opt] = options[opt]; } } }\n  this.doc = doc;\n  this.node = node;\n};\n\nLineWidget.prototype.clear = function () {\n    var this$1 = this;\n\n  var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line);\n  if (no == null || !ws) { return }\n  for (var i = 0; i < ws.length; ++i) { if (ws[i] == this$1) { ws.splice(i--, 1); } }\n  if (!ws.length) { line.widgets = null; }\n  var height = widgetHeight(this);\n  updateLineHeight(line, Math.max(0, line.height - height));\n  if (cm) {\n    runInOp(cm, function () {\n      adjustScrollWhenAboveVisible(cm, line, -height);\n      regLineChange(cm, no, \"widget\");\n    });\n    signalLater(cm, \"lineWidgetCleared\", cm, this, no);\n  }\n};\n\nLineWidget.prototype.changed = function () {\n    var this$1 = this;\n\n  var oldH = this.height, cm = this.doc.cm, line = this.line;\n  this.height = null;\n  var diff = widgetHeight(this) - oldH;\n  if (!diff) { return }\n  updateLineHeight(line, line.height + diff);\n  if (cm) {\n    runInOp(cm, function () {\n      cm.curOp.forceUpdate = true;\n      adjustScrollWhenAboveVisible(cm, line, diff);\n      signalLater(cm, \"lineWidgetChanged\", cm, this$1, lineNo(line));\n    });\n  }\n};\neventMixin(LineWidget);\n\nfunction adjustScrollWhenAboveVisible(cm, line, diff) {\n  if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))\n    { addToScrollTop(cm, diff); }\n}\n\nfunction addLineWidget(doc, handle, node, options) {\n  var widget = new LineWidget(doc, node, options);\n  var cm = doc.cm;\n  if (cm && widget.noHScroll) { cm.display.alignWidgets = true; }\n  changeLine(doc, handle, \"widget\", function (line) {\n    var widgets = line.widgets || (line.widgets = []);\n    if (widget.insertAt == null) { widgets.push(widget); }\n    else { widgets.splice(Math.min(widgets.length - 1, Math.max(0, widget.insertAt)), 0, widget); }\n    widget.line = line;\n    if (cm && !lineIsHidden(doc, line)) {\n      var aboveVisible = heightAtLine(line) < doc.scrollTop;\n      updateLineHeight(line, line.height + widgetHeight(widget));\n      if (aboveVisible) { addToScrollTop(cm, widget.height); }\n      cm.curOp.forceUpdate = true;\n    }\n    return true\n  });\n  signalLater(cm, \"lineWidgetAdded\", cm, widget, typeof handle == \"number\" ? handle : lineNo(handle));\n  return widget\n}\n\n\n\nvar nextMarkerId = 0;\n\nvar TextMarker = function(doc, type) {\n  this.lines = [];\n  this.type = type;\n  this.doc = doc;\n  this.id = ++nextMarkerId;\n};\n\nTextMarker.prototype.clear = function () {\n    var this$1 = this;\n\n  if (this.explicitlyCleared) { return }\n  var cm = this.doc.cm, withOp = cm && !cm.curOp;\n  if (withOp) { startOperation(cm); }\n  if (hasHandler(this, \"clear\")) {\n    var found = this.find();\n    if (found) { signalLater(this, \"clear\", found.from, found.to); }\n  }\n  var min = null, max = null;\n  for (var i = 0; i < this.lines.length; ++i) {\n    var line = this$1.lines[i];\n    var span = getMarkedSpanFor(line.markedSpans, this$1);\n    if (cm && !this$1.collapsed) { regLineChange(cm, lineNo(line), \"text\"); }\n    else if (cm) {\n      if (span.to != null) { max = lineNo(line); }\n      if (span.from != null) { min = lineNo(line); }\n    }\n    line.markedSpans = removeMarkedSpan(line.markedSpans, span);\n    if (span.from == null && this$1.collapsed && !lineIsHidden(this$1.doc, line) && cm)\n      { updateLineHeight(line, textHeight(cm.display)); }\n  }\n  if (cm && this.collapsed && !cm.options.lineWrapping) { for (var i$1 = 0; i$1 < this.lines.length; ++i$1) {\n    var visual = visualLine(this$1.lines[i$1]), len = lineLength(visual);\n    if (len > cm.display.maxLineLength) {\n      cm.display.maxLine = visual;\n      cm.display.maxLineLength = len;\n      cm.display.maxLineChanged = true;\n    }\n  } }\n\n  if (min != null && cm && this.collapsed) { regChange(cm, min, max + 1); }\n  this.lines.length = 0;\n  this.explicitlyCleared = true;\n  if (this.atomic && this.doc.cantEdit) {\n    this.doc.cantEdit = false;\n    if (cm) { reCheckSelection(cm.doc); }\n  }\n  if (cm) { signalLater(cm, \"markerCleared\", cm, this, min, max); }\n  if (withOp) { endOperation(cm); }\n  if (this.parent) { this.parent.clear(); }\n};\n\nTextMarker.prototype.find = function (side, lineObj) {\n    var this$1 = this;\n\n  if (side == null && this.type == \"bookmark\") { side = 1; }\n  var from, to;\n  for (var i = 0; i < this.lines.length; ++i) {\n    var line = this$1.lines[i];\n    var span = getMarkedSpanFor(line.markedSpans, this$1);\n    if (span.from != null) {\n      from = Pos(lineObj ? line : lineNo(line), span.from);\n      if (side == -1) { return from }\n    }\n    if (span.to != null) {\n      to = Pos(lineObj ? line : lineNo(line), span.to);\n      if (side == 1) { return to }\n    }\n  }\n  return from && {from: from, to: to}\n};\n\nTextMarker.prototype.changed = function () {\n    var this$1 = this;\n\n  var pos = this.find(-1, true), widget = this, cm = this.doc.cm;\n  if (!pos || !cm) { return }\n  runInOp(cm, function () {\n    var line = pos.line, lineN = lineNo(pos.line);\n    var view = findViewForLine(cm, lineN);\n    if (view) {\n      clearLineMeasurementCacheFor(view);\n      cm.curOp.selectionChanged = cm.curOp.forceUpdate = true;\n    }\n    cm.curOp.updateMaxLine = true;\n    if (!lineIsHidden(widget.doc, line) && widget.height != null) {\n      var oldHeight = widget.height;\n      widget.height = null;\n      var dHeight = widgetHeight(widget) - oldHeight;\n      if (dHeight)\n        { updateLineHeight(line, line.height + dHeight); }\n    }\n    signalLater(cm, \"markerChanged\", cm, this$1);\n  });\n};\n\nTextMarker.prototype.attachLine = function (line) {\n  if (!this.lines.length && this.doc.cm) {\n    var op = this.doc.cm.curOp;\n    if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)\n      { (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this); }\n  }\n  this.lines.push(line);\n};\n\nTextMarker.prototype.detachLine = function (line) {\n  this.lines.splice(indexOf(this.lines, line), 1);\n  if (!this.lines.length && this.doc.cm) {\n    var op = this.doc.cm.curOp;(op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this);\n  }\n};\neventMixin(TextMarker);\n\nfunction markText(doc, from, to, options, type) {\n  if (options && options.shared) { return markTextShared(doc, from, to, options, type) }\n  if (doc.cm && !doc.cm.curOp) { return operation(doc.cm, markText)(doc, from, to, options, type) }\n\n  var marker = new TextMarker(doc, type), diff = cmp(from, to);\n  if (options) { copyObj(options, marker, false); }\n  if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)\n    { return marker }\n  if (marker.replacedWith) {\n    marker.collapsed = true;\n    marker.widgetNode = eltP(\"span\", [marker.replacedWith], \"CodeMirror-widget\");\n    if (!options.handleMouseEvents) { marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\"); }\n    if (options.insertLeft) { marker.widgetNode.insertLeft = true; }\n  }\n  if (marker.collapsed) {\n    if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||\n        from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))\n      { throw new Error(\"Inserting collapsed marker partially overlapping an existing one\") }\n    seeCollapsedSpans();\n  }\n\n  if (marker.addToHistory)\n    { addChangeToHistory(doc, {from: from, to: to, origin: \"markText\"}, doc.sel, NaN); }\n\n  var curLine = from.line, cm = doc.cm, updateMaxLine;\n  doc.iter(curLine, to.line + 1, function (line) {\n    if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)\n      { updateMaxLine = true; }\n    if (marker.collapsed && curLine != from.line) { updateLineHeight(line, 0); }\n    addMarkedSpan(line, new MarkedSpan(marker,\n                                       curLine == from.line ? from.ch : null,\n                                       curLine == to.line ? to.ch : null));\n    ++curLine;\n  });\n  if (marker.collapsed) { doc.iter(from.line, to.line + 1, function (line) {\n    if (lineIsHidden(doc, line)) { updateLineHeight(line, 0); }\n  }); }\n\n  if (marker.clearOnEnter) { on(marker, \"beforeCursorEnter\", function () { return marker.clear(); }); }\n\n  if (marker.readOnly) {\n    seeReadOnlySpans();\n    if (doc.history.done.length || doc.history.undone.length)\n      { doc.clearHistory(); }\n  }\n  if (marker.collapsed) {\n    marker.id = ++nextMarkerId;\n    marker.atomic = true;\n  }\n  if (cm) {\n    if (updateMaxLine) { cm.curOp.updateMaxLine = true; }\n    if (marker.collapsed)\n      { regChange(cm, from.line, to.line + 1); }\n    else if (marker.className || marker.title || marker.startStyle || marker.endStyle || marker.css)\n      { for (var i = from.line; i <= to.line; i++) { regLineChange(cm, i, \"text\"); } }\n    if (marker.atomic) { reCheckSelection(cm.doc); }\n    signalLater(cm, \"markerAdded\", cm, marker);\n  }\n  return marker\n}\n\n\nvar SharedTextMarker = function(markers, primary) {\n  var this$1 = this;\n\n  this.markers = markers;\n  this.primary = primary;\n  for (var i = 0; i < markers.length; ++i)\n    { markers[i].parent = this$1; }\n};\n\nSharedTextMarker.prototype.clear = function () {\n    var this$1 = this;\n\n  if (this.explicitlyCleared) { return }\n  this.explicitlyCleared = true;\n  for (var i = 0; i < this.markers.length; ++i)\n    { this$1.markers[i].clear(); }\n  signalLater(this, \"clear\");\n};\n\nSharedTextMarker.prototype.find = function (side, lineObj) {\n  return this.primary.find(side, lineObj)\n};\neventMixin(SharedTextMarker);\n\nfunction markTextShared(doc, from, to, options, type) {\n  options = copyObj(options);\n  options.shared = false;\n  var markers = [markText(doc, from, to, options, type)], primary = markers[0];\n  var widget = options.widgetNode;\n  linkedDocs(doc, function (doc) {\n    if (widget) { options.widgetNode = widget.cloneNode(true); }\n    markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type));\n    for (var i = 0; i < doc.linked.length; ++i)\n      { if (doc.linked[i].isParent) { return } }\n    primary = lst(markers);\n  });\n  return new SharedTextMarker(markers, primary)\n}\n\nfunction findSharedMarkers(doc) {\n  return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())), function (m) { return m.parent; })\n}\n\nfunction copySharedMarkers(doc, markers) {\n  for (var i = 0; i < markers.length; i++) {\n    var marker = markers[i], pos = marker.find();\n    var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to);\n    if (cmp(mFrom, mTo)) {\n      var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type);\n      marker.markers.push(subMark);\n      subMark.parent = marker;\n    }\n  }\n}\n\nfunction detachSharedMarkers(markers) {\n  var loop = function ( i ) {\n    var marker = markers[i], linked = [marker.primary.doc];\n    linkedDocs(marker.primary.doc, function (d) { return linked.push(d); });\n    for (var j = 0; j < marker.markers.length; j++) {\n      var subMarker = marker.markers[j];\n      if (indexOf(linked, subMarker.doc) == -1) {\n        subMarker.parent = null;\n        marker.markers.splice(j--, 1);\n      }\n    }\n  };\n\n  for (var i = 0; i < markers.length; i++) loop( i );\n}\n\nvar nextDocId = 0;\nvar Doc = function(text, mode, firstLine, lineSep, direction) {\n  if (!(this instanceof Doc)) { return new Doc(text, mode, firstLine, lineSep, direction) }\n  if (firstLine == null) { firstLine = 0; }\n\n  BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])]);\n  this.first = firstLine;\n  this.scrollTop = this.scrollLeft = 0;\n  this.cantEdit = false;\n  this.cleanGeneration = 1;\n  this.modeFrontier = this.highlightFrontier = firstLine;\n  var start = Pos(firstLine, 0);\n  this.sel = simpleSelection(start);\n  this.history = new History(null);\n  this.id = ++nextDocId;\n  this.modeOption = mode;\n  this.lineSep = lineSep;\n  this.direction = (direction == \"rtl\") ? \"rtl\" : \"ltr\";\n  this.extend = false;\n\n  if (typeof text == \"string\") { text = this.splitLines(text); }\n  updateDoc(this, {from: start, to: start, text: text});\n  setSelection(this, simpleSelection(start), sel_dontScroll);\n};\n\nDoc.prototype = createObj(BranchChunk.prototype, {\n  constructor: Doc,\n  iter: function(from, to, op) {\n    if (op) { this.iterN(from - this.first, to - from, op); }\n    else { this.iterN(this.first, this.first + this.size, from); }\n  },\n\n  insert: function(at, lines) {\n    var height = 0;\n    for (var i = 0; i < lines.length; ++i) { height += lines[i].height; }\n    this.insertInner(at - this.first, lines, height);\n  },\n  remove: function(at, n) { this.removeInner(at - this.first, n); },\n\n\n  getValue: function(lineSep) {\n    var lines = getLines(this, this.first, this.first + this.size);\n    if (lineSep === false) { return lines }\n    return lines.join(lineSep || this.lineSeparator())\n  },\n  setValue: docMethodOp(function(code) {\n    var top = Pos(this.first, 0), last = this.first + this.size - 1;\n    makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),\n                      text: this.splitLines(code), origin: \"setValue\", full: true}, true);\n    if (this.cm) { scrollToCoords(this.cm, 0, 0); }\n    setSelection(this, simpleSelection(top), sel_dontScroll);\n  }),\n  replaceRange: function(code, from, to, origin) {\n    from = clipPos(this, from);\n    to = to ? clipPos(this, to) : from;\n    replaceRange(this, code, from, to, origin);\n  },\n  getRange: function(from, to, lineSep) {\n    var lines = getBetween(this, clipPos(this, from), clipPos(this, to));\n    if (lineSep === false) { return lines }\n    return lines.join(lineSep || this.lineSeparator())\n  },\n\n  getLine: function(line) {var l = this.getLineHandle(line); return l && l.text},\n\n  getLineHandle: function(line) {if (isLine(this, line)) { return getLine(this, line) }},\n  getLineNumber: function(line) {return lineNo(line)},\n\n  getLineHandleVisualStart: function(line) {\n    if (typeof line == \"number\") { line = getLine(this, line); }\n    return visualLine(line)\n  },\n\n  lineCount: function() {return this.size},\n  firstLine: function() {return this.first},\n  lastLine: function() {return this.first + this.size - 1},\n\n  clipPos: function(pos) {return clipPos(this, pos)},\n\n  getCursor: function(start) {\n    var range$$1 = this.sel.primary(), pos;\n    if (start == null || start == \"head\") { pos = range$$1.head; }\n    else if (start == \"anchor\") { pos = range$$1.anchor; }\n    else if (start == \"end\" || start == \"to\" || start === false) { pos = range$$1.to(); }\n    else { pos = range$$1.from(); }\n    return pos\n  },\n  listSelections: function() { return this.sel.ranges },\n  somethingSelected: function() {return this.sel.somethingSelected()},\n\n  setCursor: docMethodOp(function(line, ch, options) {\n    setSimpleSelection(this, clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options);\n  }),\n  setSelection: docMethodOp(function(anchor, head, options) {\n    setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options);\n  }),\n  extendSelection: docMethodOp(function(head, other, options) {\n    extendSelection(this, clipPos(this, head), other && clipPos(this, other), options);\n  }),\n  extendSelections: docMethodOp(function(heads, options) {\n    extendSelections(this, clipPosArray(this, heads), options);\n  }),\n  extendSelectionsBy: docMethodOp(function(f, options) {\n    var heads = map(this.sel.ranges, f);\n    extendSelections(this, clipPosArray(this, heads), options);\n  }),\n  setSelections: docMethodOp(function(ranges, primary, options) {\n    var this$1 = this;\n\n    if (!ranges.length) { return }\n    var out = [];\n    for (var i = 0; i < ranges.length; i++)\n      { out[i] = new Range(clipPos(this$1, ranges[i].anchor),\n                         clipPos(this$1, ranges[i].head)); }\n    if (primary == null) { primary = Math.min(ranges.length - 1, this.sel.primIndex); }\n    setSelection(this, normalizeSelection(out, primary), options);\n  }),\n  addSelection: docMethodOp(function(anchor, head, options) {\n    var ranges = this.sel.ranges.slice(0);\n    ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)));\n    setSelection(this, normalizeSelection(ranges, ranges.length - 1), options);\n  }),\n\n  getSelection: function(lineSep) {\n    var this$1 = this;\n\n    var ranges = this.sel.ranges, lines;\n    for (var i = 0; i < ranges.length; i++) {\n      var sel = getBetween(this$1, ranges[i].from(), ranges[i].to());\n      lines = lines ? lines.concat(sel) : sel;\n    }\n    if (lineSep === false) { return lines }\n    else { return lines.join(lineSep || this.lineSeparator()) }\n  },\n  getSelections: function(lineSep) {\n    var this$1 = this;\n\n    var parts = [], ranges = this.sel.ranges;\n    for (var i = 0; i < ranges.length; i++) {\n      var sel = getBetween(this$1, ranges[i].from(), ranges[i].to());\n      if (lineSep !== false) { sel = sel.join(lineSep || this$1.lineSeparator()); }\n      parts[i] = sel;\n    }\n    return parts\n  },\n  replaceSelection: function(code, collapse, origin) {\n    var dup = [];\n    for (var i = 0; i < this.sel.ranges.length; i++)\n      { dup[i] = code; }\n    this.replaceSelections(dup, collapse, origin || \"+input\");\n  },\n  replaceSelections: docMethodOp(function(code, collapse, origin) {\n    var this$1 = this;\n\n    var changes = [], sel = this.sel;\n    for (var i = 0; i < sel.ranges.length; i++) {\n      var range$$1 = sel.ranges[i];\n      changes[i] = {from: range$$1.from(), to: range$$1.to(), text: this$1.splitLines(code[i]), origin: origin};\n    }\n    var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse);\n    for (var i$1 = changes.length - 1; i$1 >= 0; i$1--)\n      { makeChange(this$1, changes[i$1]); }\n    if (newSel) { setSelectionReplaceHistory(this, newSel); }\n    else if (this.cm) { ensureCursorVisible(this.cm); }\n  }),\n  undo: docMethodOp(function() {makeChangeFromHistory(this, \"undo\");}),\n  redo: docMethodOp(function() {makeChangeFromHistory(this, \"redo\");}),\n  undoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"undo\", true);}),\n  redoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"redo\", true);}),\n\n  setExtending: function(val) {this.extend = val;},\n  getExtending: function() {return this.extend},\n\n  historySize: function() {\n    var hist = this.history, done = 0, undone = 0;\n    for (var i = 0; i < hist.done.length; i++) { if (!hist.done[i].ranges) { ++done; } }\n    for (var i$1 = 0; i$1 < hist.undone.length; i$1++) { if (!hist.undone[i$1].ranges) { ++undone; } }\n    return {undo: done, redo: undone}\n  },\n  clearHistory: function() {this.history = new History(this.history.maxGeneration);},\n\n  markClean: function() {\n    this.cleanGeneration = this.changeGeneration(true);\n  },\n  changeGeneration: function(forceSplit) {\n    if (forceSplit)\n      { this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null; }\n    return this.history.generation\n  },\n  isClean: function (gen) {\n    return this.history.generation == (gen || this.cleanGeneration)\n  },\n\n  getHistory: function() {\n    return {done: copyHistoryArray(this.history.done),\n            undone: copyHistoryArray(this.history.undone)}\n  },\n  setHistory: function(histData) {\n    var hist = this.history = new History(this.history.maxGeneration);\n    hist.done = copyHistoryArray(histData.done.slice(0), null, true);\n    hist.undone = copyHistoryArray(histData.undone.slice(0), null, true);\n  },\n\n  setGutterMarker: docMethodOp(function(line, gutterID, value) {\n    return changeLine(this, line, \"gutter\", function (line) {\n      var markers = line.gutterMarkers || (line.gutterMarkers = {});\n      markers[gutterID] = value;\n      if (!value && isEmpty(markers)) { line.gutterMarkers = null; }\n      return true\n    })\n  }),\n\n  clearGutter: docMethodOp(function(gutterID) {\n    var this$1 = this;\n\n    this.iter(function (line) {\n      if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\n        changeLine(this$1, line, \"gutter\", function () {\n          line.gutterMarkers[gutterID] = null;\n          if (isEmpty(line.gutterMarkers)) { line.gutterMarkers = null; }\n          return true\n        });\n      }\n    });\n  }),\n\n  lineInfo: function(line) {\n    var n;\n    if (typeof line == \"number\") {\n      if (!isLine(this, line)) { return null }\n      n = line;\n      line = getLine(this, line);\n      if (!line) { return null }\n    } else {\n      n = lineNo(line);\n      if (n == null) { return null }\n    }\n    return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,\n            textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,\n            widgets: line.widgets}\n  },\n\n  addLineClass: docMethodOp(function(handle, where, cls) {\n    return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n      var prop = where == \"text\" ? \"textClass\"\n               : where == \"background\" ? \"bgClass\"\n               : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n      if (!line[prop]) { line[prop] = cls; }\n      else if (classTest(cls).test(line[prop])) { return false }\n      else { line[prop] += \" \" + cls; }\n      return true\n    })\n  }),\n  removeLineClass: docMethodOp(function(handle, where, cls) {\n    return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n      var prop = where == \"text\" ? \"textClass\"\n               : where == \"background\" ? \"bgClass\"\n               : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n      var cur = line[prop];\n      if (!cur) { return false }\n      else if (cls == null) { line[prop] = null; }\n      else {\n        var found = cur.match(classTest(cls));\n        if (!found) { return false }\n        var end = found.index + found[0].length;\n        line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null;\n      }\n      return true\n    })\n  }),\n\n  addLineWidget: docMethodOp(function(handle, node, options) {\n    return addLineWidget(this, handle, node, options)\n  }),\n  removeLineWidget: function(widget) { widget.clear(); },\n\n  markText: function(from, to, options) {\n    return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || \"range\")\n  },\n  setBookmark: function(pos, options) {\n    var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),\n                    insertLeft: options && options.insertLeft,\n                    clearWhenEmpty: false, shared: options && options.shared,\n                    handleMouseEvents: options && options.handleMouseEvents};\n    pos = clipPos(this, pos);\n    return markText(this, pos, pos, realOpts, \"bookmark\")\n  },\n  findMarksAt: function(pos) {\n    pos = clipPos(this, pos);\n    var markers = [], spans = getLine(this, pos.line).markedSpans;\n    if (spans) { for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if ((span.from == null || span.from <= pos.ch) &&\n          (span.to == null || span.to >= pos.ch))\n        { markers.push(span.marker.parent || span.marker); }\n    } }\n    return markers\n  },\n  findMarks: function(from, to, filter) {\n    from = clipPos(this, from); to = clipPos(this, to);\n    var found = [], lineNo$$1 = from.line;\n    this.iter(from.line, to.line + 1, function (line) {\n      var spans = line.markedSpans;\n      if (spans) { for (var i = 0; i < spans.length; i++) {\n        var span = spans[i];\n        if (!(span.to != null && lineNo$$1 == from.line && from.ch >= span.to ||\n              span.from == null && lineNo$$1 != from.line ||\n              span.from != null && lineNo$$1 == to.line && span.from >= to.ch) &&\n            (!filter || filter(span.marker)))\n          { found.push(span.marker.parent || span.marker); }\n      } }\n      ++lineNo$$1;\n    });\n    return found\n  },\n  getAllMarks: function() {\n    var markers = [];\n    this.iter(function (line) {\n      var sps = line.markedSpans;\n      if (sps) { for (var i = 0; i < sps.length; ++i)\n        { if (sps[i].from != null) { markers.push(sps[i].marker); } } }\n    });\n    return markers\n  },\n\n  posFromIndex: function(off) {\n    var ch, lineNo$$1 = this.first, sepSize = this.lineSeparator().length;\n    this.iter(function (line) {\n      var sz = line.text.length + sepSize;\n      if (sz > off) { ch = off; return true }\n      off -= sz;\n      ++lineNo$$1;\n    });\n    return clipPos(this, Pos(lineNo$$1, ch))\n  },\n  indexFromPos: function (coords) {\n    coords = clipPos(this, coords);\n    var index = coords.ch;\n    if (coords.line < this.first || coords.ch < 0) { return 0 }\n    var sepSize = this.lineSeparator().length;\n    this.iter(this.first, coords.line, function (line) { \n      index += line.text.length + sepSize;\n    });\n    return index\n  },\n\n  copy: function(copyHistory) {\n    var doc = new Doc(getLines(this, this.first, this.first + this.size),\n                      this.modeOption, this.first, this.lineSep, this.direction);\n    doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft;\n    doc.sel = this.sel;\n    doc.extend = false;\n    if (copyHistory) {\n      doc.history.undoDepth = this.history.undoDepth;\n      doc.setHistory(this.getHistory());\n    }\n    return doc\n  },\n\n  linkedDoc: function(options) {\n    if (!options) { options = {}; }\n    var from = this.first, to = this.first + this.size;\n    if (options.from != null && options.from > from) { from = options.from; }\n    if (options.to != null && options.to < to) { to = options.to; }\n    var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep, this.direction);\n    if (options.sharedHist) { copy.history = this.history\n    ; }(this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist});\n    copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}];\n    copySharedMarkers(copy, findSharedMarkers(this));\n    return copy\n  },\n  unlinkDoc: function(other) {\n    var this$1 = this;\n\n    if (other instanceof CodeMirror$1) { other = other.doc; }\n    if (this.linked) { for (var i = 0; i < this.linked.length; ++i) {\n      var link = this$1.linked[i];\n      if (link.doc != other) { continue }\n      this$1.linked.splice(i, 1);\n      other.unlinkDoc(this$1);\n      detachSharedMarkers(findSharedMarkers(this$1));\n      break\n    } }\n    if (other.history == this.history) {\n      var splitIds = [other.id];\n      linkedDocs(other, function (doc) { return splitIds.push(doc.id); }, true);\n      other.history = new History(null);\n      other.history.done = copyHistoryArray(this.history.done, splitIds);\n      other.history.undone = copyHistoryArray(this.history.undone, splitIds);\n    }\n  },\n  iterLinkedDocs: function(f) {linkedDocs(this, f);},\n\n  getMode: function() {return this.mode},\n  getEditor: function() {return this.cm},\n\n  splitLines: function(str) {\n    if (this.lineSep) { return str.split(this.lineSep) }\n    return splitLinesAuto(str)\n  },\n  lineSeparator: function() { return this.lineSep || \"\\n\" },\n\n  setDirection: docMethodOp(function (dir) {\n    if (dir != \"rtl\") { dir = \"ltr\"; }\n    if (dir == this.direction) { return }\n    this.direction = dir;\n    this.iter(function (line) { return line.order = null; });\n    if (this.cm) { directionChanged(this.cm); }\n  })\n});\n\nDoc.prototype.eachLine = Doc.prototype.iter;\n\nvar lastDrop = 0;\n\nfunction onDrop(e) {\n  var cm = this;\n  clearDragCursor(cm);\n  if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))\n    { return }\n  e_preventDefault(e);\n  if (ie) { lastDrop = +new Date; }\n  var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files;\n  if (!pos || cm.isReadOnly()) { return }\n  if (files && files.length && window.FileReader && window.File) {\n    var n = files.length, text = Array(n), read = 0;\n    var loadFile = function (file, i) {\n      if (cm.options.allowDropFileTypes &&\n          indexOf(cm.options.allowDropFileTypes, file.type) == -1)\n        { return }\n\n      var reader = new FileReader;\n      reader.onload = operation(cm, function () {\n        var content = reader.result;\n        if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)) { content = \"\"; }\n        text[i] = content;\n        if (++read == n) {\n          pos = clipPos(cm.doc, pos);\n          var change = {from: pos, to: pos,\n                        text: cm.doc.splitLines(text.join(cm.doc.lineSeparator())),\n                        origin: \"paste\"};\n          makeChange(cm.doc, change);\n          setSelectionReplaceHistory(cm.doc, simpleSelection(pos, changeEnd(change)));\n        }\n      });\n      reader.readAsText(file);\n    };\n    for (var i = 0; i < n; ++i) { loadFile(files[i], i); }\n  } else { \n    if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\n      cm.state.draggingText(e);\n      setTimeout(function () { return cm.display.input.focus(); }, 20);\n      return\n    }\n    try {\n      var text$1 = e.dataTransfer.getData(\"Text\");\n      if (text$1) {\n        var selected;\n        if (cm.state.draggingText && !cm.state.draggingText.copy)\n          { selected = cm.listSelections(); }\n        setSelectionNoUndo(cm.doc, simpleSelection(pos, pos));\n        if (selected) { for (var i$1 = 0; i$1 < selected.length; ++i$1)\n          { replaceRange(cm.doc, \"\", selected[i$1].anchor, selected[i$1].head, \"drag\"); } }\n        cm.replaceSelection(text$1, \"around\", \"paste\");\n        cm.display.input.focus();\n      }\n    }\n    catch(e){}\n  }\n}\n\nfunction onDragStart(cm, e) {\n  if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return }\n  if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) { return }\n\n  e.dataTransfer.setData(\"Text\", cm.getSelection());\n  e.dataTransfer.effectAllowed = \"copyMove\";\n\n  if (e.dataTransfer.setDragImage && !safari) {\n    var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\");\n    img.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n    if (presto) {\n      img.width = img.height = 1;\n      cm.display.wrapper.appendChild(img);\n      img._top = img.offsetTop;\n    }\n    e.dataTransfer.setDragImage(img, 0, 0);\n    if (presto) { img.parentNode.removeChild(img); }\n  }\n}\n\nfunction onDragOver(cm, e) {\n  var pos = posFromMouse(cm, e);\n  if (!pos) { return }\n  var frag = document.createDocumentFragment();\n  drawSelectionCursor(cm, pos, frag);\n  if (!cm.display.dragCursor) {\n    cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\");\n    cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv);\n  }\n  removeChildrenAndAdd(cm.display.dragCursor, frag);\n}\n\nfunction clearDragCursor(cm) {\n  if (cm.display.dragCursor) {\n    cm.display.lineSpace.removeChild(cm.display.dragCursor);\n    cm.display.dragCursor = null;\n  }\n}\n\n\nfunction forEachCodeMirror(f) {\n  if (!document.getElementsByClassName) { return }\n  var byClass = document.getElementsByClassName(\"CodeMirror\");\n  for (var i = 0; i < byClass.length; i++) {\n    var cm = byClass[i].CodeMirror;\n    if (cm) { f(cm); }\n  }\n}\n\nvar globalsRegistered = false;\nfunction ensureGlobalHandlers() {\n  if (globalsRegistered) { return }\n  registerGlobalHandlers();\n  globalsRegistered = true;\n}\nfunction registerGlobalHandlers() {\n  var resizeTimer;\n  on(window, \"resize\", function () {\n    if (resizeTimer == null) { resizeTimer = setTimeout(function () {\n      resizeTimer = null;\n      forEachCodeMirror(onResize);\n    }, 100); }\n  });\n  on(window, \"blur\", function () { return forEachCodeMirror(onBlur); });\n}\nfunction onResize(cm) {\n  var d = cm.display;\n  if (d.lastWrapHeight == d.wrapper.clientHeight && d.lastWrapWidth == d.wrapper.clientWidth)\n    { return }\n  d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n  d.scrollbarsClipped = false;\n  cm.setSize();\n}\n\nvar keyNames = {\n  3: \"Enter\", 8: \"Backspace\", 9: \"Tab\", 13: \"Enter\", 16: \"Shift\", 17: \"Ctrl\", 18: \"Alt\",\n  19: \"Pause\", 20: \"CapsLock\", 27: \"Esc\", 32: \"Space\", 33: \"PageUp\", 34: \"PageDown\", 35: \"End\",\n  36: \"Home\", 37: \"Left\", 38: \"Up\", 39: \"Right\", 40: \"Down\", 44: \"PrintScrn\", 45: \"Insert\",\n  46: \"Delete\", 59: \";\", 61: \"=\", 91: \"Mod\", 92: \"Mod\", 93: \"Mod\",\n  106: \"*\", 107: \"=\", 109: \"-\", 110: \".\", 111: \"/\", 127: \"Delete\",\n  173: \"-\", 186: \";\", 187: \"=\", 188: \",\", 189: \"-\", 190: \".\", 191: \"/\", 192: \"`\", 219: \"[\", 220: \"\\\\\",\n  221: \"]\", 222: \"'\", 63232: \"Up\", 63233: \"Down\", 63234: \"Left\", 63235: \"Right\", 63272: \"Delete\",\n  63273: \"Home\", 63275: \"End\", 63276: \"PageUp\", 63277: \"PageDown\", 63302: \"Insert\"\n};\n\nfor (var i = 0; i < 10; i++) { keyNames[i + 48] = keyNames[i + 96] = String(i); }\nfor (var i$1 = 65; i$1 <= 90; i$1++) { keyNames[i$1] = String.fromCharCode(i$1); }\nfor (var i$2 = 1; i$2 <= 12; i$2++) { keyNames[i$2 + 111] = keyNames[i$2 + 63235] = \"F\" + i$2; }\n\nvar keyMap = {};\n\nkeyMap.basic = {\n  \"Left\": \"goCharLeft\", \"Right\": \"goCharRight\", \"Up\": \"goLineUp\", \"Down\": \"goLineDown\",\n  \"End\": \"goLineEnd\", \"Home\": \"goLineStartSmart\", \"PageUp\": \"goPageUp\", \"PageDown\": \"goPageDown\",\n  \"Delete\": \"delCharAfter\", \"Backspace\": \"delCharBefore\", \"Shift-Backspace\": \"delCharBefore\",\n  \"Tab\": \"defaultTab\", \"Shift-Tab\": \"indentAuto\",\n  \"Enter\": \"newlineAndIndent\", \"Insert\": \"toggleOverwrite\",\n  \"Esc\": \"singleSelection\"\n};\nkeyMap.pcDefault = {\n  \"Ctrl-A\": \"selectAll\", \"Ctrl-D\": \"deleteLine\", \"Ctrl-Z\": \"undo\", \"Shift-Ctrl-Z\": \"redo\", \"Ctrl-Y\": \"redo\",\n  \"Ctrl-Home\": \"goDocStart\", \"Ctrl-End\": \"goDocEnd\", \"Ctrl-Up\": \"goLineUp\", \"Ctrl-Down\": \"goLineDown\",\n  \"Ctrl-Left\": \"goGroupLeft\", \"Ctrl-Right\": \"goGroupRight\", \"Alt-Left\": \"goLineStart\", \"Alt-Right\": \"goLineEnd\",\n  \"Ctrl-Backspace\": \"delGroupBefore\", \"Ctrl-Delete\": \"delGroupAfter\", \"Ctrl-S\": \"save\", \"Ctrl-F\": \"find\",\n  \"Ctrl-G\": \"findNext\", \"Shift-Ctrl-G\": \"findPrev\", \"Shift-Ctrl-F\": \"replace\", \"Shift-Ctrl-R\": \"replaceAll\",\n  \"Ctrl-[\": \"indentLess\", \"Ctrl-]\": \"indentMore\",\n  \"Ctrl-U\": \"undoSelection\", \"Shift-Ctrl-U\": \"redoSelection\", \"Alt-U\": \"redoSelection\",\n  fallthrough: \"basic\"\n};\nkeyMap.emacsy = {\n  \"Ctrl-F\": \"goCharRight\", \"Ctrl-B\": \"goCharLeft\", \"Ctrl-P\": \"goLineUp\", \"Ctrl-N\": \"goLineDown\",\n  \"Alt-F\": \"goWordRight\", \"Alt-B\": \"goWordLeft\", \"Ctrl-A\": \"goLineStart\", \"Ctrl-E\": \"goLineEnd\",\n  \"Ctrl-V\": \"goPageDown\", \"Shift-Ctrl-V\": \"goPageUp\", \"Ctrl-D\": \"delCharAfter\", \"Ctrl-H\": \"delCharBefore\",\n  \"Alt-D\": \"delWordAfter\", \"Alt-Backspace\": \"delWordBefore\", \"Ctrl-K\": \"killLine\", \"Ctrl-T\": \"transposeChars\",\n  \"Ctrl-O\": \"openLine\"\n};\nkeyMap.macDefault = {\n  \"Cmd-A\": \"selectAll\", \"Cmd-D\": \"deleteLine\", \"Cmd-Z\": \"undo\", \"Shift-Cmd-Z\": \"redo\", \"Cmd-Y\": \"redo\",\n  \"Cmd-Home\": \"goDocStart\", \"Cmd-Up\": \"goDocStart\", \"Cmd-End\": \"goDocEnd\", \"Cmd-Down\": \"goDocEnd\", \"Alt-Left\": \"goGroupLeft\",\n  \"Alt-Right\": \"goGroupRight\", \"Cmd-Left\": \"goLineLeft\", \"Cmd-Right\": \"goLineRight\", \"Alt-Backspace\": \"delGroupBefore\",\n  \"Ctrl-Alt-Backspace\": \"delGroupAfter\", \"Alt-Delete\": \"delGroupAfter\", \"Cmd-S\": \"save\", \"Cmd-F\": \"find\",\n  \"Cmd-G\": \"findNext\", \"Shift-Cmd-G\": \"findPrev\", \"Cmd-Alt-F\": \"replace\", \"Shift-Cmd-Alt-F\": \"replaceAll\",\n  \"Cmd-[\": \"indentLess\", \"Cmd-]\": \"indentMore\", \"Cmd-Backspace\": \"delWrappedLineLeft\", \"Cmd-Delete\": \"delWrappedLineRight\",\n  \"Cmd-U\": \"undoSelection\", \"Shift-Cmd-U\": \"redoSelection\", \"Ctrl-Up\": \"goDocStart\", \"Ctrl-Down\": \"goDocEnd\",\n  fallthrough: [\"basic\", \"emacsy\"]\n};\nkeyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault;\n\n\nfunction normalizeKeyName(name) {\n  var parts = name.split(/-(?!$)/);\n  name = parts[parts.length - 1];\n  var alt, ctrl, shift, cmd;\n  for (var i = 0; i < parts.length - 1; i++) {\n    var mod = parts[i];\n    if (/^(cmd|meta|m)$/i.test(mod)) { cmd = true; }\n    else if (/^a(lt)?$/i.test(mod)) { alt = true; }\n    else if (/^(c|ctrl|control)$/i.test(mod)) { ctrl = true; }\n    else if (/^s(hift)?$/i.test(mod)) { shift = true; }\n    else { throw new Error(\"Unrecognized modifier name: \" + mod) }\n  }\n  if (alt) { name = \"Alt-\" + name; }\n  if (ctrl) { name = \"Ctrl-\" + name; }\n  if (cmd) { name = \"Cmd-\" + name; }\n  if (shift) { name = \"Shift-\" + name; }\n  return name\n}\n\nfunction normalizeKeyMap(keymap) {\n  var copy = {};\n  for (var keyname in keymap) { if (keymap.hasOwnProperty(keyname)) {\n    var value = keymap[keyname];\n    if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) { continue }\n    if (value == \"...\") { delete keymap[keyname]; continue }\n\n    var keys = map(keyname.split(\" \"), normalizeKeyName);\n    for (var i = 0; i < keys.length; i++) {\n      var val = (void 0), name = (void 0);\n      if (i == keys.length - 1) {\n        name = keys.join(\" \");\n        val = value;\n      } else {\n        name = keys.slice(0, i + 1).join(\" \");\n        val = \"...\";\n      }\n      var prev = copy[name];\n      if (!prev) { copy[name] = val; }\n      else if (prev != val) { throw new Error(\"Inconsistent bindings for \" + name) }\n    }\n    delete keymap[keyname];\n  } }\n  for (var prop in copy) { keymap[prop] = copy[prop]; }\n  return keymap\n}\n\nfunction lookupKey(key, map$$1, handle, context) {\n  map$$1 = getKeyMap(map$$1);\n  var found = map$$1.call ? map$$1.call(key, context) : map$$1[key];\n  if (found === false) { return \"nothing\" }\n  if (found === \"...\") { return \"multi\" }\n  if (found != null && handle(found)) { return \"handled\" }\n\n  if (map$$1.fallthrough) {\n    if (Object.prototype.toString.call(map$$1.fallthrough) != \"[object Array]\")\n      { return lookupKey(key, map$$1.fallthrough, handle, context) }\n    for (var i = 0; i < map$$1.fallthrough.length; i++) {\n      var result = lookupKey(key, map$$1.fallthrough[i], handle, context);\n      if (result) { return result }\n    }\n  }\n}\n\nfunction isModifierKey(value) {\n  var name = typeof value == \"string\" ? value : keyNames[value.keyCode];\n  return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\"\n}\n\nfunction addModifierNames(name, event, noShift) {\n  var base = name;\n  if (event.altKey && base != \"Alt\") { name = \"Alt-\" + name; }\n  if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") { name = \"Ctrl-\" + name; }\n  if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Cmd\") { name = \"Cmd-\" + name; }\n  if (!noShift && event.shiftKey && base != \"Shift\") { name = \"Shift-\" + name; }\n  return name\n}\n\nfunction keyName(event, noShift) {\n  if (presto && event.keyCode == 34 && event[\"char\"]) { return false }\n  var name = keyNames[event.keyCode];\n  if (name == null || event.altGraphKey) { return false }\n  return addModifierNames(name, event, noShift)\n}\n\nfunction getKeyMap(val) {\n  return typeof val == \"string\" ? keyMap[val] : val\n}\n\nfunction deleteNearSelection(cm, compute) {\n  var ranges = cm.doc.sel.ranges, kill = [];\n  for (var i = 0; i < ranges.length; i++) {\n    var toKill = compute(ranges[i]);\n    while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\n      var replaced = kill.pop();\n      if (cmp(replaced.from, toKill.from) < 0) {\n        toKill.from = replaced.from;\n        break\n      }\n    }\n    kill.push(toKill);\n  }\n  runInOp(cm, function () {\n    for (var i = kill.length - 1; i >= 0; i--)\n      { replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\"); }\n    ensureCursorVisible(cm);\n  });\n}\n\nfunction moveCharLogically(line, ch, dir) {\n  var target = skipExtendingChars(line.text, ch + dir, dir);\n  return target < 0 || target > line.text.length ? null : target\n}\n\nfunction moveLogically(line, start, dir) {\n  var ch = moveCharLogically(line, start.ch, dir);\n  return ch == null ? null : new Pos(start.line, ch, dir < 0 ? \"after\" : \"before\")\n}\n\nfunction endOfLine(visually, cm, lineObj, lineNo, dir) {\n  if (visually) {\n    var order = getOrder(lineObj, cm.doc.direction);\n    if (order) {\n      var part = dir < 0 ? lst(order) : order[0];\n      var moveInStorageOrder = (dir < 0) == (part.level == 1);\n      var sticky = moveInStorageOrder ? \"after\" : \"before\";\n      var ch;\n      if (part.level > 0 || cm.doc.direction == \"rtl\") {\n        var prep = prepareMeasureForLine(cm, lineObj);\n        ch = dir < 0 ? lineObj.text.length - 1 : 0;\n        var targetTop = measureCharPrepared(cm, prep, ch).top;\n        ch = findFirst(function (ch) { return measureCharPrepared(cm, prep, ch).top == targetTop; }, (dir < 0) == (part.level == 1) ? part.from : part.to - 1, ch);\n        if (sticky == \"before\") { ch = moveCharLogically(lineObj, ch, 1); }\n      } else { ch = dir < 0 ? part.to : part.from; }\n      return new Pos(lineNo, ch, sticky)\n    }\n  }\n  return new Pos(lineNo, dir < 0 ? lineObj.text.length : 0, dir < 0 ? \"before\" : \"after\")\n}\n\nfunction moveVisually(cm, line, start, dir) {\n  var bidi = getOrder(line, cm.doc.direction);\n  if (!bidi) { return moveLogically(line, start, dir) }\n  if (start.ch >= line.text.length) {\n    start.ch = line.text.length;\n    start.sticky = \"before\";\n  } else if (start.ch <= 0) {\n    start.ch = 0;\n    start.sticky = \"after\";\n  }\n  var partPos = getBidiPartAt(bidi, start.ch, start.sticky), part = bidi[partPos];\n  if (cm.doc.direction == \"ltr\" && part.level % 2 == 0 && (dir > 0 ? part.to > start.ch : part.from < start.ch)) {\n    return moveLogically(line, start, dir)\n  }\n\n  var mv = function (pos, dir) { return moveCharLogically(line, pos instanceof Pos ? pos.ch : pos, dir); };\n  var prep;\n  var getWrappedLineExtent = function (ch) {\n    if (!cm.options.lineWrapping) { return {begin: 0, end: line.text.length} }\n    prep = prep || prepareMeasureForLine(cm, line);\n    return wrappedLineExtentChar(cm, line, prep, ch)\n  };\n  var wrappedLineExtent = getWrappedLineExtent(start.sticky == \"before\" ? mv(start, -1) : start.ch);\n\n  if (cm.doc.direction == \"rtl\" || part.level == 1) {\n    var moveInStorageOrder = (part.level == 1) == (dir < 0);\n    var ch = mv(start, moveInStorageOrder ? 1 : -1);\n    if (ch != null && (!moveInStorageOrder ? ch >= part.from && ch >= wrappedLineExtent.begin : ch <= part.to && ch <= wrappedLineExtent.end)) {\n      var sticky = moveInStorageOrder ? \"before\" : \"after\";\n      return new Pos(start.line, ch, sticky)\n    }\n  }\n\n\n  var searchInVisualLine = function (partPos, dir, wrappedLineExtent) {\n    var getRes = function (ch, moveInStorageOrder) { return moveInStorageOrder\n      ? new Pos(start.line, mv(ch, 1), \"before\")\n      : new Pos(start.line, ch, \"after\"); };\n\n    for (; partPos >= 0 && partPos < bidi.length; partPos += dir) {\n      var part = bidi[partPos];\n      var moveInStorageOrder = (dir > 0) == (part.level != 1);\n      var ch = moveInStorageOrder ? wrappedLineExtent.begin : mv(wrappedLineExtent.end, -1);\n      if (part.from <= ch && ch < part.to) { return getRes(ch, moveInStorageOrder) }\n      ch = moveInStorageOrder ? part.from : mv(part.to, -1);\n      if (wrappedLineExtent.begin <= ch && ch < wrappedLineExtent.end) { return getRes(ch, moveInStorageOrder) }\n    }\n  };\n\n  var res = searchInVisualLine(partPos + dir, dir, wrappedLineExtent);\n  if (res) { return res }\n\n  var nextCh = dir > 0 ? wrappedLineExtent.end : mv(wrappedLineExtent.begin, -1);\n  if (nextCh != null && !(dir > 0 && nextCh == line.text.length)) {\n    res = searchInVisualLine(dir > 0 ? 0 : bidi.length - 1, dir, getWrappedLineExtent(nextCh));\n    if (res) { return res }\n  }\n\n  return null\n}\n\nvar commands = {\n  selectAll: selectAll,\n  singleSelection: function (cm) { return cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll); },\n  killLine: function (cm) { return deleteNearSelection(cm, function (range) {\n    if (range.empty()) {\n      var len = getLine(cm.doc, range.head.line).text.length;\n      if (range.head.ch == len && range.head.line < cm.lastLine())\n        { return {from: range.head, to: Pos(range.head.line + 1, 0)} }\n      else\n        { return {from: range.head, to: Pos(range.head.line, len)} }\n    } else {\n      return {from: range.from(), to: range.to()}\n    }\n  }); },\n  deleteLine: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n    from: Pos(range.from().line, 0),\n    to: clipPos(cm.doc, Pos(range.to().line + 1, 0))\n  }); }); },\n  delLineLeft: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n    from: Pos(range.from().line, 0), to: range.from()\n  }); }); },\n  delWrappedLineLeft: function (cm) { return deleteNearSelection(cm, function (range) {\n    var top = cm.charCoords(range.head, \"div\").top + 5;\n    var leftPos = cm.coordsChar({left: 0, top: top}, \"div\");\n    return {from: leftPos, to: range.from()}\n  }); },\n  delWrappedLineRight: function (cm) { return deleteNearSelection(cm, function (range) {\n    var top = cm.charCoords(range.head, \"div\").top + 5;\n    var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\");\n    return {from: range.from(), to: rightPos }\n  }); },\n  undo: function (cm) { return cm.undo(); },\n  redo: function (cm) { return cm.redo(); },\n  undoSelection: function (cm) { return cm.undoSelection(); },\n  redoSelection: function (cm) { return cm.redoSelection(); },\n  goDocStart: function (cm) { return cm.extendSelection(Pos(cm.firstLine(), 0)); },\n  goDocEnd: function (cm) { return cm.extendSelection(Pos(cm.lastLine())); },\n  goLineStart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStart(cm, range.head.line); },\n    {origin: \"+move\", bias: 1}\n  ); },\n  goLineStartSmart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStartSmart(cm, range.head); },\n    {origin: \"+move\", bias: 1}\n  ); },\n  goLineEnd: function (cm) { return cm.extendSelectionsBy(function (range) { return lineEnd(cm, range.head.line); },\n    {origin: \"+move\", bias: -1}\n  ); },\n  goLineRight: function (cm) { return cm.extendSelectionsBy(function (range) {\n    var top = cm.cursorCoords(range.head, \"div\").top + 5;\n    return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\")\n  }, sel_move); },\n  goLineLeft: function (cm) { return cm.extendSelectionsBy(function (range) {\n    var top = cm.cursorCoords(range.head, \"div\").top + 5;\n    return cm.coordsChar({left: 0, top: top}, \"div\")\n  }, sel_move); },\n  goLineLeftSmart: function (cm) { return cm.extendSelectionsBy(function (range) {\n    var top = cm.cursorCoords(range.head, \"div\").top + 5;\n    var pos = cm.coordsChar({left: 0, top: top}, \"div\");\n    if (pos.ch < cm.getLine(pos.line).search(/\\S/)) { return lineStartSmart(cm, range.head) }\n    return pos\n  }, sel_move); },\n  goLineUp: function (cm) { return cm.moveV(-1, \"line\"); },\n  goLineDown: function (cm) { return cm.moveV(1, \"line\"); },\n  goPageUp: function (cm) { return cm.moveV(-1, \"page\"); },\n  goPageDown: function (cm) { return cm.moveV(1, \"page\"); },\n  goCharLeft: function (cm) { return cm.moveH(-1, \"char\"); },\n  goCharRight: function (cm) { return cm.moveH(1, \"char\"); },\n  goColumnLeft: function (cm) { return cm.moveH(-1, \"column\"); },\n  goColumnRight: function (cm) { return cm.moveH(1, \"column\"); },\n  goWordLeft: function (cm) { return cm.moveH(-1, \"word\"); },\n  goGroupRight: function (cm) { return cm.moveH(1, \"group\"); },\n  goGroupLeft: function (cm) { return cm.moveH(-1, \"group\"); },\n  goWordRight: function (cm) { return cm.moveH(1, \"word\"); },\n  delCharBefore: function (cm) { return cm.deleteH(-1, \"char\"); },\n  delCharAfter: function (cm) { return cm.deleteH(1, \"char\"); },\n  delWordBefore: function (cm) { return cm.deleteH(-1, \"word\"); },\n  delWordAfter: function (cm) { return cm.deleteH(1, \"word\"); },\n  delGroupBefore: function (cm) { return cm.deleteH(-1, \"group\"); },\n  delGroupAfter: function (cm) { return cm.deleteH(1, \"group\"); },\n  indentAuto: function (cm) { return cm.indentSelection(\"smart\"); },\n  indentMore: function (cm) { return cm.indentSelection(\"add\"); },\n  indentLess: function (cm) { return cm.indentSelection(\"subtract\"); },\n  insertTab: function (cm) { return cm.replaceSelection(\"\\t\"); },\n  insertSoftTab: function (cm) {\n    var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize;\n    for (var i = 0; i < ranges.length; i++) {\n      var pos = ranges[i].from();\n      var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize);\n      spaces.push(spaceStr(tabSize - col % tabSize));\n    }\n    cm.replaceSelections(spaces);\n  },\n  defaultTab: function (cm) {\n    if (cm.somethingSelected()) { cm.indentSelection(\"add\"); }\n    else { cm.execCommand(\"insertTab\"); }\n  },\n  transposeChars: function (cm) { return runInOp(cm, function () {\n    var ranges = cm.listSelections(), newSel = [];\n    for (var i = 0; i < ranges.length; i++) {\n      if (!ranges[i].empty()) { continue }\n      var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text;\n      if (line) {\n        if (cur.ch == line.length) { cur = new Pos(cur.line, cur.ch - 1); }\n        if (cur.ch > 0) {\n          cur = new Pos(cur.line, cur.ch + 1);\n          cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),\n                          Pos(cur.line, cur.ch - 2), cur, \"+transpose\");\n        } else if (cur.line > cm.doc.first) {\n          var prev = getLine(cm.doc, cur.line - 1).text;\n          if (prev) {\n            cur = new Pos(cur.line, 1);\n            cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() +\n                            prev.charAt(prev.length - 1),\n                            Pos(cur.line - 1, prev.length - 1), cur, \"+transpose\");\n          }\n        }\n      }\n      newSel.push(new Range(cur, cur));\n    }\n    cm.setSelections(newSel);\n  }); },\n  newlineAndIndent: function (cm) { return runInOp(cm, function () {\n    var sels = cm.listSelections();\n    for (var i = sels.length - 1; i >= 0; i--)\n      { cm.replaceRange(cm.doc.lineSeparator(), sels[i].anchor, sels[i].head, \"+input\"); }\n    sels = cm.listSelections();\n    for (var i$1 = 0; i$1 < sels.length; i$1++)\n      { cm.indentLine(sels[i$1].from().line, null, true); }\n    ensureCursorVisible(cm);\n  }); },\n  openLine: function (cm) { return cm.replaceSelection(\"\\n\", \"start\"); },\n  toggleOverwrite: function (cm) { return cm.toggleOverwrite(); }\n};\n\n\nfunction lineStart(cm, lineN) {\n  var line = getLine(cm.doc, lineN);\n  var visual = visualLine(line);\n  if (visual != line) { lineN = lineNo(visual); }\n  return endOfLine(true, cm, visual, lineN, 1)\n}\nfunction lineEnd(cm, lineN) {\n  var line = getLine(cm.doc, lineN);\n  var visual = visualLineEnd(line);\n  if (visual != line) { lineN = lineNo(visual); }\n  return endOfLine(true, cm, line, lineN, -1)\n}\nfunction lineStartSmart(cm, pos) {\n  var start = lineStart(cm, pos.line);\n  var line = getLine(cm.doc, start.line);\n  var order = getOrder(line, cm.doc.direction);\n  if (!order || order[0].level == 0) {\n    var firstNonWS = Math.max(0, line.text.search(/\\S/));\n    var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch;\n    return Pos(start.line, inWS ? 0 : firstNonWS, start.sticky)\n  }\n  return start\n}\n\nfunction doHandleBinding(cm, bound, dropShift) {\n  if (typeof bound == \"string\") {\n    bound = commands[bound];\n    if (!bound) { return false }\n  }\n  cm.display.input.ensurePolled();\n  var prevShift = cm.display.shift, done = false;\n  try {\n    if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n    if (dropShift) { cm.display.shift = false; }\n    done = bound(cm) != Pass;\n  } finally {\n    cm.display.shift = prevShift;\n    cm.state.suppressEdits = false;\n  }\n  return done\n}\n\nfunction lookupKeyForEditor(cm, name, handle) {\n  for (var i = 0; i < cm.state.keyMaps.length; i++) {\n    var result = lookupKey(name, cm.state.keyMaps[i], handle, cm);\n    if (result) { return result }\n  }\n  return (cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm))\n    || lookupKey(name, cm.options.keyMap, handle, cm)\n}\n\n\nvar stopSeq = new Delayed;\nfunction dispatchKey(cm, name, e, handle) {\n  var seq = cm.state.keySeq;\n  if (seq) {\n    if (isModifierKey(name)) { return \"handled\" }\n    stopSeq.set(50, function () {\n      if (cm.state.keySeq == seq) {\n        cm.state.keySeq = null;\n        cm.display.input.reset();\n      }\n    });\n    name = seq + \" \" + name;\n  }\n  var result = lookupKeyForEditor(cm, name, handle);\n\n  if (result == \"multi\")\n    { cm.state.keySeq = name; }\n  if (result == \"handled\")\n    { signalLater(cm, \"keyHandled\", cm, name, e); }\n\n  if (result == \"handled\" || result == \"multi\") {\n    e_preventDefault(e);\n    restartBlink(cm);\n  }\n\n  if (seq && !result && /\\'$/.test(name)) {\n    e_preventDefault(e);\n    return true\n  }\n  return !!result\n}\n\nfunction handleKeyBinding(cm, e) {\n  var name = keyName(e, true);\n  if (!name) { return false }\n\n  if (e.shiftKey && !cm.state.keySeq) {\n    return dispatchKey(cm, \"Shift-\" + name, e, function (b) { return doHandleBinding(cm, b, true); })\n        || dispatchKey(cm, name, e, function (b) {\n             if (typeof b == \"string\" ? /^go[A-Z]/.test(b) : b.motion)\n               { return doHandleBinding(cm, b) }\n           })\n  } else {\n    return dispatchKey(cm, name, e, function (b) { return doHandleBinding(cm, b); })\n  }\n}\n\nfunction handleCharBinding(cm, e, ch) {\n  return dispatchKey(cm, \"'\" + ch + \"'\", e, function (b) { return doHandleBinding(cm, b, true); })\n}\n\nvar lastStoppedKey = null;\nfunction onKeyDown(e) {\n  var cm = this;\n  cm.curOp.focus = activeElt();\n  if (signalDOMEvent(cm, e)) { return }\n  if (ie && ie_version < 11 && e.keyCode == 27) { e.returnValue = false; }\n  var code = e.keyCode;\n  cm.display.shift = code == 16 || e.shiftKey;\n  var handled = handleKeyBinding(cm, e);\n  if (presto) {\n    lastStoppedKey = handled ? code : null;\n    if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))\n      { cm.replaceSelection(\"\", null, \"cut\"); }\n  }\n\n  if (code == 18 && !/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className))\n    { showCrossHair(cm); }\n}\n\nfunction showCrossHair(cm) {\n  var lineDiv = cm.display.lineDiv;\n  addClass(lineDiv, \"CodeMirror-crosshair\");\n\n  function up(e) {\n    if (e.keyCode == 18 || !e.altKey) {\n      rmClass(lineDiv, \"CodeMirror-crosshair\");\n      off(document, \"keyup\", up);\n      off(document, \"mouseover\", up);\n    }\n  }\n  on(document, \"keyup\", up);\n  on(document, \"mouseover\", up);\n}\n\nfunction onKeyUp(e) {\n  if (e.keyCode == 16) { this.doc.sel.shift = false; }\n  signalDOMEvent(this, e);\n}\n\nfunction onKeyPress(e) {\n  var cm = this;\n  if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) { return }\n  var keyCode = e.keyCode, charCode = e.charCode;\n  if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return}\n  if ((presto && (!e.which || e.which < 10)) && handleKeyBinding(cm, e)) { return }\n  var ch = String.fromCharCode(charCode == null ? keyCode : charCode);\n  if (ch == \"\\x08\") { return }\n  if (handleCharBinding(cm, e, ch)) { return }\n  cm.display.input.onKeyPress(e);\n}\n\nvar DOUBLECLICK_DELAY = 400;\n\nvar PastClick = function(time, pos, button) {\n  this.time = time;\n  this.pos = pos;\n  this.button = button;\n};\n\nPastClick.prototype.compare = function (time, pos, button) {\n  return this.time + DOUBLECLICK_DELAY > time &&\n    cmp(pos, this.pos) == 0 && button == this.button\n};\n\nvar lastClick;\nvar lastDoubleClick;\nfunction clickRepeat(pos, button) {\n  var now = +new Date;\n  if (lastDoubleClick && lastDoubleClick.compare(now, pos, button)) {\n    lastClick = lastDoubleClick = null;\n    return \"triple\"\n  } else if (lastClick && lastClick.compare(now, pos, button)) {\n    lastDoubleClick = new PastClick(now, pos, button);\n    lastClick = null;\n    return \"double\"\n  } else {\n    lastClick = new PastClick(now, pos, button);\n    lastDoubleClick = null;\n    return \"single\"\n  }\n}\n\nfunction onMouseDown(e) {\n  var cm = this, display = cm.display;\n  if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) { return }\n  display.input.ensurePolled();\n  display.shift = e.shiftKey;\n\n  if (eventInWidget(display, e)) {\n    if (!webkit) {\n      display.scroller.draggable = false;\n      setTimeout(function () { return display.scroller.draggable = true; }, 100);\n    }\n    return\n  }\n  if (clickInGutter(cm, e)) { return }\n  var pos = posFromMouse(cm, e), button = e_button(e), repeat = pos ? clickRepeat(pos, button) : \"single\";\n  window.focus();\n\n  if (button == 1 && cm.state.selectingText)\n    { cm.state.selectingText(e); }\n\n  if (pos && handleMappedButton(cm, button, pos, repeat, e)) { return }\n\n  if (button == 1) {\n    if (pos) { leftButtonDown(cm, pos, repeat, e); }\n    else if (e_target(e) == display.scroller) { e_preventDefault(e); }\n  } else if (button == 2) {\n    if (pos) { extendSelection(cm.doc, pos); }\n    setTimeout(function () { return display.input.focus(); }, 20);\n  } else if (button == 3) {\n    if (captureRightClick) { onContextMenu(cm, e); }\n    else { delayBlurEvent(cm); }\n  }\n}\n\nfunction handleMappedButton(cm, button, pos, repeat, event) {\n  var name = \"Click\";\n  if (repeat == \"double\") { name = \"Double\" + name; }\n  else if (repeat == \"triple\") { name = \"Triple\" + name; }\n  name = (button == 1 ? \"Left\" : button == 2 ? \"Middle\" : \"Right\") + name;\n\n  return dispatchKey(cm,  addModifierNames(name, event), event, function (bound) {\n    if (typeof bound == \"string\") { bound = commands[bound]; }\n    if (!bound) { return false }\n    var done = false;\n    try {\n      if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n      done = bound(cm, pos) != Pass;\n    } finally {\n      cm.state.suppressEdits = false;\n    }\n    return done\n  })\n}\n\nfunction configureMouse(cm, repeat, event) {\n  var option = cm.getOption(\"configureMouse\");\n  var value = option ? option(cm, repeat, event) : {};\n  if (value.unit == null) {\n    var rect = chromeOS ? event.shiftKey && event.metaKey : event.altKey;\n    value.unit = rect ? \"rectangle\" : repeat == \"single\" ? \"char\" : repeat == \"double\" ? \"word\" : \"line\";\n  }\n  if (value.extend == null || cm.doc.extend) { value.extend = cm.doc.extend || event.shiftKey; }\n  if (value.addNew == null) { value.addNew = mac ? event.metaKey : event.ctrlKey; }\n  if (value.moveOnDrag == null) { value.moveOnDrag = !(mac ? event.altKey : event.ctrlKey); }\n  return value\n}\n\nfunction leftButtonDown(cm, pos, repeat, event) {\n  if (ie) { setTimeout(bind(ensureFocus, cm), 0); }\n  else { cm.curOp.focus = activeElt(); }\n\n  var behavior = configureMouse(cm, repeat, event);\n\n  var sel = cm.doc.sel, contained;\n  if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() &&\n      repeat == \"single\" && (contained = sel.contains(pos)) > -1 &&\n      (cmp((contained = sel.ranges[contained]).from(), pos) < 0 || pos.xRel > 0) &&\n      (cmp(contained.to(), pos) > 0 || pos.xRel < 0))\n    { leftButtonStartDrag(cm, event, pos, behavior); }\n  else\n    { leftButtonSelect(cm, event, pos, behavior); }\n}\n\nfunction leftButtonStartDrag(cm, event, pos, behavior) {\n  var display = cm.display, moved = false;\n  var dragEnd = operation(cm, function (e) {\n    if (webkit) { display.scroller.draggable = false; }\n    cm.state.draggingText = false;\n    off(document, \"mouseup\", dragEnd);\n    off(document, \"mousemove\", mouseMove);\n    off(display.scroller, \"dragstart\", dragStart);\n    off(display.scroller, \"drop\", dragEnd);\n    if (!moved) {\n      e_preventDefault(e);\n      if (!behavior.addNew)\n        { extendSelection(cm.doc, pos, null, null, behavior.extend); }\n      if (webkit || ie && ie_version == 9)\n        { setTimeout(function () {document.body.focus(); display.input.focus();}, 20); }\n      else\n        { display.input.focus(); }\n    }\n  });\n  var mouseMove = function(e2) {\n    moved = moved || Math.abs(event.clientX - e2.clientX) + Math.abs(event.clientY - e2.clientY) >= 10;\n  };\n  var dragStart = function () { return moved = true; };\n  if (webkit) { display.scroller.draggable = true; }\n  cm.state.draggingText = dragEnd;\n  dragEnd.copy = !behavior.moveOnDrag;\n  if (display.scroller.dragDrop) { display.scroller.dragDrop(); }\n  on(document, \"mouseup\", dragEnd);\n  on(document, \"mousemove\", mouseMove);\n  on(display.scroller, \"dragstart\", dragStart);\n  on(display.scroller, \"drop\", dragEnd);\n\n  delayBlurEvent(cm);\n  setTimeout(function () { return display.input.focus(); }, 20);\n}\n\nfunction rangeForUnit(cm, pos, unit) {\n  if (unit == \"char\") { return new Range(pos, pos) }\n  if (unit == \"word\") { return cm.findWordAt(pos) }\n  if (unit == \"line\") { return new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))) }\n  var result = unit(cm, pos);\n  return new Range(result.from, result.to)\n}\n\nfunction leftButtonSelect(cm, event, start, behavior) {\n  var display = cm.display, doc = cm.doc;\n  e_preventDefault(event);\n\n  var ourRange, ourIndex, startSel = doc.sel, ranges = startSel.ranges;\n  if (behavior.addNew && !behavior.extend) {\n    ourIndex = doc.sel.contains(start);\n    if (ourIndex > -1)\n      { ourRange = ranges[ourIndex]; }\n    else\n      { ourRange = new Range(start, start); }\n  } else {\n    ourRange = doc.sel.primary();\n    ourIndex = doc.sel.primIndex;\n  }\n\n  if (behavior.unit == \"rectangle\") {\n    if (!behavior.addNew) { ourRange = new Range(start, start); }\n    start = posFromMouse(cm, event, true, true);\n    ourIndex = -1;\n  } else {\n    var range$$1 = rangeForUnit(cm, start, behavior.unit);\n    if (behavior.extend)\n      { ourRange = extendRange(ourRange, range$$1.anchor, range$$1.head, behavior.extend); }\n    else\n      { ourRange = range$$1; }\n  }\n\n  if (!behavior.addNew) {\n    ourIndex = 0;\n    setSelection(doc, new Selection([ourRange], 0), sel_mouse);\n    startSel = doc.sel;\n  } else if (ourIndex == -1) {\n    ourIndex = ranges.length;\n    setSelection(doc, normalizeSelection(ranges.concat([ourRange]), ourIndex),\n                 {scroll: false, origin: \"*mouse\"});\n  } else if (ranges.length > 1 && ranges[ourIndex].empty() && behavior.unit == \"char\" && !behavior.extend) {\n    setSelection(doc, normalizeSelection(ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0),\n                 {scroll: false, origin: \"*mouse\"});\n    startSel = doc.sel;\n  } else {\n    replaceOneSelection(doc, ourIndex, ourRange, sel_mouse);\n  }\n\n  var lastPos = start;\n  function extendTo(pos) {\n    if (cmp(lastPos, pos) == 0) { return }\n    lastPos = pos;\n\n    if (behavior.unit == \"rectangle\") {\n      var ranges = [], tabSize = cm.options.tabSize;\n      var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize);\n      var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize);\n      var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol);\n      for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));\n           line <= end; line++) {\n        var text = getLine(doc, line).text, leftPos = findColumn(text, left, tabSize);\n        if (left == right)\n          { ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos))); }\n        else if (text.length > leftPos)\n          { ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize)))); }\n      }\n      if (!ranges.length) { ranges.push(new Range(start, start)); }\n      setSelection(doc, normalizeSelection(startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),\n                   {origin: \"*mouse\", scroll: false});\n      cm.scrollIntoView(pos);\n    } else {\n      var oldRange = ourRange;\n      var range$$1 = rangeForUnit(cm, pos, behavior.unit);\n      var anchor = oldRange.anchor, head;\n      if (cmp(range$$1.anchor, anchor) > 0) {\n        head = range$$1.head;\n        anchor = minPos(oldRange.from(), range$$1.anchor);\n      } else {\n        head = range$$1.anchor;\n        anchor = maxPos(oldRange.to(), range$$1.head);\n      }\n      var ranges$1 = startSel.ranges.slice(0);\n      ranges$1[ourIndex] = bidiSimplify(cm, new Range(clipPos(doc, anchor), head));\n      setSelection(doc, normalizeSelection(ranges$1, ourIndex), sel_mouse);\n    }\n  }\n\n  var editorSize = display.wrapper.getBoundingClientRect();\n  var counter = 0;\n\n  function extend(e) {\n    var curCount = ++counter;\n    var cur = posFromMouse(cm, e, true, behavior.unit == \"rectangle\");\n    if (!cur) { return }\n    if (cmp(cur, lastPos) != 0) {\n      cm.curOp.focus = activeElt();\n      extendTo(cur);\n      var visible = visibleLines(display, doc);\n      if (cur.line >= visible.to || cur.line < visible.from)\n        { setTimeout(operation(cm, function () {if (counter == curCount) { extend(e); }}), 150); }\n    } else {\n      var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0;\n      if (outside) { setTimeout(operation(cm, function () {\n        if (counter != curCount) { return }\n        display.scroller.scrollTop += outside;\n        extend(e);\n      }), 50); }\n    }\n  }\n\n  function done(e) {\n    cm.state.selectingText = false;\n    counter = Infinity;\n    e_preventDefault(e);\n    display.input.focus();\n    off(document, \"mousemove\", move);\n    off(document, \"mouseup\", up);\n    doc.history.lastSelOrigin = null;\n  }\n\n  var move = operation(cm, function (e) {\n    if (!e_button(e)) { done(e); }\n    else { extend(e); }\n  });\n  var up = operation(cm, done);\n  cm.state.selectingText = up;\n  on(document, \"mousemove\", move);\n  on(document, \"mouseup\", up);\n}\n\nfunction bidiSimplify(cm, range$$1) {\n  var anchor = range$$1.anchor;\n  var head = range$$1.head;\n  var anchorLine = getLine(cm.doc, anchor.line);\n  if (cmp(anchor, head) == 0 && anchor.sticky == head.sticky) { return range$$1 }\n  var order = getOrder(anchorLine);\n  if (!order) { return range$$1 }\n  var index = getBidiPartAt(order, anchor.ch, anchor.sticky), part = order[index];\n  if (part.from != anchor.ch && part.to != anchor.ch) { return range$$1 }\n  var boundary = index + ((part.from == anchor.ch) == (part.level != 1) ? 0 : 1);\n  if (boundary == 0 || boundary == order.length) { return range$$1 }\n\n  var leftSide;\n  if (head.line != anchor.line) {\n    leftSide = (head.line - anchor.line) * (cm.doc.direction == \"ltr\" ? 1 : -1) > 0;\n  } else {\n    var headIndex = getBidiPartAt(order, head.ch, head.sticky);\n    var dir = headIndex - index || (head.ch - anchor.ch) * (part.level == 1 ? -1 : 1);\n    if (headIndex == boundary - 1 || headIndex == boundary)\n      { leftSide = dir < 0; }\n    else\n      { leftSide = dir > 0; }\n  }\n\n  var usePart = order[boundary + (leftSide ? -1 : 0)];\n  var from = leftSide == (usePart.level == 1);\n  var ch = from ? usePart.from : usePart.to, sticky = from ? \"after\" : \"before\";\n  return anchor.ch == ch && anchor.sticky == sticky ? range$$1 : new Range(new Pos(anchor.line, ch, sticky), head)\n}\n\n\nfunction gutterEvent(cm, e, type, prevent) {\n  var mX, mY;\n  if (e.touches) {\n    mX = e.touches[0].clientX;\n    mY = e.touches[0].clientY;\n  } else {\n    try { mX = e.clientX; mY = e.clientY; }\n    catch(e) { return false }\n  }\n  if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) { return false }\n  if (prevent) { e_preventDefault(e); }\n\n  var display = cm.display;\n  var lineBox = display.lineDiv.getBoundingClientRect();\n\n  if (mY > lineBox.bottom || !hasHandler(cm, type)) { return e_defaultPrevented(e) }\n  mY -= lineBox.top - display.viewOffset;\n\n  for (var i = 0; i < cm.options.gutters.length; ++i) {\n    var g = display.gutters.childNodes[i];\n    if (g && g.getBoundingClientRect().right >= mX) {\n      var line = lineAtHeight(cm.doc, mY);\n      var gutter = cm.options.gutters[i];\n      signal(cm, type, cm, line, gutter, e);\n      return e_defaultPrevented(e)\n    }\n  }\n}\n\nfunction clickInGutter(cm, e) {\n  return gutterEvent(cm, e, \"gutterClick\", true)\n}\n\n\nfunction onContextMenu(cm, e) {\n  if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) { return }\n  if (signalDOMEvent(cm, e, \"contextmenu\")) { return }\n  cm.display.input.onContextMenu(e);\n}\n\nfunction contextMenuInGutter(cm, e) {\n  if (!hasHandler(cm, \"gutterContextMenu\")) { return false }\n  return gutterEvent(cm, e, \"gutterContextMenu\", false)\n}\n\nfunction themeChanged(cm) {\n  cm.display.wrapper.className = cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") +\n    cm.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\");\n  clearCaches(cm);\n}\n\nvar Init = {toString: function(){return \"CodeMirror.Init\"}};\n\nvar defaults = {};\nvar optionHandlers = {};\n\nfunction defineOptions(CodeMirror) {\n  var optionHandlers = CodeMirror.optionHandlers;\n\n  function option(name, deflt, handle, notOnInit) {\n    CodeMirror.defaults[name] = deflt;\n    if (handle) { optionHandlers[name] =\n      notOnInit ? function (cm, val, old) {if (old != Init) { handle(cm, val, old); }} : handle; }\n  }\n\n  CodeMirror.defineOption = option;\n\n  CodeMirror.Init = Init;\n\n  option(\"value\", \"\", function (cm, val) { return cm.setValue(val); }, true);\n  option(\"mode\", null, function (cm, val) {\n    cm.doc.modeOption = val;\n    loadMode(cm);\n  }, true);\n\n  option(\"indentUnit\", 2, loadMode, true);\n  option(\"indentWithTabs\", false);\n  option(\"smartIndent\", true);\n  option(\"tabSize\", 4, function (cm) {\n    resetModeState(cm);\n    clearCaches(cm);\n    regChange(cm);\n  }, true);\n  option(\"lineSeparator\", null, function (cm, val) {\n    cm.doc.lineSep = val;\n    if (!val) { return }\n    var newBreaks = [], lineNo = cm.doc.first;\n    cm.doc.iter(function (line) {\n      for (var pos = 0;;) {\n        var found = line.text.indexOf(val, pos);\n        if (found == -1) { break }\n        pos = found + val.length;\n        newBreaks.push(Pos(lineNo, found));\n      }\n      lineNo++;\n    });\n    for (var i = newBreaks.length - 1; i >= 0; i--)\n      { replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length)); }\n  });\n  option(\"specialChars\", /[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b-\\u200f\\u2028\\u2029\\ufeff]/g, function (cm, val, old) {\n    cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\");\n    if (old != Init) { cm.refresh(); }\n  });\n  option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function (cm) { return cm.refresh(); }, true);\n  option(\"electricChars\", true);\n  option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function () {\n    throw new Error(\"inputStyle can not (yet) be changed in a running editor\") \n  }, true);\n  option(\"spellcheck\", false, function (cm, val) { return cm.getInputField().spellcheck = val; }, true);\n  option(\"rtlMoveVisually\", !windows);\n  option(\"wholeLineUpdateBefore\", true);\n\n  option(\"theme\", \"default\", function (cm) {\n    themeChanged(cm);\n    guttersChanged(cm);\n  }, true);\n  option(\"keyMap\", \"default\", function (cm, val, old) {\n    var next = getKeyMap(val);\n    var prev = old != Init && getKeyMap(old);\n    if (prev && prev.detach) { prev.detach(cm, next); }\n    if (next.attach) { next.attach(cm, prev || null); }\n  });\n  option(\"extraKeys\", null);\n  option(\"configureMouse\", null);\n\n  option(\"lineWrapping\", false, wrappingChanged, true);\n  option(\"gutters\", [], function (cm) {\n    setGuttersForLineNumbers(cm.options);\n    guttersChanged(cm);\n  }, true);\n  option(\"fixedGutter\", true, function (cm, val) {\n    cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\";\n    cm.refresh();\n  }, true);\n  option(\"coverGutterNextToScrollbar\", false, function (cm) { return updateScrollbars(cm); }, true);\n  option(\"scrollbarStyle\", \"native\", function (cm) {\n    initScrollbars(cm);\n    updateScrollbars(cm);\n    cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);\n    cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);\n  }, true);\n  option(\"lineNumbers\", false, function (cm) {\n    setGuttersForLineNumbers(cm.options);\n    guttersChanged(cm);\n  }, true);\n  option(\"firstLineNumber\", 1, guttersChanged, true);\n  option(\"lineNumberFormatter\", function (integer) { return integer; }, guttersChanged, true);\n  option(\"showCursorWhenSelecting\", false, updateSelection, true);\n\n  option(\"resetSelectionOnContextMenu\", true);\n  option(\"lineWiseCopyCut\", true);\n  option(\"pasteLinesPerSelection\", true);\n\n  option(\"readOnly\", false, function (cm, val) {\n    if (val == \"nocursor\") {\n      onBlur(cm);\n      cm.display.input.blur();\n    }\n    cm.display.input.readOnlyChanged(val);\n  });\n  option(\"disableInput\", false, function (cm, val) {if (!val) { cm.display.input.reset(); }}, true);\n  option(\"dragDrop\", true, dragDropChanged);\n  option(\"allowDropFileTypes\", null);\n\n  option(\"cursorBlinkRate\", 530);\n  option(\"cursorScrollMargin\", 0);\n  option(\"cursorHeight\", 1, updateSelection, true);\n  option(\"singleCursorHeightPerLine\", true, updateSelection, true);\n  option(\"workTime\", 100);\n  option(\"workDelay\", 100);\n  option(\"flattenSpans\", true, resetModeState, true);\n  option(\"addModeClass\", false, resetModeState, true);\n  option(\"pollInterval\", 100);\n  option(\"undoDepth\", 200, function (cm, val) { return cm.doc.history.undoDepth = val; });\n  option(\"historyEventDelay\", 1250);\n  option(\"viewportMargin\", 10, function (cm) { return cm.refresh(); }, true);\n  option(\"maxHighlightLength\", 10000, resetModeState, true);\n  option(\"moveInputWithCursor\", true, function (cm, val) {\n    if (!val) { cm.display.input.resetPosition(); }\n  });\n\n  option(\"tabindex\", null, function (cm, val) { return cm.display.input.getField().tabIndex = val || \"\"; });\n  option(\"autofocus\", null);\n  option(\"direction\", \"ltr\", function (cm, val) { return cm.doc.setDirection(val); }, true);\n}\n\nfunction guttersChanged(cm) {\n  updateGutters(cm);\n  regChange(cm);\n  alignHorizontally(cm);\n}\n\nfunction dragDropChanged(cm, value, old) {\n  var wasOn = old && old != Init;\n  if (!value != !wasOn) {\n    var funcs = cm.display.dragFunctions;\n    var toggle = value ? on : off;\n    toggle(cm.display.scroller, \"dragstart\", funcs.start);\n    toggle(cm.display.scroller, \"dragenter\", funcs.enter);\n    toggle(cm.display.scroller, \"dragover\", funcs.over);\n    toggle(cm.display.scroller, \"dragleave\", funcs.leave);\n    toggle(cm.display.scroller, \"drop\", funcs.drop);\n  }\n}\n\nfunction wrappingChanged(cm) {\n  if (cm.options.lineWrapping) {\n    addClass(cm.display.wrapper, \"CodeMirror-wrap\");\n    cm.display.sizer.style.minWidth = \"\";\n    cm.display.sizerWidth = null;\n  } else {\n    rmClass(cm.display.wrapper, \"CodeMirror-wrap\");\n    findMaxLine(cm);\n  }\n  estimateLineHeights(cm);\n  regChange(cm);\n  clearCaches(cm);\n  setTimeout(function () { return updateScrollbars(cm); }, 100);\n}\n\n\nfunction CodeMirror$1(place, options) {\n  var this$1 = this;\n\n  if (!(this instanceof CodeMirror$1)) { return new CodeMirror$1(place, options) }\n\n  this.options = options = options ? copyObj(options) : {};\n  copyObj(defaults, options, false);\n  setGuttersForLineNumbers(options);\n\n  var doc = options.value;\n  if (typeof doc == \"string\") { doc = new Doc(doc, options.mode, null, options.lineSeparator, options.direction); }\n  this.doc = doc;\n\n  var input = new CodeMirror$1.inputStyles[options.inputStyle](this);\n  var display = this.display = new Display(place, doc, input);\n  display.wrapper.CodeMirror = this;\n  updateGutters(this);\n  themeChanged(this);\n  if (options.lineWrapping)\n    { this.display.wrapper.className += \" CodeMirror-wrap\"; }\n  initScrollbars(this);\n\n  this.state = {\n    keyMaps: [],  \n    overlays: [], \n    modeGen: 0,   \n    overwrite: false,\n    delayingBlurEvent: false,\n    focused: false,\n    suppressEdits: false, \n    pasteIncoming: false, cutIncoming: false, \n    selectingText: false,\n    draggingText: false,\n    highlight: new Delayed(), \n    keySeq: null,  \n    specialChars: null\n  };\n\n  if (options.autofocus && !mobile) { display.input.focus(); }\n\n  if (ie && ie_version < 11) { setTimeout(function () { return this$1.display.input.reset(true); }, 20); }\n\n  registerEventHandlers(this);\n  ensureGlobalHandlers();\n\n  startOperation(this);\n  this.curOp.forceUpdate = true;\n  attachDoc(this, doc);\n\n  if ((options.autofocus && !mobile) || this.hasFocus())\n    { setTimeout(bind(onFocus, this), 20); }\n  else\n    { onBlur(this); }\n\n  for (var opt in optionHandlers) { if (optionHandlers.hasOwnProperty(opt))\n    { optionHandlers[opt](this$1, options[opt], Init); } }\n  maybeUpdateLineNumberWidth(this);\n  if (options.finishInit) { options.finishInit(this); }\n  for (var i = 0; i < initHooks.length; ++i) { initHooks[i](this$1); }\n  endOperation(this);\n  if (webkit && options.lineWrapping &&\n      getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\")\n    { display.lineDiv.style.textRendering = \"auto\"; }\n}\n\nCodeMirror$1.defaults = defaults;\nCodeMirror$1.optionHandlers = optionHandlers;\n\nfunction registerEventHandlers(cm) {\n  var d = cm.display;\n  on(d.scroller, \"mousedown\", operation(cm, onMouseDown));\n  if (ie && ie_version < 11)\n    { on(d.scroller, \"dblclick\", operation(cm, function (e) {\n      if (signalDOMEvent(cm, e)) { return }\n      var pos = posFromMouse(cm, e);\n      if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) { return }\n      e_preventDefault(e);\n      var word = cm.findWordAt(pos);\n      extendSelection(cm.doc, word.anchor, word.head);\n    })); }\n  else\n    { on(d.scroller, \"dblclick\", function (e) { return signalDOMEvent(cm, e) || e_preventDefault(e); }); }\n  if (!captureRightClick) { on(d.scroller, \"contextmenu\", function (e) { return onContextMenu(cm, e); }); }\n\n  var touchFinished, prevTouch = {end: 0};\n  function finishTouch() {\n    if (d.activeTouch) {\n      touchFinished = setTimeout(function () { return d.activeTouch = null; }, 1000);\n      prevTouch = d.activeTouch;\n      prevTouch.end = +new Date;\n    }\n  }\n  function isMouseLikeTouchEvent(e) {\n    if (e.touches.length != 1) { return false }\n    var touch = e.touches[0];\n    return touch.radiusX <= 1 && touch.radiusY <= 1\n  }\n  function farAway(touch, other) {\n    if (other.left == null) { return true }\n    var dx = other.left - touch.left, dy = other.top - touch.top;\n    return dx * dx + dy * dy > 20 * 20\n  }\n  on(d.scroller, \"touchstart\", function (e) {\n    if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e) && !clickInGutter(cm, e)) {\n      d.input.ensurePolled();\n      clearTimeout(touchFinished);\n      var now = +new Date;\n      d.activeTouch = {start: now, moved: false,\n                       prev: now - prevTouch.end <= 300 ? prevTouch : null};\n      if (e.touches.length == 1) {\n        d.activeTouch.left = e.touches[0].pageX;\n        d.activeTouch.top = e.touches[0].pageY;\n      }\n    }\n  });\n  on(d.scroller, \"touchmove\", function () {\n    if (d.activeTouch) { d.activeTouch.moved = true; }\n  });\n  on(d.scroller, \"touchend\", function (e) {\n    var touch = d.activeTouch;\n    if (touch && !eventInWidget(d, e) && touch.left != null &&\n        !touch.moved && new Date - touch.start < 300) {\n      var pos = cm.coordsChar(d.activeTouch, \"page\"), range;\n      if (!touch.prev || farAway(touch, touch.prev)) \n        { range = new Range(pos, pos); }\n      else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) \n        { range = cm.findWordAt(pos); }\n      else \n        { range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))); }\n      cm.setSelection(range.anchor, range.head);\n      cm.focus();\n      e_preventDefault(e);\n    }\n    finishTouch();\n  });\n  on(d.scroller, \"touchcancel\", finishTouch);\n\n  on(d.scroller, \"scroll\", function () {\n    if (d.scroller.clientHeight) {\n      updateScrollTop(cm, d.scroller.scrollTop);\n      setScrollLeft(cm, d.scroller.scrollLeft, true);\n      signal(cm, \"scroll\", cm);\n    }\n  });\n\n  on(d.scroller, \"mousewheel\", function (e) { return onScrollWheel(cm, e); });\n  on(d.scroller, \"DOMMouseScroll\", function (e) { return onScrollWheel(cm, e); });\n\n  on(d.wrapper, \"scroll\", function () { return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; });\n\n  d.dragFunctions = {\n    enter: function (e) {if (!signalDOMEvent(cm, e)) { e_stop(e); }},\n    over: function (e) {if (!signalDOMEvent(cm, e)) { onDragOver(cm, e); e_stop(e); }},\n    start: function (e) { return onDragStart(cm, e); },\n    drop: operation(cm, onDrop),\n    leave: function (e) {if (!signalDOMEvent(cm, e)) { clearDragCursor(cm); }}\n  };\n\n  var inp = d.input.getField();\n  on(inp, \"keyup\", function (e) { return onKeyUp.call(cm, e); });\n  on(inp, \"keydown\", operation(cm, onKeyDown));\n  on(inp, \"keypress\", operation(cm, onKeyPress));\n  on(inp, \"focus\", function (e) { return onFocus(cm, e); });\n  on(inp, \"blur\", function (e) { return onBlur(cm, e); });\n}\n\nvar initHooks = [];\nCodeMirror$1.defineInitHook = function (f) { return initHooks.push(f); };\n\nfunction indentLine(cm, n, how, aggressive) {\n  var doc = cm.doc, state;\n  if (how == null) { how = \"add\"; }\n  if (how == \"smart\") {\n    if (!doc.mode.indent) { how = \"prev\"; }\n    else { state = getContextBefore(cm, n).state; }\n  }\n\n  var tabSize = cm.options.tabSize;\n  var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize);\n  if (line.stateAfter) { line.stateAfter = null; }\n  var curSpaceString = line.text.match(/^\\s*/)[0], indentation;\n  if (!aggressive && !/\\S/.test(line.text)) {\n    indentation = 0;\n    how = \"not\";\n  } else if (how == \"smart\") {\n    indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text);\n    if (indentation == Pass || indentation > 150) {\n      if (!aggressive) { return }\n      how = \"prev\";\n    }\n  }\n  if (how == \"prev\") {\n    if (n > doc.first) { indentation = countColumn(getLine(doc, n-1).text, null, tabSize); }\n    else { indentation = 0; }\n  } else if (how == \"add\") {\n    indentation = curSpace + cm.options.indentUnit;\n  } else if (how == \"subtract\") {\n    indentation = curSpace - cm.options.indentUnit;\n  } else if (typeof how == \"number\") {\n    indentation = curSpace + how;\n  }\n  indentation = Math.max(0, indentation);\n\n  var indentString = \"\", pos = 0;\n  if (cm.options.indentWithTabs)\n    { for (var i = Math.floor(indentation / tabSize); i; --i) {pos += tabSize; indentString += \"\\t\";} }\n  if (pos < indentation) { indentString += spaceStr(indentation - pos); }\n\n  if (indentString != curSpaceString) {\n    replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\");\n    line.stateAfter = null;\n    return true\n  } else {\n    for (var i$1 = 0; i$1 < doc.sel.ranges.length; i$1++) {\n      var range = doc.sel.ranges[i$1];\n      if (range.head.line == n && range.head.ch < curSpaceString.length) {\n        var pos$1 = Pos(n, curSpaceString.length);\n        replaceOneSelection(doc, i$1, new Range(pos$1, pos$1));\n        break\n      }\n    }\n  }\n}\n\nvar lastCopied = null;\n\nfunction setLastCopied(newLastCopied) {\n  lastCopied = newLastCopied;\n}\n\nfunction applyTextInput(cm, inserted, deleted, sel, origin) {\n  var doc = cm.doc;\n  cm.display.shift = false;\n  if (!sel) { sel = doc.sel; }\n\n  var paste = cm.state.pasteIncoming || origin == \"paste\";\n  var textLines = splitLinesAuto(inserted), multiPaste = null;\n  if (paste && sel.ranges.length > 1) {\n    if (lastCopied && lastCopied.text.join(\"\\n\") == inserted) {\n      if (sel.ranges.length % lastCopied.text.length == 0) {\n        multiPaste = [];\n        for (var i = 0; i < lastCopied.text.length; i++)\n          { multiPaste.push(doc.splitLines(lastCopied.text[i])); }\n      }\n    } else if (textLines.length == sel.ranges.length && cm.options.pasteLinesPerSelection) {\n      multiPaste = map(textLines, function (l) { return [l]; });\n    }\n  }\n\n  var updateInput;\n  for (var i$1 = sel.ranges.length - 1; i$1 >= 0; i$1--) {\n    var range$$1 = sel.ranges[i$1];\n    var from = range$$1.from(), to = range$$1.to();\n    if (range$$1.empty()) {\n      if (deleted && deleted > 0) \n        { from = Pos(from.line, from.ch - deleted); }\n      else if (cm.state.overwrite && !paste) \n        { to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length)); }\n      else if (lastCopied && lastCopied.lineWise && lastCopied.text.join(\"\\n\") == inserted)\n        { from = to = Pos(from.line, 0); }\n    }\n    updateInput = cm.curOp.updateInput;\n    var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i$1 % multiPaste.length] : textLines,\n                       origin: origin || (paste ? \"paste\" : cm.state.cutIncoming ? \"cut\" : \"+input\")};\n    makeChange(cm.doc, changeEvent);\n    signalLater(cm, \"inputRead\", cm, changeEvent);\n  }\n  if (inserted && !paste)\n    { triggerElectric(cm, inserted); }\n\n  ensureCursorVisible(cm);\n  cm.curOp.updateInput = updateInput;\n  cm.curOp.typing = true;\n  cm.state.pasteIncoming = cm.state.cutIncoming = false;\n}\n\nfunction handlePaste(e, cm) {\n  var pasted = e.clipboardData && e.clipboardData.getData(\"Text\");\n  if (pasted) {\n    e.preventDefault();\n    if (!cm.isReadOnly() && !cm.options.disableInput)\n      { runInOp(cm, function () { return applyTextInput(cm, pasted, 0, null, \"paste\"); }); }\n    return true\n  }\n}\n\nfunction triggerElectric(cm, inserted) {\n  if (!cm.options.electricChars || !cm.options.smartIndent) { return }\n  var sel = cm.doc.sel;\n\n  for (var i = sel.ranges.length - 1; i >= 0; i--) {\n    var range$$1 = sel.ranges[i];\n    if (range$$1.head.ch > 100 || (i && sel.ranges[i - 1].head.line == range$$1.head.line)) { continue }\n    var mode = cm.getModeAt(range$$1.head);\n    var indented = false;\n    if (mode.electricChars) {\n      for (var j = 0; j < mode.electricChars.length; j++)\n        { if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\n          indented = indentLine(cm, range$$1.head.line, \"smart\");\n          break\n        } }\n    } else if (mode.electricInput) {\n      if (mode.electricInput.test(getLine(cm.doc, range$$1.head.line).text.slice(0, range$$1.head.ch)))\n        { indented = indentLine(cm, range$$1.head.line, \"smart\"); }\n    }\n    if (indented) { signalLater(cm, \"electricInput\", cm, range$$1.head.line); }\n  }\n}\n\nfunction copyableRanges(cm) {\n  var text = [], ranges = [];\n  for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\n    var line = cm.doc.sel.ranges[i].head.line;\n    var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)};\n    ranges.push(lineRange);\n    text.push(cm.getRange(lineRange.anchor, lineRange.head));\n  }\n  return {text: text, ranges: ranges}\n}\n\nfunction disableBrowserMagic(field, spellcheck) {\n  field.setAttribute(\"autocorrect\", \"off\");\n  field.setAttribute(\"autocapitalize\", \"off\");\n  field.setAttribute(\"spellcheck\", !!spellcheck);\n}\n\nfunction hiddenTextarea() {\n  var te = elt(\"textarea\", null, null, \"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\");\n  var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\");\n  if (webkit) { te.style.width = \"1000px\"; }\n  else { te.setAttribute(\"wrap\", \"off\"); }\n  if (ios) { te.style.border = \"1px solid black\"; }\n  disableBrowserMagic(te);\n  return div\n}\n\n\n\nvar addEditorMethods = function(CodeMirror) {\n  var optionHandlers = CodeMirror.optionHandlers;\n\n  var helpers = CodeMirror.helpers = {};\n\n  CodeMirror.prototype = {\n    constructor: CodeMirror,\n    focus: function(){window.focus(); this.display.input.focus();},\n\n    setOption: function(option, value) {\n      var options = this.options, old = options[option];\n      if (options[option] == value && option != \"mode\") { return }\n      options[option] = value;\n      if (optionHandlers.hasOwnProperty(option))\n        { operation(this, optionHandlers[option])(this, value, old); }\n      signal(this, \"optionChange\", this, option);\n    },\n\n    getOption: function(option) {return this.options[option]},\n    getDoc: function() {return this.doc},\n\n    addKeyMap: function(map$$1, bottom) {\n      this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map$$1));\n    },\n    removeKeyMap: function(map$$1) {\n      var maps = this.state.keyMaps;\n      for (var i = 0; i < maps.length; ++i)\n        { if (maps[i] == map$$1 || maps[i].name == map$$1) {\n          maps.splice(i, 1);\n          return true\n        } }\n    },\n\n    addOverlay: methodOp(function(spec, options) {\n      var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec);\n      if (mode.startState) { throw new Error(\"Overlays may not be stateful.\") }\n      insertSorted(this.state.overlays,\n                   {mode: mode, modeSpec: spec, opaque: options && options.opaque,\n                    priority: (options && options.priority) || 0},\n                   function (overlay) { return overlay.priority; });\n      this.state.modeGen++;\n      regChange(this);\n    }),\n    removeOverlay: methodOp(function(spec) {\n      var this$1 = this;\n\n      var overlays = this.state.overlays;\n      for (var i = 0; i < overlays.length; ++i) {\n        var cur = overlays[i].modeSpec;\n        if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\n          overlays.splice(i, 1);\n          this$1.state.modeGen++;\n          regChange(this$1);\n          return\n        }\n      }\n    }),\n\n    indentLine: methodOp(function(n, dir, aggressive) {\n      if (typeof dir != \"string\" && typeof dir != \"number\") {\n        if (dir == null) { dir = this.options.smartIndent ? \"smart\" : \"prev\"; }\n        else { dir = dir ? \"add\" : \"subtract\"; }\n      }\n      if (isLine(this.doc, n)) { indentLine(this, n, dir, aggressive); }\n    }),\n    indentSelection: methodOp(function(how) {\n      var this$1 = this;\n\n      var ranges = this.doc.sel.ranges, end = -1;\n      for (var i = 0; i < ranges.length; i++) {\n        var range$$1 = ranges[i];\n        if (!range$$1.empty()) {\n          var from = range$$1.from(), to = range$$1.to();\n          var start = Math.max(end, from.line);\n          end = Math.min(this$1.lastLine(), to.line - (to.ch ? 0 : 1)) + 1;\n          for (var j = start; j < end; ++j)\n            { indentLine(this$1, j, how); }\n          var newRanges = this$1.doc.sel.ranges;\n          if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)\n            { replaceOneSelection(this$1.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll); }\n        } else if (range$$1.head.line > end) {\n          indentLine(this$1, range$$1.head.line, how, true);\n          end = range$$1.head.line;\n          if (i == this$1.doc.sel.primIndex) { ensureCursorVisible(this$1); }\n        }\n      }\n    }),\n\n    getTokenAt: function(pos, precise) {\n      return takeToken(this, pos, precise)\n    },\n\n    getLineTokens: function(line, precise) {\n      return takeToken(this, Pos(line), precise, true)\n    },\n\n    getTokenTypeAt: function(pos) {\n      pos = clipPos(this.doc, pos);\n      var styles = getLineStyles(this, getLine(this.doc, pos.line));\n      var before = 0, after = (styles.length - 1) / 2, ch = pos.ch;\n      var type;\n      if (ch == 0) { type = styles[2]; }\n      else { for (;;) {\n        var mid = (before + after) >> 1;\n        if ((mid ? styles[mid * 2 - 1] : 0) >= ch) { after = mid; }\n        else if (styles[mid * 2 + 1] < ch) { before = mid + 1; }\n        else { type = styles[mid * 2 + 2]; break }\n      } }\n      var cut = type ? type.indexOf(\"overlay \") : -1;\n      return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1)\n    },\n\n    getModeAt: function(pos) {\n      var mode = this.doc.mode;\n      if (!mode.innerMode) { return mode }\n      return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode\n    },\n\n    getHelper: function(pos, type) {\n      return this.getHelpers(pos, type)[0]\n    },\n\n    getHelpers: function(pos, type) {\n      var this$1 = this;\n\n      var found = [];\n      if (!helpers.hasOwnProperty(type)) { return found }\n      var help = helpers[type], mode = this.getModeAt(pos);\n      if (typeof mode[type] == \"string\") {\n        if (help[mode[type]]) { found.push(help[mode[type]]); }\n      } else if (mode[type]) {\n        for (var i = 0; i < mode[type].length; i++) {\n          var val = help[mode[type][i]];\n          if (val) { found.push(val); }\n        }\n      } else if (mode.helperType && help[mode.helperType]) {\n        found.push(help[mode.helperType]);\n      } else if (help[mode.name]) {\n        found.push(help[mode.name]);\n      }\n      for (var i$1 = 0; i$1 < help._global.length; i$1++) {\n        var cur = help._global[i$1];\n        if (cur.pred(mode, this$1) && indexOf(found, cur.val) == -1)\n          { found.push(cur.val); }\n      }\n      return found\n    },\n\n    getStateAfter: function(line, precise) {\n      var doc = this.doc;\n      line = clipLine(doc, line == null ? doc.first + doc.size - 1: line);\n      return getContextBefore(this, line + 1, precise).state\n    },\n\n    cursorCoords: function(start, mode) {\n      var pos, range$$1 = this.doc.sel.primary();\n      if (start == null) { pos = range$$1.head; }\n      else if (typeof start == \"object\") { pos = clipPos(this.doc, start); }\n      else { pos = start ? range$$1.from() : range$$1.to(); }\n      return cursorCoords(this, pos, mode || \"page\")\n    },\n\n    charCoords: function(pos, mode) {\n      return charCoords(this, clipPos(this.doc, pos), mode || \"page\")\n    },\n\n    coordsChar: function(coords, mode) {\n      coords = fromCoordSystem(this, coords, mode || \"page\");\n      return coordsChar(this, coords.left, coords.top)\n    },\n\n    lineAtHeight: function(height, mode) {\n      height = fromCoordSystem(this, {top: height, left: 0}, mode || \"page\").top;\n      return lineAtHeight(this.doc, height + this.display.viewOffset)\n    },\n    heightAtLine: function(line, mode, includeWidgets) {\n      var end = false, lineObj;\n      if (typeof line == \"number\") {\n        var last = this.doc.first + this.doc.size - 1;\n        if (line < this.doc.first) { line = this.doc.first; }\n        else if (line > last) { line = last; end = true; }\n        lineObj = getLine(this.doc, line);\n      } else {\n        lineObj = line;\n      }\n      return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || \"page\", includeWidgets || end).top +\n        (end ? this.doc.height - heightAtLine(lineObj) : 0)\n    },\n\n    defaultTextHeight: function() { return textHeight(this.display) },\n    defaultCharWidth: function() { return charWidth(this.display) },\n\n    getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo}},\n\n    addWidget: function(pos, node, scroll, vert, horiz) {\n      var display = this.display;\n      pos = cursorCoords(this, clipPos(this.doc, pos));\n      var top = pos.bottom, left = pos.left;\n      node.style.position = \"absolute\";\n      node.setAttribute(\"cm-ignore-events\", \"true\");\n      this.display.input.setUneditable(node);\n      display.sizer.appendChild(node);\n      if (vert == \"over\") {\n        top = pos.top;\n      } else if (vert == \"above\" || vert == \"near\") {\n        var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\n        hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth);\n        if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)\n          { top = pos.top - node.offsetHeight; }\n        else if (pos.bottom + node.offsetHeight <= vspace)\n          { top = pos.bottom; }\n        if (left + node.offsetWidth > hspace)\n          { left = hspace - node.offsetWidth; }\n      }\n      node.style.top = top + \"px\";\n      node.style.left = node.style.right = \"\";\n      if (horiz == \"right\") {\n        left = display.sizer.clientWidth - node.offsetWidth;\n        node.style.right = \"0px\";\n      } else {\n        if (horiz == \"left\") { left = 0; }\n        else if (horiz == \"middle\") { left = (display.sizer.clientWidth - node.offsetWidth) / 2; }\n        node.style.left = left + \"px\";\n      }\n      if (scroll)\n        { scrollIntoView(this, {left: left, top: top, right: left + node.offsetWidth, bottom: top + node.offsetHeight}); }\n    },\n\n    triggerOnKeyDown: methodOp(onKeyDown),\n    triggerOnKeyPress: methodOp(onKeyPress),\n    triggerOnKeyUp: onKeyUp,\n    triggerOnMouseDown: methodOp(onMouseDown),\n\n    execCommand: function(cmd) {\n      if (commands.hasOwnProperty(cmd))\n        { return commands[cmd].call(null, this) }\n    },\n\n    triggerElectric: methodOp(function(text) { triggerElectric(this, text); }),\n\n    findPosH: function(from, amount, unit, visually) {\n      var this$1 = this;\n\n      var dir = 1;\n      if (amount < 0) { dir = -1; amount = -amount; }\n      var cur = clipPos(this.doc, from);\n      for (var i = 0; i < amount; ++i) {\n        cur = findPosH(this$1.doc, cur, dir, unit, visually);\n        if (cur.hitSide) { break }\n      }\n      return cur\n    },\n\n    moveH: methodOp(function(dir, unit) {\n      var this$1 = this;\n\n      this.extendSelectionsBy(function (range$$1) {\n        if (this$1.display.shift || this$1.doc.extend || range$$1.empty())\n          { return findPosH(this$1.doc, range$$1.head, dir, unit, this$1.options.rtlMoveVisually) }\n        else\n          { return dir < 0 ? range$$1.from() : range$$1.to() }\n      }, sel_move);\n    }),\n\n    deleteH: methodOp(function(dir, unit) {\n      var sel = this.doc.sel, doc = this.doc;\n      if (sel.somethingSelected())\n        { doc.replaceSelection(\"\", null, \"+delete\"); }\n      else\n        { deleteNearSelection(this, function (range$$1) {\n          var other = findPosH(doc, range$$1.head, dir, unit, false);\n          return dir < 0 ? {from: other, to: range$$1.head} : {from: range$$1.head, to: other}\n        }); }\n    }),\n\n    findPosV: function(from, amount, unit, goalColumn) {\n      var this$1 = this;\n\n      var dir = 1, x = goalColumn;\n      if (amount < 0) { dir = -1; amount = -amount; }\n      var cur = clipPos(this.doc, from);\n      for (var i = 0; i < amount; ++i) {\n        var coords = cursorCoords(this$1, cur, \"div\");\n        if (x == null) { x = coords.left; }\n        else { coords.left = x; }\n        cur = findPosV(this$1, coords, dir, unit);\n        if (cur.hitSide) { break }\n      }\n      return cur\n    },\n\n    moveV: methodOp(function(dir, unit) {\n      var this$1 = this;\n\n      var doc = this.doc, goals = [];\n      var collapse = !this.display.shift && !doc.extend && doc.sel.somethingSelected();\n      doc.extendSelectionsBy(function (range$$1) {\n        if (collapse)\n          { return dir < 0 ? range$$1.from() : range$$1.to() }\n        var headPos = cursorCoords(this$1, range$$1.head, \"div\");\n        if (range$$1.goalColumn != null) { headPos.left = range$$1.goalColumn; }\n        goals.push(headPos.left);\n        var pos = findPosV(this$1, headPos, dir, unit);\n        if (unit == \"page\" && range$$1 == doc.sel.primary())\n          { addToScrollTop(this$1, charCoords(this$1, pos, \"div\").top - headPos.top); }\n        return pos\n      }, sel_move);\n      if (goals.length) { for (var i = 0; i < doc.sel.ranges.length; i++)\n        { doc.sel.ranges[i].goalColumn = goals[i]; } }\n    }),\n\n    findWordAt: function(pos) {\n      var doc = this.doc, line = getLine(doc, pos.line).text;\n      var start = pos.ch, end = pos.ch;\n      if (line) {\n        var helper = this.getHelper(pos, \"wordChars\");\n        if ((pos.sticky == \"before\" || end == line.length) && start) { --start; } else { ++end; }\n        var startChar = line.charAt(start);\n        var check = isWordChar(startChar, helper)\n          ? function (ch) { return isWordChar(ch, helper); }\n          : /\\s/.test(startChar) ? function (ch) { return /\\s/.test(ch); }\n          : function (ch) { return (!/\\s/.test(ch) && !isWordChar(ch)); };\n        while (start > 0 && check(line.charAt(start - 1))) { --start; }\n        while (end < line.length && check(line.charAt(end))) { ++end; }\n      }\n      return new Range(Pos(pos.line, start), Pos(pos.line, end))\n    },\n\n    toggleOverwrite: function(value) {\n      if (value != null && value == this.state.overwrite) { return }\n      if (this.state.overwrite = !this.state.overwrite)\n        { addClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n      else\n        { rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n\n      signal(this, \"overwriteToggle\", this, this.state.overwrite);\n    },\n    hasFocus: function() { return this.display.input.getField() == activeElt() },\n    isReadOnly: function() { return !!(this.options.readOnly || this.doc.cantEdit) },\n\n    scrollTo: methodOp(function (x, y) { scrollToCoords(this, x, y); }),\n    getScrollInfo: function() {\n      var scroller = this.display.scroller;\n      return {left: scroller.scrollLeft, top: scroller.scrollTop,\n              height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\n              width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\n              clientHeight: displayHeight(this), clientWidth: displayWidth(this)}\n    },\n\n    scrollIntoView: methodOp(function(range$$1, margin) {\n      if (range$$1 == null) {\n        range$$1 = {from: this.doc.sel.primary().head, to: null};\n        if (margin == null) { margin = this.options.cursorScrollMargin; }\n      } else if (typeof range$$1 == \"number\") {\n        range$$1 = {from: Pos(range$$1, 0), to: null};\n      } else if (range$$1.from == null) {\n        range$$1 = {from: range$$1, to: null};\n      }\n      if (!range$$1.to) { range$$1.to = range$$1.from; }\n      range$$1.margin = margin || 0;\n\n      if (range$$1.from.line != null) {\n        scrollToRange(this, range$$1);\n      } else {\n        scrollToCoordsRange(this, range$$1.from, range$$1.to, range$$1.margin);\n      }\n    }),\n\n    setSize: methodOp(function(width, height) {\n      var this$1 = this;\n\n      var interpret = function (val) { return typeof val == \"number\" || /^\\d+$/.test(String(val)) ? val + \"px\" : val; };\n      if (width != null) { this.display.wrapper.style.width = interpret(width); }\n      if (height != null) { this.display.wrapper.style.height = interpret(height); }\n      if (this.options.lineWrapping) { clearLineMeasurementCache(this); }\n      var lineNo$$1 = this.display.viewFrom;\n      this.doc.iter(lineNo$$1, this.display.viewTo, function (line) {\n        if (line.widgets) { for (var i = 0; i < line.widgets.length; i++)\n          { if (line.widgets[i].noHScroll) { regLineChange(this$1, lineNo$$1, \"widget\"); break } } }\n        ++lineNo$$1;\n      });\n      this.curOp.forceUpdate = true;\n      signal(this, \"refresh\", this);\n    }),\n\n    operation: function(f){return runInOp(this, f)},\n    startOperation: function(){return startOperation(this)},\n    endOperation: function(){return endOperation(this)},\n\n    refresh: methodOp(function() {\n      var oldHeight = this.display.cachedTextHeight;\n      regChange(this);\n      this.curOp.forceUpdate = true;\n      clearCaches(this);\n      scrollToCoords(this, this.doc.scrollLeft, this.doc.scrollTop);\n      updateGutterSpace(this);\n      if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5)\n        { estimateLineHeights(this); }\n      signal(this, \"refresh\", this);\n    }),\n\n    swapDoc: methodOp(function(doc) {\n      var old = this.doc;\n      old.cm = null;\n      attachDoc(this, doc);\n      clearCaches(this);\n      this.display.input.reset();\n      scrollToCoords(this, doc.scrollLeft, doc.scrollTop);\n      this.curOp.forceScroll = true;\n      signalLater(this, \"swapDoc\", this, old);\n      return old\n    }),\n\n    getInputField: function(){return this.display.input.getField()},\n    getWrapperElement: function(){return this.display.wrapper},\n    getScrollerElement: function(){return this.display.scroller},\n    getGutterElement: function(){return this.display.gutters}\n  };\n  eventMixin(CodeMirror);\n\n  CodeMirror.registerHelper = function(type, name, value) {\n    if (!helpers.hasOwnProperty(type)) { helpers[type] = CodeMirror[type] = {_global: []}; }\n    helpers[type][name] = value;\n  };\n  CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {\n    CodeMirror.registerHelper(type, name, value);\n    helpers[type]._global.push({pred: predicate, val: value});\n  };\n};\n\nfunction findPosH(doc, pos, dir, unit, visually) {\n  var oldPos = pos;\n  var origDir = dir;\n  var lineObj = getLine(doc, pos.line);\n  function findNextLine() {\n    var l = pos.line + dir;\n    if (l < doc.first || l >= doc.first + doc.size) { return false }\n    pos = new Pos(l, pos.ch, pos.sticky);\n    return lineObj = getLine(doc, l)\n  }\n  function moveOnce(boundToLine) {\n    var next;\n    if (visually) {\n      next = moveVisually(doc.cm, lineObj, pos, dir);\n    } else {\n      next = moveLogically(lineObj, pos, dir);\n    }\n    if (next == null) {\n      if (!boundToLine && findNextLine())\n        { pos = endOfLine(visually, doc.cm, lineObj, pos.line, dir); }\n      else\n        { return false }\n    } else {\n      pos = next;\n    }\n    return true\n  }\n\n  if (unit == \"char\") {\n    moveOnce();\n  } else if (unit == \"column\") {\n    moveOnce(true);\n  } else if (unit == \"word\" || unit == \"group\") {\n    var sawType = null, group = unit == \"group\";\n    var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\");\n    for (var first = true;; first = false) {\n      if (dir < 0 && !moveOnce(!first)) { break }\n      var cur = lineObj.text.charAt(pos.ch) || \"\\n\";\n      var type = isWordChar(cur, helper) ? \"w\"\n        : group && cur == \"\\n\" ? \"n\"\n        : !group || /\\s/.test(cur) ? null\n        : \"p\";\n      if (group && !first && !type) { type = \"s\"; }\n      if (sawType && sawType != type) {\n        if (dir < 0) {dir = 1; moveOnce(); pos.sticky = \"after\";}\n        break\n      }\n\n      if (type) { sawType = type; }\n      if (dir > 0 && !moveOnce(!first)) { break }\n    }\n  }\n  var result = skipAtomic(doc, pos, oldPos, origDir, true);\n  if (equalCursorPos(oldPos, result)) { result.hitSide = true; }\n  return result\n}\n\nfunction findPosV(cm, pos, dir, unit) {\n  var doc = cm.doc, x = pos.left, y;\n  if (unit == \"page\") {\n    var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);\n    var moveAmount = Math.max(pageSize - .5 * textHeight(cm.display), 3);\n    y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount;\n\n  } else if (unit == \"line\") {\n    y = dir > 0 ? pos.bottom + 3 : pos.top - 3;\n  }\n  var target;\n  for (;;) {\n    target = coordsChar(cm, x, y);\n    if (!target.outside) { break }\n    if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break }\n    y += dir * 5;\n  }\n  return target\n}\n\n\nvar ContentEditableInput = function(cm) {\n  this.cm = cm;\n  this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null;\n  this.polling = new Delayed();\n  this.composing = null;\n  this.gracePeriod = false;\n  this.readDOMTimeout = null;\n};\n\nContentEditableInput.prototype.init = function (display) {\n    var this$1 = this;\n\n  var input = this, cm = input.cm;\n  var div = input.div = display.lineDiv;\n  disableBrowserMagic(div, cm.options.spellcheck);\n\n  on(div, \"paste\", function (e) {\n    if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n    if (ie_version <= 11) { setTimeout(operation(cm, function () { return this$1.updateFromDOM(); }), 20); }\n  });\n\n  on(div, \"compositionstart\", function (e) {\n    this$1.composing = {data: e.data, done: false};\n  });\n  on(div, \"compositionupdate\", function (e) {\n    if (!this$1.composing) { this$1.composing = {data: e.data, done: false}; }\n  });\n  on(div, \"compositionend\", function (e) {\n    if (this$1.composing) {\n      if (e.data != this$1.composing.data) { this$1.readFromDOMSoon(); }\n      this$1.composing.done = true;\n    }\n  });\n\n  on(div, \"touchstart\", function () { return input.forceCompositionEnd(); });\n\n  on(div, \"input\", function () {\n    if (!this$1.composing) { this$1.readFromDOMSoon(); }\n  });\n\n  function onCopyCut(e) {\n    if (signalDOMEvent(cm, e)) { return }\n    if (cm.somethingSelected()) {\n      setLastCopied({lineWise: false, text: cm.getSelections()});\n      if (e.type == \"cut\") { cm.replaceSelection(\"\", null, \"cut\"); }\n    } else if (!cm.options.lineWiseCopyCut) {\n      return\n    } else {\n      var ranges = copyableRanges(cm);\n      setLastCopied({lineWise: true, text: ranges.text});\n      if (e.type == \"cut\") {\n        cm.operation(function () {\n          cm.setSelections(ranges.ranges, 0, sel_dontScroll);\n          cm.replaceSelection(\"\", null, \"cut\");\n        });\n      }\n    }\n    if (e.clipboardData) {\n      e.clipboardData.clearData();\n      var content = lastCopied.text.join(\"\\n\");\n      e.clipboardData.setData(\"Text\", content);\n      if (e.clipboardData.getData(\"Text\") == content) {\n        e.preventDefault();\n        return\n      }\n    }\n    var kludge = hiddenTextarea(), te = kludge.firstChild;\n    cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild);\n    te.value = lastCopied.text.join(\"\\n\");\n    var hadFocus = document.activeElement;\n    selectInput(te);\n    setTimeout(function () {\n      cm.display.lineSpace.removeChild(kludge);\n      hadFocus.focus();\n      if (hadFocus == div) { input.showPrimarySelection(); }\n    }, 50);\n  }\n  on(div, \"copy\", onCopyCut);\n  on(div, \"cut\", onCopyCut);\n};\n\nContentEditableInput.prototype.prepareSelection = function () {\n  var result = prepareSelection(this.cm, false);\n  result.focus = this.cm.state.focused;\n  return result\n};\n\nContentEditableInput.prototype.showSelection = function (info, takeFocus) {\n  if (!info || !this.cm.display.view.length) { return }\n  if (info.focus || takeFocus) { this.showPrimarySelection(); }\n  this.showMultipleSelections(info);\n};\n\nContentEditableInput.prototype.showPrimarySelection = function () {\n  var sel = window.getSelection(), cm = this.cm, prim = cm.doc.sel.primary();\n  var from = prim.from(), to = prim.to();\n\n  if (cm.display.viewTo == cm.display.viewFrom || from.line >= cm.display.viewTo || to.line < cm.display.viewFrom) {\n    sel.removeAllRanges();\n    return\n  }\n\n  var curAnchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n  var curFocus = domToPos(cm, sel.focusNode, sel.focusOffset);\n  if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad &&\n      cmp(minPos(curAnchor, curFocus), from) == 0 &&\n      cmp(maxPos(curAnchor, curFocus), to) == 0)\n    { return }\n\n  var view = cm.display.view;\n  var start = (from.line >= cm.display.viewFrom && posToDOM(cm, from)) ||\n      {node: view[0].measure.map[2], offset: 0};\n  var end = to.line < cm.display.viewTo && posToDOM(cm, to);\n  if (!end) {\n    var measure = view[view.length - 1].measure;\n    var map$$1 = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map;\n    end = {node: map$$1[map$$1.length - 1], offset: map$$1[map$$1.length - 2] - map$$1[map$$1.length - 3]};\n  }\n\n  if (!start || !end) {\n    sel.removeAllRanges();\n    return\n  }\n\n  var old = sel.rangeCount && sel.getRangeAt(0), rng;\n  try { rng = range(start.node, start.offset, end.offset, end.node); }\n  catch(e) {} \n  if (rng) {\n    if (!gecko && cm.state.focused) {\n      sel.collapse(start.node, start.offset);\n      if (!rng.collapsed) {\n        sel.removeAllRanges();\n        sel.addRange(rng);\n      }\n    } else {\n      sel.removeAllRanges();\n      sel.addRange(rng);\n    }\n    if (old && sel.anchorNode == null) { sel.addRange(old); }\n    else if (gecko) { this.startGracePeriod(); }\n  }\n  this.rememberSelection();\n};\n\nContentEditableInput.prototype.startGracePeriod = function () {\n    var this$1 = this;\n\n  clearTimeout(this.gracePeriod);\n  this.gracePeriod = setTimeout(function () {\n    this$1.gracePeriod = false;\n    if (this$1.selectionChanged())\n      { this$1.cm.operation(function () { return this$1.cm.curOp.selectionChanged = true; }); }\n  }, 20);\n};\n\nContentEditableInput.prototype.showMultipleSelections = function (info) {\n  removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors);\n  removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection);\n};\n\nContentEditableInput.prototype.rememberSelection = function () {\n  var sel = window.getSelection();\n  this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset;\n  this.lastFocusNode = sel.focusNode; this.lastFocusOffset = sel.focusOffset;\n};\n\nContentEditableInput.prototype.selectionInEditor = function () {\n  var sel = window.getSelection();\n  if (!sel.rangeCount) { return false }\n  var node = sel.getRangeAt(0).commonAncestorContainer;\n  return contains(this.div, node)\n};\n\nContentEditableInput.prototype.focus = function () {\n  if (this.cm.options.readOnly != \"nocursor\") {\n    if (!this.selectionInEditor())\n      { this.showSelection(this.prepareSelection(), true); }\n    this.div.focus();\n  }\n};\nContentEditableInput.prototype.blur = function () { this.div.blur(); };\nContentEditableInput.prototype.getField = function () { return this.div };\n\nContentEditableInput.prototype.supportsTouch = function () { return true };\n\nContentEditableInput.prototype.receivedFocus = function () {\n  var input = this;\n  if (this.selectionInEditor())\n    { this.pollSelection(); }\n  else\n    { runInOp(this.cm, function () { return input.cm.curOp.selectionChanged = true; }); }\n\n  function poll() {\n    if (input.cm.state.focused) {\n      input.pollSelection();\n      input.polling.set(input.cm.options.pollInterval, poll);\n    }\n  }\n  this.polling.set(this.cm.options.pollInterval, poll);\n};\n\nContentEditableInput.prototype.selectionChanged = function () {\n  var sel = window.getSelection();\n  return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||\n    sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset\n};\n\nContentEditableInput.prototype.pollSelection = function () {\n  if (this.readDOMTimeout != null || this.gracePeriod || !this.selectionChanged()) { return }\n  var sel = window.getSelection(), cm = this.cm;\n  if (android && chrome && this.cm.options.gutters.length && isInGutter(sel.anchorNode)) {\n    this.cm.triggerOnKeyDown({type: \"keydown\", keyCode: 8, preventDefault: Math.abs});\n    this.blur();\n    this.focus();\n    return\n  }\n  if (this.composing) { return }\n  this.rememberSelection();\n  var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n  var head = domToPos(cm, sel.focusNode, sel.focusOffset);\n  if (anchor && head) { runInOp(cm, function () {\n    setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll);\n    if (anchor.bad || head.bad) { cm.curOp.selectionChanged = true; }\n  }); }\n};\n\nContentEditableInput.prototype.pollContent = function () {\n  if (this.readDOMTimeout != null) {\n    clearTimeout(this.readDOMTimeout);\n    this.readDOMTimeout = null;\n  }\n\n  var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary();\n  var from = sel.from(), to = sel.to();\n  if (from.ch == 0 && from.line > cm.firstLine())\n    { from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length); }\n  if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine())\n    { to = Pos(to.line + 1, 0); }\n  if (from.line < display.viewFrom || to.line > display.viewTo - 1) { return false }\n\n  var fromIndex, fromLine, fromNode;\n  if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\n    fromLine = lineNo(display.view[0].line);\n    fromNode = display.view[0].node;\n  } else {\n    fromLine = lineNo(display.view[fromIndex].line);\n    fromNode = display.view[fromIndex - 1].node.nextSibling;\n  }\n  var toIndex = findViewIndex(cm, to.line);\n  var toLine, toNode;\n  if (toIndex == display.view.length - 1) {\n    toLine = display.viewTo - 1;\n    toNode = display.lineDiv.lastChild;\n  } else {\n    toLine = lineNo(display.view[toIndex + 1].line) - 1;\n    toNode = display.view[toIndex + 1].node.previousSibling;\n  }\n\n  if (!fromNode) { return false }\n  var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine));\n  var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length));\n  while (newText.length > 1 && oldText.length > 1) {\n    if (lst(newText) == lst(oldText)) { newText.pop(); oldText.pop(); toLine--; }\n    else if (newText[0] == oldText[0]) { newText.shift(); oldText.shift(); fromLine++; }\n    else { break }\n  }\n\n  var cutFront = 0, cutEnd = 0;\n  var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length);\n  while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront))\n    { ++cutFront; }\n  var newBot = lst(newText), oldBot = lst(oldText);\n  var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0),\n                           oldBot.length - (oldText.length == 1 ? cutFront : 0));\n  while (cutEnd < maxCutEnd &&\n         newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1))\n    { ++cutEnd; }\n  if (newText.length == 1 && oldText.length == 1 && fromLine == from.line) {\n    while (cutFront && cutFront > from.ch &&\n           newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {\n      cutFront--;\n      cutEnd++;\n    }\n  }\n\n  newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(/^\\u200b+/, \"\");\n  newText[0] = newText[0].slice(cutFront).replace(/\\u200b+$/, \"\");\n\n  var chFrom = Pos(fromLine, cutFront);\n  var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0);\n  if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\n    replaceRange(cm.doc, newText, chFrom, chTo, \"+input\");\n    return true\n  }\n};\n\nContentEditableInput.prototype.ensurePolled = function () {\n  this.forceCompositionEnd();\n};\nContentEditableInput.prototype.reset = function () {\n  this.forceCompositionEnd();\n};\nContentEditableInput.prototype.forceCompositionEnd = function () {\n  if (!this.composing) { return }\n  clearTimeout(this.readDOMTimeout);\n  this.composing = null;\n  this.updateFromDOM();\n  this.div.blur();\n  this.div.focus();\n};\nContentEditableInput.prototype.readFromDOMSoon = function () {\n    var this$1 = this;\n\n  if (this.readDOMTimeout != null) { return }\n  this.readDOMTimeout = setTimeout(function () {\n    this$1.readDOMTimeout = null;\n    if (this$1.composing) {\n      if (this$1.composing.done) { this$1.composing = null; }\n      else { return }\n    }\n    this$1.updateFromDOM();\n  }, 80);\n};\n\nContentEditableInput.prototype.updateFromDOM = function () {\n    var this$1 = this;\n\n  if (this.cm.isReadOnly() || !this.pollContent())\n    { runInOp(this.cm, function () { return regChange(this$1.cm); }); }\n};\n\nContentEditableInput.prototype.setUneditable = function (node) {\n  node.contentEditable = \"false\";\n};\n\nContentEditableInput.prototype.onKeyPress = function (e) {\n  if (e.charCode == 0) { return }\n  e.preventDefault();\n  if (!this.cm.isReadOnly())\n    { operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0); }\n};\n\nContentEditableInput.prototype.readOnlyChanged = function (val) {\n  this.div.contentEditable = String(val != \"nocursor\");\n};\n\nContentEditableInput.prototype.onContextMenu = function () {};\nContentEditableInput.prototype.resetPosition = function () {};\n\nContentEditableInput.prototype.needsContentAttribute = true;\n\nfunction posToDOM(cm, pos) {\n  var view = findViewForLine(cm, pos.line);\n  if (!view || view.hidden) { return null }\n  var line = getLine(cm.doc, pos.line);\n  var info = mapFromLineView(view, line, pos.line);\n\n  var order = getOrder(line, cm.doc.direction), side = \"left\";\n  if (order) {\n    var partPos = getBidiPartAt(order, pos.ch);\n    side = partPos % 2 ? \"right\" : \"left\";\n  }\n  var result = nodeAndOffsetInLineMap(info.map, pos.ch, side);\n  result.offset = result.collapse == \"right\" ? result.end : result.start;\n  return result\n}\n\nfunction isInGutter(node) {\n  for (var scan = node; scan; scan = scan.parentNode)\n    { if (/CodeMirror-gutter-wrapper/.test(scan.className)) { return true } }\n  return false\n}\n\nfunction badPos(pos, bad) { if (bad) { pos.bad = true; } return pos }\n\nfunction domTextBetween(cm, from, to, fromLine, toLine) {\n  var text = \"\", closing = false, lineSep = cm.doc.lineSeparator();\n  function recognizeMarker(id) { return function (marker) { return marker.id == id; } }\n  function close() {\n    if (closing) {\n      text += lineSep;\n      closing = false;\n    }\n  }\n  function addText(str) {\n    if (str) {\n      close();\n      text += str;\n    }\n  }\n  function walk(node) {\n    if (node.nodeType == 1) {\n      var cmText = node.getAttribute(\"cm-text\");\n      if (cmText != null) {\n        addText(cmText || node.textContent.replace(/\\u200b/g, \"\"));\n        return\n      }\n      var markerID = node.getAttribute(\"cm-marker\"), range$$1;\n      if (markerID) {\n        var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID));\n        if (found.length && (range$$1 = found[0].find(0)))\n          { addText(getBetween(cm.doc, range$$1.from, range$$1.to).join(lineSep)); }\n        return\n      }\n      if (node.getAttribute(\"contenteditable\") == \"false\") { return }\n      var isBlock = /^(pre|div|p)$/i.test(node.nodeName);\n      if (isBlock) { close(); }\n      for (var i = 0; i < node.childNodes.length; i++)\n        { walk(node.childNodes[i]); }\n      if (isBlock) { closing = true; }\n    } else if (node.nodeType == 3) {\n      addText(node.nodeValue);\n    }\n  }\n  for (;;) {\n    walk(from);\n    if (from == to) { break }\n    from = from.nextSibling;\n  }\n  return text\n}\n\nfunction domToPos(cm, node, offset) {\n  var lineNode;\n  if (node == cm.display.lineDiv) {\n    lineNode = cm.display.lineDiv.childNodes[offset];\n    if (!lineNode) { return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true) }\n    node = null; offset = 0;\n  } else {\n    for (lineNode = node;; lineNode = lineNode.parentNode) {\n      if (!lineNode || lineNode == cm.display.lineDiv) { return null }\n      if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) { break }\n    }\n  }\n  for (var i = 0; i < cm.display.view.length; i++) {\n    var lineView = cm.display.view[i];\n    if (lineView.node == lineNode)\n      { return locateNodeInLineView(lineView, node, offset) }\n  }\n}\n\nfunction locateNodeInLineView(lineView, node, offset) {\n  var wrapper = lineView.text.firstChild, bad = false;\n  if (!node || !contains(wrapper, node)) { return badPos(Pos(lineNo(lineView.line), 0), true) }\n  if (node == wrapper) {\n    bad = true;\n    node = wrapper.childNodes[offset];\n    offset = 0;\n    if (!node) {\n      var line = lineView.rest ? lst(lineView.rest) : lineView.line;\n      return badPos(Pos(lineNo(line), line.text.length), bad)\n    }\n  }\n\n  var textNode = node.nodeType == 3 ? node : null, topNode = node;\n  if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\n    textNode = node.firstChild;\n    if (offset) { offset = textNode.nodeValue.length; }\n  }\n  while (topNode.parentNode != wrapper) { topNode = topNode.parentNode; }\n  var measure = lineView.measure, maps = measure.maps;\n\n  function find(textNode, topNode, offset) {\n    for (var i = -1; i < (maps ? maps.length : 0); i++) {\n      var map$$1 = i < 0 ? measure.map : maps[i];\n      for (var j = 0; j < map$$1.length; j += 3) {\n        var curNode = map$$1[j + 2];\n        if (curNode == textNode || curNode == topNode) {\n          var line = lineNo(i < 0 ? lineView.line : lineView.rest[i]);\n          var ch = map$$1[j] + offset;\n          if (offset < 0 || curNode != textNode) { ch = map$$1[j + (offset ? 1 : 0)]; }\n          return Pos(line, ch)\n        }\n      }\n    }\n  }\n  var found = find(textNode, topNode, offset);\n  if (found) { return badPos(found, bad) }\n\n  for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\n    found = find(after, after.firstChild, 0);\n    if (found)\n      { return badPos(Pos(found.line, found.ch - dist), bad) }\n    else\n      { dist += after.textContent.length; }\n  }\n  for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {\n    found = find(before, before.firstChild, -1);\n    if (found)\n      { return badPos(Pos(found.line, found.ch + dist$1), bad) }\n    else\n      { dist$1 += before.textContent.length; }\n  }\n}\n\n\nvar TextareaInput = function(cm) {\n  this.cm = cm;\n  this.prevInput = \"\";\n\n  this.pollingFast = false;\n  this.polling = new Delayed();\n  this.hasSelection = false;\n  this.composing = null;\n};\n\nTextareaInput.prototype.init = function (display) {\n    var this$1 = this;\n\n  var input = this, cm = this.cm;\n\n  var div = this.wrapper = hiddenTextarea();\n  var te = this.textarea = div.firstChild;\n  display.wrapper.insertBefore(div, display.wrapper.firstChild);\n\n  if (ios) { te.style.width = \"0px\"; }\n\n  on(te, \"input\", function () {\n    if (ie && ie_version >= 9 && this$1.hasSelection) { this$1.hasSelection = null; }\n    input.poll();\n  });\n\n  on(te, \"paste\", function (e) {\n    if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n\n    cm.state.pasteIncoming = true;\n    input.fastPoll();\n  });\n\n  function prepareCopyCut(e) {\n    if (signalDOMEvent(cm, e)) { return }\n    if (cm.somethingSelected()) {\n      setLastCopied({lineWise: false, text: cm.getSelections()});\n    } else if (!cm.options.lineWiseCopyCut) {\n      return\n    } else {\n      var ranges = copyableRanges(cm);\n      setLastCopied({lineWise: true, text: ranges.text});\n      if (e.type == \"cut\") {\n        cm.setSelections(ranges.ranges, null, sel_dontScroll);\n      } else {\n        input.prevInput = \"\";\n        te.value = ranges.text.join(\"\\n\");\n        selectInput(te);\n      }\n    }\n    if (e.type == \"cut\") { cm.state.cutIncoming = true; }\n  }\n  on(te, \"cut\", prepareCopyCut);\n  on(te, \"copy\", prepareCopyCut);\n\n  on(display.scroller, \"paste\", function (e) {\n    if (eventInWidget(display, e) || signalDOMEvent(cm, e)) { return }\n    cm.state.pasteIncoming = true;\n    input.focus();\n  });\n\n  on(display.lineSpace, \"selectstart\", function (e) {\n    if (!eventInWidget(display, e)) { e_preventDefault(e); }\n  });\n\n  on(te, \"compositionstart\", function () {\n    var start = cm.getCursor(\"from\");\n    if (input.composing) { input.composing.range.clear(); }\n    input.composing = {\n      start: start,\n      range: cm.markText(start, cm.getCursor(\"to\"), {className: \"CodeMirror-composing\"})\n    };\n  });\n  on(te, \"compositionend\", function () {\n    if (input.composing) {\n      input.poll();\n      input.composing.range.clear();\n      input.composing = null;\n    }\n  });\n};\n\nTextareaInput.prototype.prepareSelection = function () {\n  var cm = this.cm, display = cm.display, doc = cm.doc;\n  var result = prepareSelection(cm);\n\n  if (cm.options.moveInputWithCursor) {\n    var headPos = cursorCoords(cm, doc.sel.primary().head, \"div\");\n    var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect();\n    result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,\n                                        headPos.top + lineOff.top - wrapOff.top));\n    result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,\n                                         headPos.left + lineOff.left - wrapOff.left));\n  }\n\n  return result\n};\n\nTextareaInput.prototype.showSelection = function (drawn) {\n  var cm = this.cm, display = cm.display;\n  removeChildrenAndAdd(display.cursorDiv, drawn.cursors);\n  removeChildrenAndAdd(display.selectionDiv, drawn.selection);\n  if (drawn.teTop != null) {\n    this.wrapper.style.top = drawn.teTop + \"px\";\n    this.wrapper.style.left = drawn.teLeft + \"px\";\n  }\n};\n\nTextareaInput.prototype.reset = function (typing) {\n  if (this.contextMenuPending || this.composing) { return }\n  var cm = this.cm;\n  if (cm.somethingSelected()) {\n    this.prevInput = \"\";\n    var content = cm.getSelection();\n    this.textarea.value = content;\n    if (cm.state.focused) { selectInput(this.textarea); }\n    if (ie && ie_version >= 9) { this.hasSelection = content; }\n  } else if (!typing) {\n    this.prevInput = this.textarea.value = \"\";\n    if (ie && ie_version >= 9) { this.hasSelection = null; }\n  }\n};\n\nTextareaInput.prototype.getField = function () { return this.textarea };\n\nTextareaInput.prototype.supportsTouch = function () { return false };\n\nTextareaInput.prototype.focus = function () {\n  if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt() != this.textarea)) {\n    try { this.textarea.focus(); }\n    catch (e) {} \n  }\n};\n\nTextareaInput.prototype.blur = function () { this.textarea.blur(); };\n\nTextareaInput.prototype.resetPosition = function () {\n  this.wrapper.style.top = this.wrapper.style.left = 0;\n};\n\nTextareaInput.prototype.receivedFocus = function () { this.slowPoll(); };\n\nTextareaInput.prototype.slowPoll = function () {\n    var this$1 = this;\n\n  if (this.pollingFast) { return }\n  this.polling.set(this.cm.options.pollInterval, function () {\n    this$1.poll();\n    if (this$1.cm.state.focused) { this$1.slowPoll(); }\n  });\n};\n\nTextareaInput.prototype.fastPoll = function () {\n  var missed = false, input = this;\n  input.pollingFast = true;\n  function p() {\n    var changed = input.poll();\n    if (!changed && !missed) {missed = true; input.polling.set(60, p);}\n    else {input.pollingFast = false; input.slowPoll();}\n  }\n  input.polling.set(20, p);\n};\n\nTextareaInput.prototype.poll = function () {\n    var this$1 = this;\n\n  var cm = this.cm, input = this.textarea, prevInput = this.prevInput;\n  if (this.contextMenuPending || !cm.state.focused ||\n      (hasSelection(input) && !prevInput && !this.composing) ||\n      cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq)\n    { return false }\n\n  var text = input.value;\n  if (text == prevInput && !cm.somethingSelected()) { return false }\n  if (ie && ie_version >= 9 && this.hasSelection === text ||\n      mac && /[\\uf700-\\uf7ff]/.test(text)) {\n    cm.display.input.reset();\n    return false\n  }\n\n  if (cm.doc.sel == cm.display.selForContextMenu) {\n    var first = text.charCodeAt(0);\n    if (first == 0x200b && !prevInput) { prevInput = \"\\u200b\"; }\n    if (first == 0x21da) { this.reset(); return this.cm.execCommand(\"undo\") }\n  }\n  var same = 0, l = Math.min(prevInput.length, text.length);\n  while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) { ++same; }\n\n  runInOp(cm, function () {\n    applyTextInput(cm, text.slice(same), prevInput.length - same,\n                   null, this$1.composing ? \"*compose\" : null);\n\n    if (text.length > 1000 || text.indexOf(\"\\n\") > -1) { input.value = this$1.prevInput = \"\"; }\n    else { this$1.prevInput = text; }\n\n    if (this$1.composing) {\n      this$1.composing.range.clear();\n      this$1.composing.range = cm.markText(this$1.composing.start, cm.getCursor(\"to\"),\n                                         {className: \"CodeMirror-composing\"});\n    }\n  });\n  return true\n};\n\nTextareaInput.prototype.ensurePolled = function () {\n  if (this.pollingFast && this.poll()) { this.pollingFast = false; }\n};\n\nTextareaInput.prototype.onKeyPress = function () {\n  if (ie && ie_version >= 9) { this.hasSelection = null; }\n  this.fastPoll();\n};\n\nTextareaInput.prototype.onContextMenu = function (e) {\n  var input = this, cm = input.cm, display = cm.display, te = input.textarea;\n  var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop;\n  if (!pos || presto) { return } \n\n  var reset = cm.options.resetSelectionOnContextMenu;\n  if (reset && cm.doc.sel.contains(pos) == -1)\n    { operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll); }\n\n  var oldCSS = te.style.cssText, oldWrapperCSS = input.wrapper.style.cssText;\n  input.wrapper.style.cssText = \"position: absolute\";\n  var wrapperBox = input.wrapper.getBoundingClientRect();\n  te.style.cssText = \"position: absolute; width: 30px; height: 30px;\\n      top: \" + (e.clientY - wrapperBox.top - 5) + \"px; left: \" + (e.clientX - wrapperBox.left - 5) + \"px;\\n      z-index: 1000; background: \" + (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\";\n  var oldScrollY;\n  if (webkit) { oldScrollY = window.scrollY; } \n  display.input.focus();\n  if (webkit) { window.scrollTo(null, oldScrollY); }\n  display.input.reset();\n  if (!cm.somethingSelected()) { te.value = input.prevInput = \" \"; }\n  input.contextMenuPending = true;\n  display.selForContextMenu = cm.doc.sel;\n  clearTimeout(display.detectingSelectAll);\n\n  function prepareSelectAllHack() {\n    if (te.selectionStart != null) {\n      var selected = cm.somethingSelected();\n      var extval = \"\\u200b\" + (selected ? te.value : \"\");\n      te.value = \"\\u21da\"; \n      te.value = extval;\n      input.prevInput = selected ? \"\" : \"\\u200b\";\n      te.selectionStart = 1; te.selectionEnd = extval.length;\n      display.selForContextMenu = cm.doc.sel;\n    }\n  }\n  function rehide() {\n    input.contextMenuPending = false;\n    input.wrapper.style.cssText = oldWrapperCSS;\n    te.style.cssText = oldCSS;\n    if (ie && ie_version < 9) { display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos); }\n\n    if (te.selectionStart != null) {\n      if (!ie || (ie && ie_version < 9)) { prepareSelectAllHack(); }\n      var i = 0, poll = function () {\n        if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 &&\n            te.selectionEnd > 0 && input.prevInput == \"\\u200b\") {\n          operation(cm, selectAll)(cm);\n        } else if (i++ < 10) {\n          display.detectingSelectAll = setTimeout(poll, 500);\n        } else {\n          display.selForContextMenu = null;\n          display.input.reset();\n        }\n      };\n      display.detectingSelectAll = setTimeout(poll, 200);\n    }\n  }\n\n  if (ie && ie_version >= 9) { prepareSelectAllHack(); }\n  if (captureRightClick) {\n    e_stop(e);\n    var mouseup = function () {\n      off(window, \"mouseup\", mouseup);\n      setTimeout(rehide, 20);\n    };\n    on(window, \"mouseup\", mouseup);\n  } else {\n    setTimeout(rehide, 50);\n  }\n};\n\nTextareaInput.prototype.readOnlyChanged = function (val) {\n  if (!val) { this.reset(); }\n  this.textarea.disabled = val == \"nocursor\";\n};\n\nTextareaInput.prototype.setUneditable = function () {};\n\nTextareaInput.prototype.needsContentAttribute = false;\n\nfunction fromTextArea(textarea, options) {\n  options = options ? copyObj(options) : {};\n  options.value = textarea.value;\n  if (!options.tabindex && textarea.tabIndex)\n    { options.tabindex = textarea.tabIndex; }\n  if (!options.placeholder && textarea.placeholder)\n    { options.placeholder = textarea.placeholder; }\n  if (options.autofocus == null) {\n    var hasFocus = activeElt();\n    options.autofocus = hasFocus == textarea ||\n      textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body;\n  }\n\n  function save() {textarea.value = cm.getValue();}\n\n  var realSubmit;\n  if (textarea.form) {\n    on(textarea.form, \"submit\", save);\n    if (!options.leaveSubmitMethodAlone) {\n      var form = textarea.form;\n      realSubmit = form.submit;\n      try {\n        var wrappedSubmit = form.submit = function () {\n          save();\n          form.submit = realSubmit;\n          form.submit();\n          form.submit = wrappedSubmit;\n        };\n      } catch(e) {}\n    }\n  }\n\n  options.finishInit = function (cm) {\n    cm.save = save;\n    cm.getTextArea = function () { return textarea; };\n    cm.toTextArea = function () {\n      cm.toTextArea = isNaN; \n      save();\n      textarea.parentNode.removeChild(cm.getWrapperElement());\n      textarea.style.display = \"\";\n      if (textarea.form) {\n        off(textarea.form, \"submit\", save);\n        if (typeof textarea.form.submit == \"function\")\n          { textarea.form.submit = realSubmit; }\n      }\n    };\n  };\n\n  textarea.style.display = \"none\";\n  var cm = CodeMirror$1(function (node) { return textarea.parentNode.insertBefore(node, textarea.nextSibling); },\n    options);\n  return cm\n}\n\nfunction addLegacyProps(CodeMirror) {\n  CodeMirror.off = off;\n  CodeMirror.on = on;\n  CodeMirror.wheelEventPixels = wheelEventPixels;\n  CodeMirror.Doc = Doc;\n  CodeMirror.splitLines = splitLinesAuto;\n  CodeMirror.countColumn = countColumn;\n  CodeMirror.findColumn = findColumn;\n  CodeMirror.isWordChar = isWordCharBasic;\n  CodeMirror.Pass = Pass;\n  CodeMirror.signal = signal;\n  CodeMirror.Line = Line;\n  CodeMirror.changeEnd = changeEnd;\n  CodeMirror.scrollbarModel = scrollbarModel;\n  CodeMirror.Pos = Pos;\n  CodeMirror.cmpPos = cmp;\n  CodeMirror.modes = modes;\n  CodeMirror.mimeModes = mimeModes;\n  CodeMirror.resolveMode = resolveMode;\n  CodeMirror.getMode = getMode;\n  CodeMirror.modeExtensions = modeExtensions;\n  CodeMirror.extendMode = extendMode;\n  CodeMirror.copyState = copyState;\n  CodeMirror.startState = startState;\n  CodeMirror.innerMode = innerMode;\n  CodeMirror.commands = commands;\n  CodeMirror.keyMap = keyMap;\n  CodeMirror.keyName = keyName;\n  CodeMirror.isModifierKey = isModifierKey;\n  CodeMirror.lookupKey = lookupKey;\n  CodeMirror.normalizeKeyMap = normalizeKeyMap;\n  CodeMirror.StringStream = StringStream;\n  CodeMirror.SharedTextMarker = SharedTextMarker;\n  CodeMirror.TextMarker = TextMarker;\n  CodeMirror.LineWidget = LineWidget;\n  CodeMirror.e_preventDefault = e_preventDefault;\n  CodeMirror.e_stopPropagation = e_stopPropagation;\n  CodeMirror.e_stop = e_stop;\n  CodeMirror.addClass = addClass;\n  CodeMirror.contains = contains;\n  CodeMirror.rmClass = rmClass;\n  CodeMirror.keyNames = keyNames;\n}\n\n\ndefineOptions(CodeMirror$1);\n\naddEditorMethods(CodeMirror$1);\n\nvar dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \");\nfor (var prop in Doc.prototype) { if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)\n  { CodeMirror$1.prototype[prop] = (function(method) {\n    return function() {return method.apply(this.doc, arguments)}\n  })(Doc.prototype[prop]); } }\n\neventMixin(Doc);\n\n\nCodeMirror$1.inputStyles = {\"textarea\": TextareaInput, \"contenteditable\": ContentEditableInput};\n\n\nCodeMirror$1.defineMode = function(name) {\n  if (!CodeMirror$1.defaults.mode && name != \"null\") { CodeMirror$1.defaults.mode = name; }\n  defineMode.apply(this, arguments);\n};\n\nCodeMirror$1.defineMIME = defineMIME;\n\nCodeMirror$1.defineMode(\"null\", function () { return ({token: function (stream) { return stream.skipToEnd(); }}); });\nCodeMirror$1.defineMIME(\"text/plain\", \"null\");\n\n\nCodeMirror$1.defineExtension = function (name, func) {\n  CodeMirror$1.prototype[name] = func;\n};\nCodeMirror$1.defineDocExtension = function (name, func) {\n  Doc.prototype[name] = func;\n};\n\nCodeMirror$1.fromTextArea = fromTextArea;\n\naddLegacyProps(CodeMirror$1);\n\nCodeMirror$1.version = \"5.31.0\";\n\nreturn CodeMirror$1;\n\n})));\n\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \n    mod(require(\"../../lib/codemirror\"))\n  else if (typeof define == \"function\" && define.amd) \n    define([\"../../lib/codemirror\"], mod)\n  else \n    mod(CodeMirror)\n})(function(CodeMirror) {\n  \"use strict\"\n  var Pos = CodeMirror.Pos\n\n  function regexpFlags(regexp) {\n    var flags = regexp.flags\n    return flags != null ? flags : (regexp.ignoreCase ? \"i\" : \"\")\n      + (regexp.global ? \"g\" : \"\")\n      + (regexp.multiline ? \"m\" : \"\")\n  }\n\n  function ensureGlobal(regexp) {\n    return regexp.global ? regexp : new RegExp(regexp.source, regexpFlags(regexp) + \"g\")\n  }\n\n  function maybeMultiline(regexp) {\n    return /\\\\s|\\\\n|\\n|\\\\W|\\\\D|\\[\\^/.test(regexp.source)\n  }\n\n  function searchRegexpForward(doc, regexp, start) {\n    regexp = ensureGlobal(regexp)\n    for (var line = start.line, ch = start.ch, last = doc.lastLine(); line <= last; line++, ch = 0) {\n      regexp.lastIndex = ch\n      var string = doc.getLine(line), match = regexp.exec(string)\n      if (match)\n        return {from: Pos(line, match.index),\n                to: Pos(line, match.index + match[0].length),\n                match: match}\n    }\n  }\n\n  function searchRegexpForwardMultiline(doc, regexp, start) {\n    if (!maybeMultiline(regexp)) return searchRegexpForward(doc, regexp, start)\n\n    regexp = ensureGlobal(regexp)\n    var string, chunk = 1\n    for (var line = start.line, last = doc.lastLine(); line <= last;) {\n      for (var i = 0; i < chunk; i++) {\n        var curLine = doc.getLine(line++)\n        string = string == null ? curLine : string + \"\\n\" + curLine\n      }\n      chunk = chunk * 2\n      regexp.lastIndex = start.ch\n      var match = regexp.exec(string)\n      if (match) {\n        var before = string.slice(0, match.index).split(\"\\n\"), inside = match[0].split(\"\\n\")\n        var startLine = start.line + before.length - 1, startCh = before[before.length - 1].length\n        return {from: Pos(startLine, startCh),\n                to: Pos(startLine + inside.length - 1,\n                        inside.length == 1 ? startCh + inside[0].length : inside[inside.length - 1].length),\n                match: match}\n      }\n    }\n  }\n\n  function lastMatchIn(string, regexp) {\n    var cutOff = 0, match\n    for (;;) {\n      regexp.lastIndex = cutOff\n      var newMatch = regexp.exec(string)\n      if (!newMatch) return match\n      match = newMatch\n      cutOff = match.index + (match[0].length || 1)\n      if (cutOff == string.length) return match\n    }\n  }\n\n  function searchRegexpBackward(doc, regexp, start) {\n    regexp = ensureGlobal(regexp)\n    for (var line = start.line, ch = start.ch, first = doc.firstLine(); line >= first; line--, ch = -1) {\n      var string = doc.getLine(line)\n      if (ch > -1) string = string.slice(0, ch)\n      var match = lastMatchIn(string, regexp)\n      if (match)\n        return {from: Pos(line, match.index),\n                to: Pos(line, match.index + match[0].length),\n                match: match}\n    }\n  }\n\n  function searchRegexpBackwardMultiline(doc, regexp, start) {\n    regexp = ensureGlobal(regexp)\n    var string, chunk = 1\n    for (var line = start.line, first = doc.firstLine(); line >= first;) {\n      for (var i = 0; i < chunk; i++) {\n        var curLine = doc.getLine(line--)\n        string = string == null ? curLine.slice(0, start.ch) : curLine + \"\\n\" + string\n      }\n      chunk *= 2\n\n      var match = lastMatchIn(string, regexp)\n      if (match) {\n        var before = string.slice(0, match.index).split(\"\\n\"), inside = match[0].split(\"\\n\")\n        var startLine = line + before.length, startCh = before[before.length - 1].length\n        return {from: Pos(startLine, startCh),\n                to: Pos(startLine + inside.length - 1,\n                        inside.length == 1 ? startCh + inside[0].length : inside[inside.length - 1].length),\n                match: match}\n      }\n    }\n  }\n\n  var doFold, noFold\n  if (String.prototype.normalize) {\n    doFold = function(str) { return str.normalize(\"NFD\").toLowerCase() }\n    noFold = function(str) { return str.normalize(\"NFD\") }\n  } else {\n    doFold = function(str) { return str.toLowerCase() }\n    noFold = function(str) { return str }\n  }\n\n  function adjustPos(orig, folded, pos, foldFunc) {\n    if (orig.length == folded.length) return pos\n    for (var min = 0, max = pos + Math.max(0, orig.length - folded.length);;) {\n      if (min == max) return min\n      var mid = (min + max) >> 1\n      var len = foldFunc(orig.slice(0, mid)).length\n      if (len == pos) return mid\n      else if (len > pos) max = mid\n      else min = mid + 1\n    }\n  }\n\n  function searchStringForward(doc, query, start, caseFold) {\n    if (!query.length) return null\n    var fold = caseFold ? doFold : noFold\n    var lines = fold(query).split(/\\r|\\n\\r?/)\n\n    search: for (var line = start.line, ch = start.ch, last = doc.lastLine() + 1 - lines.length; line <= last; line++, ch = 0) {\n      var orig = doc.getLine(line).slice(ch), string = fold(orig)\n      if (lines.length == 1) {\n        var found = string.indexOf(lines[0])\n        if (found == -1) continue search\n        var start = adjustPos(orig, string, found, fold) + ch\n        return {from: Pos(line, adjustPos(orig, string, found, fold) + ch),\n                to: Pos(line, adjustPos(orig, string, found + lines[0].length, fold) + ch)}\n      } else {\n        var cutFrom = string.length - lines[0].length\n        if (string.slice(cutFrom) != lines[0]) continue search\n        for (var i = 1; i < lines.length - 1; i++)\n          if (fold(doc.getLine(line + i)) != lines[i]) continue search\n        var end = doc.getLine(line + lines.length - 1), endString = fold(end), lastLine = lines[lines.length - 1]\n        if (end.slice(0, lastLine.length) != lastLine) continue search\n        return {from: Pos(line, adjustPos(orig, string, cutFrom, fold) + ch),\n                to: Pos(line + lines.length - 1, adjustPos(end, endString, lastLine.length, fold))}\n      }\n    }\n  }\n\n  function searchStringBackward(doc, query, start, caseFold) {\n    if (!query.length) return null\n    var fold = caseFold ? doFold : noFold\n    var lines = fold(query).split(/\\r|\\n\\r?/)\n\n    search: for (var line = start.line, ch = start.ch, first = doc.firstLine() - 1 + lines.length; line >= first; line--, ch = -1) {\n      var orig = doc.getLine(line)\n      if (ch > -1) orig = orig.slice(0, ch)\n      var string = fold(orig)\n      if (lines.length == 1) {\n        var found = string.lastIndexOf(lines[0])\n        if (found == -1) continue search\n        return {from: Pos(line, adjustPos(orig, string, found, fold)),\n                to: Pos(line, adjustPos(orig, string, found + lines[0].length, fold))}\n      } else {\n        var lastLine = lines[lines.length - 1]\n        if (string.slice(0, lastLine.length) != lastLine) continue search\n        for (var i = 1, start = line - lines.length + 1; i < lines.length - 1; i++)\n          if (fold(doc.getLine(start + i)) != lines[i]) continue search\n        var top = doc.getLine(line + 1 - lines.length), topString = fold(top)\n        if (topString.slice(topString.length - lines[0].length) != lines[0]) continue search\n        return {from: Pos(line + 1 - lines.length, adjustPos(top, topString, top.length - lines[0].length, fold)),\n                to: Pos(line, adjustPos(orig, string, lastLine.length, fold))}\n      }\n    }\n  }\n\n  function SearchCursor(doc, query, pos, options) {\n    this.atOccurrence = false\n    this.doc = doc\n    pos = pos ? doc.clipPos(pos) : Pos(0, 0)\n    this.pos = {from: pos, to: pos}\n\n    var caseFold\n    if (typeof options == \"object\") {\n      caseFold = options.caseFold\n    } else { \n      caseFold = options\n      options = null\n    }\n\n    if (typeof query == \"string\") {\n      if (caseFold == null) caseFold = false\n      this.matches = function(reverse, pos) {\n        return (reverse ? searchStringBackward : searchStringForward)(doc, query, pos, caseFold)\n      }\n    } else {\n      query = ensureGlobal(query)\n      if (!options || options.multiline !== false)\n        this.matches = function(reverse, pos) {\n          return (reverse ? searchRegexpBackwardMultiline : searchRegexpForwardMultiline)(doc, query, pos)\n        }\n      else\n        this.matches = function(reverse, pos) {\n          return (reverse ? searchRegexpBackward : searchRegexpForward)(doc, query, pos)\n        }\n    }\n  }\n\n  SearchCursor.prototype = {\n    findNext: function() {return this.find(false)},\n    findPrevious: function() {return this.find(true)},\n\n    find: function(reverse) {\n      var result = this.matches(reverse, this.doc.clipPos(reverse ? this.pos.from : this.pos.to))\n\n      while (result && CodeMirror.cmpPos(result.from, result.to) == 0) {\n        if (reverse) {\n          if (result.from.ch) result.from = Pos(result.from.line, result.from.ch - 1)\n          else if (result.from.line == this.doc.firstLine()) result = null\n          else result = this.matches(reverse, this.doc.clipPos(Pos(result.from.line - 1)))\n        } else {\n          if (result.to.ch < this.doc.getLine(result.to.line).length) result.to = Pos(result.to.line, result.to.ch + 1)\n          else if (result.to.line == this.doc.lastLine()) result = null\n          else result = this.matches(reverse, Pos(result.to.line + 1, 0))\n        }\n      }\n\n      if (result) {\n        this.pos = result\n        this.atOccurrence = true\n        return this.pos.match || true\n      } else {\n        var end = Pos(reverse ? this.doc.firstLine() : this.doc.lastLine() + 1, 0)\n        this.pos = {from: end, to: end}\n        return this.atOccurrence = false\n      }\n    },\n\n    from: function() {if (this.atOccurrence) return this.pos.from},\n    to: function() {if (this.atOccurrence) return this.pos.to},\n\n    replace: function(newText, origin) {\n      if (!this.atOccurrence) return\n      var lines = CodeMirror.splitLines(newText)\n      this.doc.replaceRange(lines, this.pos.from, this.pos.to, origin)\n      this.pos.to = Pos(this.pos.from.line + lines.length - 1,\n                        lines[lines.length - 1].length + (lines.length == 1 ? this.pos.from.ch : 0))\n    }\n  }\n\n  CodeMirror.defineExtension(\"getSearchCursor\", function(query, pos, caseFold) {\n    return new SearchCursor(this.doc, query, pos, caseFold)\n  })\n  CodeMirror.defineDocExtension(\"getSearchCursor\", function(query, pos, caseFold) {\n    return new SearchCursor(this, query, pos, caseFold)\n  })\n\n  CodeMirror.defineExtension(\"selectMatches\", function(query, caseFold) {\n    var ranges = []\n    var cur = this.getSearchCursor(query, this.getCursor(\"from\"), caseFold)\n    while (cur.findNext()) {\n      if (CodeMirror.cmpPos(cur.to(), this.getCursor(\"to\")) > 0) break\n      ranges.push({anchor: cur.from(), head: cur.to()})\n    }\n    if (ranges.length)\n      this.setSelections(ranges, 0)\n  })\n});\n\n\n\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \n    mod(require(\"../../lib/codemirror\"), require(\"./searchcursor\"), require(\"../dialog/dialog\"));\n  else if (typeof define == \"function\" && define.amd) \n    define([\"../../lib/codemirror\", \"./searchcursor\", \"../dialog/dialog\"], mod);\n  else \n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  function searchOverlay(query, caseInsensitive) {\n    if (typeof query == \"string\")\n      query = new RegExp(query.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\"), caseInsensitive ? \"gi\" : \"g\");\n    else if (!query.global)\n      query = new RegExp(query.source, query.ignoreCase ? \"gi\" : \"g\");\n\n    return {token: function(stream) {\n      query.lastIndex = stream.pos;\n      var match = query.exec(stream.string);\n      if (match && match.index == stream.pos) {\n        stream.pos += match[0].length || 1;\n        return \"searching\";\n      } else if (match) {\n        stream.pos = match.index;\n      } else {\n        stream.skipToEnd();\n      }\n    }};\n  }\n\n  function SearchState() {\n    this.posFrom = this.posTo = this.lastQuery = this.query = null;\n    this.overlay = null;\n  }\n\n  function getSearchState(cm) {\n    return cm.state.search || (cm.state.search = new SearchState());\n  }\n\n  function queryCaseInsensitive(query) {\n    return typeof query == \"string\" && query == query.toLowerCase();\n  }\n\n  function getSearchCursor(cm, query, pos) {\n    return cm.getSearchCursor(query, pos, {caseFold: queryCaseInsensitive(query), multiline: true});\n  }\n\n  function persistentDialog(cm, text, deflt, onEnter, onKeyDown) {\n    cm.openDialog(text, onEnter, {\n      value: deflt,\n      selectValueOnOpen: true,\n      closeOnEnter: false,\n      onClose: function() { clearSearch(cm); },\n      onKeyDown: onKeyDown\n    });\n  }\n\n  function dialog(cm, text, shortText, deflt, f) {\n    if (cm.openDialog) cm.openDialog(text, f, {value: deflt, selectValueOnOpen: true});\n    else f(prompt(shortText, deflt));\n  }\n\n  function confirmDialog(cm, text, shortText, fs) {\n    if (cm.openConfirm) cm.openConfirm(text, fs);\n    else if (confirm(shortText)) fs[0]();\n  }\n\n  function parseString(string) {\n    return string.replace(/\\\\(.)/g, function(_, ch) {\n      if (ch == \"n\") return \"\\n\"\n      if (ch == \"r\") return \"\\r\"\n      return ch\n    })\n  }\n\n  function parseQuery(query) {\n    var isRE = query.match(/^\\/(.*)\\/([a-z]*)$/);\n    if (isRE) {\n      try { query = new RegExp(isRE[1], isRE[2].indexOf(\"i\") == -1 ? \"\" : \"i\"); }\n      catch(e) {} \n    } else {\n      query = parseString(query)\n    }\n    if (typeof query == \"string\" ? query == \"\" : query.test(\"\"))\n      query = /x^/;\n    return query;\n  }\n\n  var queryDialog =\n    '<span class=\"CodeMirror-search-label\">Search:</span> <input type=\"text\" style=\"width: 10em\" class=\"CodeMirror-search-field\"/> <span style=\"color: #888\" class=\"CodeMirror-search-hint\">(Use /re/ syntax for regexp search)</span>';\n\n  function startSearch(cm, state, query) {\n    state.queryText = query;\n    state.query = parseQuery(query);\n    cm.removeOverlay(state.overlay, queryCaseInsensitive(state.query));\n    state.overlay = searchOverlay(state.query, queryCaseInsensitive(state.query));\n    cm.addOverlay(state.overlay);\n    if (cm.showMatchesOnScrollbar) {\n      if (state.annotate) { state.annotate.clear(); state.annotate = null; }\n      state.annotate = cm.showMatchesOnScrollbar(state.query, queryCaseInsensitive(state.query));\n    }\n  }\n\n  function doSearch(cm, rev, persistent, immediate) {\n    var state = getSearchState(cm);\n    if (state.query) return findNext(cm, rev);\n    var q = cm.getSelection() || state.lastQuery;\n    if (q instanceof RegExp && q.source == \"x^\") q = null\n    if (persistent && cm.openDialog) {\n      var hiding = null\n      var searchNext = function(query, event) {\n        CodeMirror.e_stop(event);\n        if (!query) return;\n        if (query != state.queryText) {\n          startSearch(cm, state, query);\n          state.posFrom = state.posTo = cm.getCursor();\n        }\n        if (hiding) hiding.style.opacity = 1\n        findNext(cm, event.shiftKey, function(_, to) {\n          var dialog\n          if (to.line < 3 && document.querySelector &&\n              (dialog = cm.display.wrapper.querySelector(\".CodeMirror-dialog\")) &&\n              dialog.getBoundingClientRect().bottom - 4 > cm.cursorCoords(to, \"window\").top)\n            (hiding = dialog).style.opacity = .4\n        })\n      };\n      persistentDialog(cm, queryDialog, q, searchNext, function(event, query) {\n        var keyName = CodeMirror.keyName(event)\n        var extra = cm.getOption('extraKeys'), cmd = (extra && extra[keyName]) || CodeMirror.keyMap[cm.getOption(\"keyMap\")][keyName]\n        if (cmd == \"findNext\" || cmd == \"findPrev\" ||\n          cmd == \"findPersistentNext\" || cmd == \"findPersistentPrev\") {\n          CodeMirror.e_stop(event);\n          startSearch(cm, getSearchState(cm), query);\n          cm.execCommand(cmd);\n        } else if (cmd == \"find\" || cmd == \"findPersistent\") {\n          CodeMirror.e_stop(event);\n          searchNext(query, event);\n        }\n      });\n      if (immediate && q) {\n        startSearch(cm, state, q);\n        findNext(cm, rev);\n      }\n    } else {\n      dialog(cm, queryDialog, \"Search for:\", q, function(query) {\n        if (query && !state.query) cm.operation(function() {\n          startSearch(cm, state, query);\n          state.posFrom = state.posTo = cm.getCursor();\n          findNext(cm, rev);\n        });\n      });\n    }\n  }\n\n  function findNext(cm, rev, callback) {cm.operation(function() {\n    var state = getSearchState(cm);\n    var cursor = getSearchCursor(cm, state.query, rev ? state.posFrom : state.posTo);\n    if (!cursor.find(rev)) {\n      cursor = getSearchCursor(cm, state.query, rev ? CodeMirror.Pos(cm.lastLine()) : CodeMirror.Pos(cm.firstLine(), 0));\n      if (!cursor.find(rev)) return;\n    }\n    cm.setSelection(cursor.from(), cursor.to());\n    cm.scrollIntoView({from: cursor.from(), to: cursor.to()}, 20);\n    state.posFrom = cursor.from(); state.posTo = cursor.to();\n    if (callback) callback(cursor.from(), cursor.to())\n  });}\n\n  function clearSearch(cm) {cm.operation(function() {\n    var state = getSearchState(cm);\n    state.lastQuery = state.query;\n    if (!state.query) return;\n    state.query = state.queryText = null;\n    cm.removeOverlay(state.overlay);\n    if (state.annotate) { state.annotate.clear(); state.annotate = null; }\n  });}\n\n  var replaceQueryDialog =\n    ' <input type=\"text\" style=\"width: 10em\" class=\"CodeMirror-search-field\"/> <span style=\"color: #888\" class=\"CodeMirror-search-hint\">(Use /re/ syntax for regexp search)</span>';\n  var replacementQueryDialog = '<span class=\"CodeMirror-search-label\">With:</span> <input type=\"text\" style=\"width: 10em\" class=\"CodeMirror-search-field\"/>';\n  var doReplaceConfirm = '<span class=\"CodeMirror-search-label\">Replace?</span> <button>Yes</button> <button>No</button> <button>All</button> <button>Stop</button>';\n\n  function replaceAll(cm, query, text) {\n    cm.operation(function() {\n      for (var cursor = getSearchCursor(cm, query); cursor.findNext();) {\n        if (typeof query != \"string\") {\n          var match = cm.getRange(cursor.from(), cursor.to()).match(query);\n          cursor.replace(text.replace(/\\$(\\d)/g, function(_, i) {return match[i];}));\n        } else cursor.replace(text);\n      }\n    });\n  }\n\n  function replace(cm, all) {\n    if (cm.getOption(\"readOnly\")) return;\n    var query = cm.getSelection() || getSearchState(cm).lastQuery;\n    var dialogText = '<span class=\"CodeMirror-search-label\">' + (all ? 'Replace all:' : 'Replace:') + '</span>';\n    dialog(cm, dialogText + replaceQueryDialog, dialogText, query, function(query) {\n      if (!query) return;\n      query = parseQuery(query);\n      dialog(cm, replacementQueryDialog, \"Replace with:\", \"\", function(text) {\n        text = parseString(text)\n        if (all) {\n          replaceAll(cm, query, text)\n        } else {\n          clearSearch(cm);\n          var cursor = getSearchCursor(cm, query, cm.getCursor(\"from\"));\n          var advance = function() {\n            var start = cursor.from(), match;\n            if (!(match = cursor.findNext())) {\n              cursor = getSearchCursor(cm, query);\n              if (!(match = cursor.findNext()) ||\n                  (start && cursor.from().line == start.line && cursor.from().ch == start.ch)) return;\n            }\n            cm.setSelection(cursor.from(), cursor.to());\n            cm.scrollIntoView({from: cursor.from(), to: cursor.to()});\n            confirmDialog(cm, doReplaceConfirm, \"Replace?\",\n                          [function() {doReplace(match);}, advance,\n                           function() {replaceAll(cm, query, text)}]);\n          };\n          var doReplace = function(match) {\n            cursor.replace(typeof query == \"string\" ? text :\n                           text.replace(/\\$(\\d)/g, function(_, i) {return match[i];}));\n            advance();\n          };\n          advance();\n        }\n      });\n    });\n  }\n\n  CodeMirror.commands.find = function(cm) {clearSearch(cm); doSearch(cm);};\n  CodeMirror.commands.findPersistent = function(cm) {clearSearch(cm); doSearch(cm, false, true);};\n  CodeMirror.commands.findPersistentNext = function(cm) {doSearch(cm, false, true, true);};\n  CodeMirror.commands.findPersistentPrev = function(cm) {doSearch(cm, true, true, true);};\n  CodeMirror.commands.findNext = doSearch;\n  CodeMirror.commands.findPrev = function(cm) {doSearch(cm, true);};\n  CodeMirror.commands.clearSearch = clearSearch;\n  CodeMirror.commands.replace = replace;\n  CodeMirror.commands.replaceAll = function(cm) {replace(cm, true);};\n});\n\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \n    mod(require(\"../../lib/codemirror\"), require(\"./foldcode\"));\n  else if (typeof define == \"function\" && define.amd) \n    define([\"../../lib/codemirror\", \"./foldcode\"], mod);\n  else \n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineOption(\"foldGutter\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.clearGutter(cm.state.foldGutter.options.gutter);\n      cm.state.foldGutter = null;\n      cm.off(\"gutterClick\", onGutterClick);\n      cm.off(\"change\", onChange);\n      cm.off(\"viewportChange\", onViewportChange);\n      cm.off(\"fold\", onFold);\n      cm.off(\"unfold\", onFold);\n      cm.off(\"swapDoc\", onChange);\n    }\n    if (val) {\n      cm.state.foldGutter = new State(parseOptions(val));\n      updateInViewport(cm);\n      cm.on(\"gutterClick\", onGutterClick);\n      cm.on(\"change\", onChange);\n      cm.on(\"viewportChange\", onViewportChange);\n      cm.on(\"fold\", onFold);\n      cm.on(\"unfold\", onFold);\n      cm.on(\"swapDoc\", onChange);\n    }\n  });\n\n  var Pos = CodeMirror.Pos;\n\n  function State(options) {\n    this.options = options;\n    this.from = this.to = 0;\n  }\n\n  function parseOptions(opts) {\n    if (opts === true) opts = {};\n    if (opts.gutter == null) opts.gutter = \"CodeMirror-foldgutter\";\n    if (opts.indicatorOpen == null) opts.indicatorOpen = \"CodeMirror-foldgutter-open\";\n    if (opts.indicatorFolded == null) opts.indicatorFolded = \"CodeMirror-foldgutter-folded\";\n    return opts;\n  }\n\n  function isFolded(cm, line) {\n    var marks = cm.findMarks(Pos(line, 0), Pos(line + 1, 0));\n    for (var i = 0; i < marks.length; ++i)\n      if (marks[i].__isFold && marks[i].find().from.line == line) return marks[i];\n  }\n\n  function marker(spec) {\n    if (typeof spec == \"string\") {\n      var elt = document.createElement(\"div\");\n      elt.className = spec + \" CodeMirror-guttermarker-subtle\";\n      return elt;\n    } else {\n      return spec.cloneNode(true);\n    }\n  }\n\n  function updateFoldInfo(cm, from, to) {\n    var opts = cm.state.foldGutter.options, cur = from;\n    var minSize = cm.foldOption(opts, \"minFoldSize\");\n    var func = cm.foldOption(opts, \"rangeFinder\");\n    cm.eachLine(from, to, function(line) {\n      var mark = null;\n      if (isFolded(cm, cur)) {\n        mark = marker(opts.indicatorFolded);\n      } else {\n        var pos = Pos(cur, 0);\n        var range = func && func(cm, pos);\n        if (range && range.to.line - range.from.line >= minSize)\n          mark = marker(opts.indicatorOpen);\n      }\n      cm.setGutterMarker(line, opts.gutter, mark);\n      ++cur;\n    });\n  }\n\n  function updateInViewport(cm) {\n    var vp = cm.getViewport(), state = cm.state.foldGutter;\n    if (!state) return;\n    cm.operation(function() {\n      updateFoldInfo(cm, vp.from, vp.to);\n    });\n    state.from = vp.from; state.to = vp.to;\n  }\n\n  function onGutterClick(cm, line, gutter) {\n    var state = cm.state.foldGutter;\n    if (!state) return;\n    var opts = state.options;\n    if (gutter != opts.gutter) return;\n    var folded = isFolded(cm, line);\n    if (folded) folded.clear();\n    else cm.foldCode(Pos(line, 0), opts.rangeFinder);\n  }\n\n  function onChange(cm) {\n    var state = cm.state.foldGutter;\n    if (!state) return;\n    var opts = state.options;\n    state.from = state.to = 0;\n    clearTimeout(state.changeUpdate);\n    state.changeUpdate = setTimeout(function() { updateInViewport(cm); }, opts.foldOnChangeTimeSpan || 600);\n  }\n\n  function onViewportChange(cm) {\n    var state = cm.state.foldGutter;\n    if (!state) return;\n    var opts = state.options;\n    clearTimeout(state.changeUpdate);\n    state.changeUpdate = setTimeout(function() {\n      var vp = cm.getViewport();\n      if (state.from == state.to || vp.from - state.to > 20 || state.from - vp.to > 20) {\n        updateInViewport(cm);\n      } else {\n        cm.operation(function() {\n          if (vp.from < state.from) {\n            updateFoldInfo(cm, vp.from, state.from);\n            state.from = vp.from;\n          }\n          if (vp.to > state.to) {\n            updateFoldInfo(cm, state.to, vp.to);\n            state.to = vp.to;\n          }\n        });\n      }\n    }, opts.updateViewportTimeSpan || 400);\n  }\n\n  function onFold(cm, from) {\n    var state = cm.state.foldGutter;\n    if (!state) return;\n    var line = from.line;\n    if (line >= state.from && line < state.to)\n      updateFoldInfo(cm, line, line + 1);\n  }\n});\n\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \n    define([\"../../lib/codemirror\"], mod);\n  else \n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var Pos = CodeMirror.Pos;\n  function cmp(a, b) { return a.line - b.line || a.ch - b.ch; }\n\n  var nameStartChar = \"A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\";\n  var nameChar = nameStartChar + \"\\-\\:\\.0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040\";\n  var xmlTagStart = new RegExp(\"<(/?)([\" + nameStartChar + \"][\" + nameChar + \"]*)\", \"g\");\n\n  function Iter(cm, line, ch, range) {\n    this.line = line; this.ch = ch;\n    this.cm = cm; this.text = cm.getLine(line);\n    this.min = range ? Math.max(range.from, cm.firstLine()) : cm.firstLine();\n    this.max = range ? Math.min(range.to - 1, cm.lastLine()) : cm.lastLine();\n  }\n\n  function tagAt(iter, ch) {\n    var type = iter.cm.getTokenTypeAt(Pos(iter.line, ch));\n    return type && /\\btag\\b/.test(type);\n  }\n\n  function nextLine(iter) {\n    if (iter.line >= iter.max) return;\n    iter.ch = 0;\n    iter.text = iter.cm.getLine(++iter.line);\n    return true;\n  }\n  function prevLine(iter) {\n    if (iter.line <= iter.min) return;\n    iter.text = iter.cm.getLine(--iter.line);\n    iter.ch = iter.text.length;\n    return true;\n  }\n\n  function toTagEnd(iter) {\n    for (;;) {\n      var gt = iter.text.indexOf(\">\", iter.ch);\n      if (gt == -1) { if (nextLine(iter)) continue; else return; }\n      if (!tagAt(iter, gt + 1)) { iter.ch = gt + 1; continue; }\n      var lastSlash = iter.text.lastIndexOf(\"/\", gt);\n      var selfClose = lastSlash > -1 && !/\\S/.test(iter.text.slice(lastSlash + 1, gt));\n      iter.ch = gt + 1;\n      return selfClose ? \"selfClose\" : \"regular\";\n    }\n  }\n  function toTagStart(iter) {\n    for (;;) {\n      var lt = iter.ch ? iter.text.lastIndexOf(\"<\", iter.ch - 1) : -1;\n      if (lt == -1) { if (prevLine(iter)) continue; else return; }\n      if (!tagAt(iter, lt + 1)) { iter.ch = lt; continue; }\n      xmlTagStart.lastIndex = lt;\n      iter.ch = lt;\n      var match = xmlTagStart.exec(iter.text);\n      if (match && match.index == lt) return match;\n    }\n  }\n\n  function toNextTag(iter) {\n    for (;;) {\n      xmlTagStart.lastIndex = iter.ch;\n      var found = xmlTagStart.exec(iter.text);\n      if (!found) { if (nextLine(iter)) continue; else return; }\n      if (!tagAt(iter, found.index + 1)) { iter.ch = found.index + 1; continue; }\n      iter.ch = found.index + found[0].length;\n      return found;\n    }\n  }\n  function toPrevTag(iter) {\n    for (;;) {\n      var gt = iter.ch ? iter.text.lastIndexOf(\">\", iter.ch - 1) : -1;\n      if (gt == -1) { if (prevLine(iter)) continue; else return; }\n      if (!tagAt(iter, gt + 1)) { iter.ch = gt; continue; }\n      var lastSlash = iter.text.lastIndexOf(\"/\", gt);\n      var selfClose = lastSlash > -1 && !/\\S/.test(iter.text.slice(lastSlash + 1, gt));\n      iter.ch = gt + 1;\n      return selfClose ? \"selfClose\" : \"regular\";\n    }\n  }\n\n  function findMatchingClose(iter, tag) {\n    var stack = [];\n    for (;;) {\n      var next = toNextTag(iter), end, startLine = iter.line, startCh = iter.ch - (next ? next[0].length : 0);\n      if (!next || !(end = toTagEnd(iter))) return;\n      if (end == \"selfClose\") continue;\n      if (next[1]) { \n        for (var i = stack.length - 1; i >= 0; --i) if (stack[i] == next[2]) {\n          stack.length = i;\n          break;\n        }\n        if (i < 0 && (!tag || tag == next[2])) return {\n          tag: next[2],\n          from: Pos(startLine, startCh),\n          to: Pos(iter.line, iter.ch)\n        };\n      } else { \n        stack.push(next[2]);\n      }\n    }\n  }\n  function findMatchingOpen(iter, tag) {\n    var stack = [];\n    for (;;) {\n      var prev = toPrevTag(iter);\n      if (!prev) return;\n      if (prev == \"selfClose\") { toTagStart(iter); continue; }\n      var endLine = iter.line, endCh = iter.ch;\n      var start = toTagStart(iter);\n      if (!start) return;\n      if (start[1]) { \n        stack.push(start[2]);\n      } else { \n        for (var i = stack.length - 1; i >= 0; --i) if (stack[i] == start[2]) {\n          stack.length = i;\n          break;\n        }\n        if (i < 0 && (!tag || tag == start[2])) return {\n          tag: start[2],\n          from: Pos(iter.line, iter.ch),\n          to: Pos(endLine, endCh)\n        };\n      }\n    }\n  }\n\n  CodeMirror.registerHelper(\"fold\", \"xml\", function(cm, start) {\n    var iter = new Iter(cm, start.line, 0);\n    for (;;) {\n      var openTag = toNextTag(iter), end;\n      if (!openTag || iter.line != start.line || !(end = toTagEnd(iter))) return;\n      if (!openTag[1] && end != \"selfClose\") {\n        var startPos = Pos(iter.line, iter.ch);\n        var endPos = findMatchingClose(iter, openTag[2]);\n        return endPos && {from: startPos, to: endPos.from};\n      }\n    }\n  });\n  CodeMirror.findMatchingTag = function(cm, pos, range) {\n    var iter = new Iter(cm, pos.line, pos.ch, range);\n    if (iter.text.indexOf(\">\") == -1 && iter.text.indexOf(\"<\") == -1) return;\n    var end = toTagEnd(iter), to = end && Pos(iter.line, iter.ch);\n    var start = end && toTagStart(iter);\n    if (!end || !start || cmp(iter, pos) > 0) return;\n    var here = {from: Pos(iter.line, iter.ch), to: to, tag: start[2]};\n    if (end == \"selfClose\") return {open: here, close: null, at: \"open\"};\n\n    if (start[1]) { \n      return {open: findMatchingOpen(iter, start[2]), close: here, at: \"close\"};\n    } else { \n      iter = new Iter(cm, to.line, to.ch, range);\n      return {open: here, close: findMatchingClose(iter, start[2]), at: \"open\"};\n    }\n  };\n\n  CodeMirror.findEnclosingTag = function(cm, pos, range, tag) {\n    var iter = new Iter(cm, pos.line, pos.ch, range);\n    for (;;) {\n      var open = findMatchingOpen(iter, tag);\n      if (!open) break;\n      var forward = new Iter(cm, pos.line, pos.ch, range);\n      var close = findMatchingClose(forward, open.tag);\n      if (close) return {open: open, close: close};\n    }\n  };\n\n  CodeMirror.scanForClosingTag = function(cm, pos, name, end) {\n    var iter = new Iter(cm, pos.line, pos.ch, end ? {from: 0, to: end} : null);\n    return findMatchingClose(iter, name);\n  };\n});\n\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \n    define([\"../../lib/codemirror\"], mod);\n  else \n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  function doFold(cm, pos, options, force) {\n    if (options && options.call) {\n      var finder = options;\n      options = null;\n    } else {\n      var finder = getOption(cm, options, \"rangeFinder\");\n    }\n    if (typeof pos == \"number\") pos = CodeMirror.Pos(pos, 0);\n    var minSize = getOption(cm, options, \"minFoldSize\");\n\n    function getRange(allowFolded) {\n      var range = finder(cm, pos);\n      if (!range || range.to.line - range.from.line < minSize) return null;\n      var marks = cm.findMarksAt(range.from);\n      for (var i = 0; i < marks.length; ++i) {\n        if (marks[i].__isFold && force !== \"fold\") {\n          if (!allowFolded) return null;\n          range.cleared = true;\n          marks[i].clear();\n        }\n      }\n      return range;\n    }\n\n    var range = getRange(true);\n    if (getOption(cm, options, \"scanUp\")) while (!range && pos.line > cm.firstLine()) {\n      pos = CodeMirror.Pos(pos.line - 1, 0);\n      range = getRange(false);\n    }\n    if (!range || range.cleared || force === \"unfold\") return;\n\n    var myWidget = makeWidget(cm, options);\n    CodeMirror.on(myWidget, \"mousedown\", function(e) {\n      myRange.clear();\n      CodeMirror.e_preventDefault(e);\n    });\n    var myRange = cm.markText(range.from, range.to, {\n      replacedWith: myWidget,\n      clearOnEnter: getOption(cm, options, \"clearOnEnter\"),\n      __isFold: true\n    });\n    myRange.on(\"clear\", function(from, to) {\n      CodeMirror.signal(cm, \"unfold\", cm, from, to);\n    });\n    CodeMirror.signal(cm, \"fold\", cm, range.from, range.to);\n  }\n\n  function makeWidget(cm, options) {\n    var widget = getOption(cm, options, \"widget\");\n    if (typeof widget == \"string\") {\n      var text = document.createTextNode(widget);\n      widget = document.createElement(\"span\");\n      widget.appendChild(text);\n      widget.className = \"CodeMirror-foldmarker\";\n    } else if (widget) {\n      widget = widget.cloneNode(true)\n    }\n    return widget;\n  }\n\n  CodeMirror.newFoldFunction = function(rangeFinder, widget) {\n    return function(cm, pos) { doFold(cm, pos, {rangeFinder: rangeFinder, widget: widget}); };\n  };\n\n  CodeMirror.defineExtension(\"foldCode\", function(pos, options, force) {\n    doFold(this, pos, options, force);\n  });\n\n  CodeMirror.defineExtension(\"isFolded\", function(pos) {\n    var marks = this.findMarksAt(pos);\n    for (var i = 0; i < marks.length; ++i)\n      if (marks[i].__isFold) return true;\n  });\n\n  CodeMirror.commands.toggleFold = function(cm) {\n    cm.foldCode(cm.getCursor());\n  };\n  CodeMirror.commands.fold = function(cm) {\n    cm.foldCode(cm.getCursor(), null, \"fold\");\n  };\n  CodeMirror.commands.unfold = function(cm) {\n    cm.foldCode(cm.getCursor(), null, \"unfold\");\n  };\n  CodeMirror.commands.foldAll = function(cm) {\n    cm.operation(function() {\n      for (var i = cm.firstLine(), e = cm.lastLine(); i <= e; i++)\n        cm.foldCode(CodeMirror.Pos(i, 0), null, \"fold\");\n    });\n  };\n  CodeMirror.commands.unfoldAll = function(cm) {\n    cm.operation(function() {\n      for (var i = cm.firstLine(), e = cm.lastLine(); i <= e; i++)\n        cm.foldCode(CodeMirror.Pos(i, 0), null, \"unfold\");\n    });\n  };\n\n  CodeMirror.registerHelper(\"fold\", \"combine\", function() {\n    var funcs = Array.prototype.slice.call(arguments, 0);\n    return function(cm, start) {\n      for (var i = 0; i < funcs.length; ++i) {\n        var found = funcs[i](cm, start);\n        if (found) return found;\n      }\n    };\n  });\n\n  CodeMirror.registerHelper(\"fold\", \"auto\", function(cm, start) {\n    var helpers = cm.getHelpers(start, \"fold\");\n    for (var i = 0; i < helpers.length; i++) {\n      var cur = helpers[i](cm, start);\n      if (cur) return cur;\n    }\n  });\n\n  var defaultOptions = {\n    rangeFinder: CodeMirror.fold.auto,\n    widget: \"\\u2194\",\n    minFoldSize: 0,\n    scanUp: false,\n    clearOnEnter: true\n  };\n\n  CodeMirror.defineOption(\"foldOptions\", null);\n\n  function getOption(cm, options, name) {\n    if (options && options[name] !== undefined)\n      return options[name];\n    var editorOptions = cm.options.foldOptions;\n    if (editorOptions && editorOptions[name] !== undefined)\n      return editorOptions[name];\n    return defaultOptions[name];\n  }\n\n  CodeMirror.defineExtension(\"foldOption\", function(options, name) {\n    return getOption(this, options, name);\n  });\n});\n\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \n    mod(require(\"../../lib/codemirror\"), require(\"../fold/xml-fold\"));\n  else if (typeof define == \"function\" && define.amd) \n    define([\"../../lib/codemirror\", \"../fold/xml-fold\"], mod);\n  else \n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineOption(\"matchTags\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.off(\"cursorActivity\", doMatchTags);\n      cm.off(\"viewportChange\", maybeUpdateMatch);\n      clear(cm);\n    }\n    if (val) {\n      cm.state.matchBothTags = typeof val == \"object\" && val.bothTags;\n      cm.on(\"cursorActivity\", doMatchTags);\n      cm.on(\"viewportChange\", maybeUpdateMatch);\n      doMatchTags(cm);\n    }\n  });\n\n  function clear(cm) {\n    if (cm.state.tagHit) cm.state.tagHit.clear();\n    if (cm.state.tagOther) cm.state.tagOther.clear();\n    cm.state.tagHit = cm.state.tagOther = null;\n  }\n\n  function doMatchTags(cm) {\n    cm.state.failedTagMatch = false;\n    cm.operation(function() {\n      clear(cm);\n      if (cm.somethingSelected()) return;\n      var cur = cm.getCursor(), range = cm.getViewport();\n      range.from = Math.min(range.from, cur.line); range.to = Math.max(cur.line + 1, range.to);\n      var match = CodeMirror.findMatchingTag(cm, cur, range);\n      if (!match) return;\n      if (cm.state.matchBothTags) {\n        var hit = match.at == \"open\" ? match.open : match.close;\n        if (hit) cm.state.tagHit = cm.markText(hit.from, hit.to, {className: \"CodeMirror-matchingtag\"});\n      }\n      var other = match.at == \"close\" ? match.open : match.close;\n      if (other)\n        cm.state.tagOther = cm.markText(other.from, other.to, {className: \"CodeMirror-matchingtag\"});\n      else\n        cm.state.failedTagMatch = true;\n    });\n  }\n\n  function maybeUpdateMatch(cm) {\n    if (cm.state.failedTagMatch) doMatchTags(cm);\n  }\n\n  CodeMirror.commands.toMatchingTag = function(cm) {\n    var found = CodeMirror.findMatchingTag(cm, cm.getCursor());\n    if (found) {\n      var other = found.at == \"close\" ? found.open : found.close;\n      if (other) cm.extendSelection(other.to, other.from);\n    }\n  };\n});\n\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \n    define([\"../../lib/codemirror\"], mod);\n  else \n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var Pos = CodeMirror.Pos;\n\n  function getHints(cm, options) {\n    var tags = options && options.schemaInfo;\n    var quote = (options && options.quoteChar) || '\"';\n    if (!tags) return;\n    var cur = cm.getCursor(), token = cm.getTokenAt(cur);\n    if (token.end > cur.ch) {\n      token.end = cur.ch;\n      token.string = token.string.slice(0, cur.ch - token.start);\n    }\n    var inner = CodeMirror.innerMode(cm.getMode(), token.state);\n    if (inner.mode.name != \"xml\") return;\n    var result = [], replaceToken = false, prefix;\n    var tag = /\\btag\\b/.test(token.type) && !/>$/.test(token.string);\n    var tagName = tag && /^\\w/.test(token.string), tagStart;\n\n    if (tagName) {\n      var before = cm.getLine(cur.line).slice(Math.max(0, token.start - 2), token.start);\n      var tagType = /<\\/$/.test(before) ? \"close\" : /<$/.test(before) ? \"open\" : null;\n      if (tagType) tagStart = token.start - (tagType == \"close\" ? 2 : 1);\n    } else if (tag && token.string == \"<\") {\n      tagType = \"open\";\n    } else if (tag && token.string == \"</\") {\n      tagType = \"close\";\n    }\n\n    if (!tag && !inner.state.tagName || tagType) {\n      if (tagName)\n        prefix = token.string;\n      replaceToken = tagType;\n      var cx = inner.state.context, curTag = cx && tags[cx.tagName];\n      var childList = cx ? curTag && curTag.children : tags[\"!top\"];\n      if (childList && tagType != \"close\") {\n        for (var i = 0; i < childList.length; ++i) if (!prefix || childList[i].lastIndexOf(prefix, 0) == 0)\n          result.push(\"<\" + childList[i]);\n      } else if (tagType != \"close\") {\n        for (var name in tags)\n          if (tags.hasOwnProperty(name) && name != \"!top\" && name != \"!attrs\" && (!prefix || name.lastIndexOf(prefix, 0) == 0))\n            result.push(\"<\" + name);\n      }\n      if (cx && (!prefix || tagType == \"close\" && cx.tagName.lastIndexOf(prefix, 0) == 0))\n        result.push(\"</\" + cx.tagName + \">\");\n    } else {\n      var curTag = tags[inner.state.tagName], attrs = curTag && curTag.attrs;\n      var globalAttrs = tags[\"!attrs\"];\n      if (!attrs && !globalAttrs) return;\n      if (!attrs) {\n        attrs = globalAttrs;\n      } else if (globalAttrs) { \n        var set = {};\n        for (var nm in globalAttrs) if (globalAttrs.hasOwnProperty(nm)) set[nm] = globalAttrs[nm];\n        for (var nm in attrs) if (attrs.hasOwnProperty(nm)) set[nm] = attrs[nm];\n        attrs = set;\n      }\n      if (token.type == \"string\" || token.string == \"=\") { \n        var before = cm.getRange(Pos(cur.line, Math.max(0, cur.ch - 60)),\n                                 Pos(cur.line, token.type == \"string\" ? token.start : token.end));\n        var atName = before.match(/([^\\s\\u00a0=<>\\\"\\']+)=$/), atValues;\n        if (!atName || !attrs.hasOwnProperty(atName[1]) || !(atValues = attrs[atName[1]])) return;\n        if (typeof atValues == 'function') atValues = atValues.call(this, cm); \n        if (token.type == \"string\") {\n          prefix = token.string;\n          var n = 0;\n          if (/['\"]/.test(token.string.charAt(0))) {\n            quote = token.string.charAt(0);\n            prefix = token.string.slice(1);\n            n++;\n          }\n          var len = token.string.length;\n          if (/['\"]/.test(token.string.charAt(len - 1))) {\n            quote = token.string.charAt(len - 1);\n            prefix = token.string.substr(n, len - 2);\n          }\n          replaceToken = true;\n        }\n        for (var i = 0; i < atValues.length; ++i) if (!prefix || atValues[i].lastIndexOf(prefix, 0) == 0)\n          result.push(quote + atValues[i] + quote);\n      } else { \n        if (token.type == \"attribute\") {\n          prefix = token.string;\n          replaceToken = true;\n        }\n        for (var attr in attrs) if (attrs.hasOwnProperty(attr) && (!prefix || attr.lastIndexOf(prefix, 0) == 0))\n          result.push(attr);\n      }\n    }\n    return {\n      list: result,\n      from: replaceToken ? Pos(cur.line, tagStart == null ? token.start : tagStart) : cur,\n      to: replaceToken ? Pos(cur.line, token.end) : cur\n    };\n  }\n\n  CodeMirror.registerHelper(\"hint\", \"xml\", getHints);\n});\n\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \n    define([\"../../lib/codemirror\"], mod);\n  else \n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var HINT_ELEMENT_CLASS        = \"CodeMirror-hint\";\n  var ACTIVE_HINT_ELEMENT_CLASS = \"CodeMirror-hint-active\";\n\n  CodeMirror.showHint = function(cm, getHints, options) {\n    if (!getHints) return cm.showHint(options);\n    if (options && options.async) getHints.async = true;\n    var newOpts = {hint: getHints};\n    if (options) for (var prop in options) newOpts[prop] = options[prop];\n    return cm.showHint(newOpts);\n  };\n\n  CodeMirror.defineExtension(\"showHint\", function(options) {\n    options = parseOptions(this, this.getCursor(\"start\"), options);\n    var selections = this.listSelections()\n    if (selections.length > 1) return;\n    if (this.somethingSelected()) {\n      if (!options.hint.supportsSelection) return;\n      for (var i = 0; i < selections.length; i++)\n        if (selections[i].head.line != selections[i].anchor.line) return;\n    }\n\n    if (this.state.completionActive) this.state.completionActive.close();\n    var completion = this.state.completionActive = new Completion(this, options);\n    if (!completion.options.hint) return;\n\n    CodeMirror.signal(this, \"startCompletion\", this);\n    completion.update(true);\n  });\n\n  function Completion(cm, options) {\n    this.cm = cm;\n    this.options = options;\n    this.widget = null;\n    this.debounce = 0;\n    this.tick = 0;\n    this.startPos = this.cm.getCursor(\"start\");\n    this.startLen = this.cm.getLine(this.startPos.line).length - this.cm.getSelection().length;\n\n    var self = this;\n    cm.on(\"cursorActivity\", this.activityFunc = function() { self.cursorActivity(); });\n  }\n\n  var requestAnimationFrame = window.requestAnimationFrame || function(fn) {\n    return setTimeout(fn, 1000/60);\n  };\n  var cancelAnimationFrame = window.cancelAnimationFrame || clearTimeout;\n\n  Completion.prototype = {\n    close: function() {\n      if (!this.active()) return;\n      this.cm.state.completionActive = null;\n      this.tick = null;\n      this.cm.off(\"cursorActivity\", this.activityFunc);\n\n      if (this.widget && this.data) CodeMirror.signal(this.data, \"close\");\n      if (this.widget) this.widget.close();\n      CodeMirror.signal(this.cm, \"endCompletion\", this.cm);\n    },\n\n    active: function() {\n      return this.cm.state.completionActive == this;\n    },\n\n    pick: function(data, i) {\n      var completion = data.list[i];\n      if (completion.hint) completion.hint(this.cm, data, completion);\n      else this.cm.replaceRange(getText(completion), completion.from || data.from,\n                                completion.to || data.to, \"complete\");\n      CodeMirror.signal(data, \"pick\", completion);\n      this.close();\n    },\n\n    cursorActivity: function() {\n      if (this.debounce) {\n        cancelAnimationFrame(this.debounce);\n        this.debounce = 0;\n      }\n\n      var pos = this.cm.getCursor(), line = this.cm.getLine(pos.line);\n      if (pos.line != this.startPos.line || line.length - pos.ch != this.startLen - this.startPos.ch ||\n          pos.ch < this.startPos.ch || this.cm.somethingSelected() ||\n          (pos.ch && this.options.closeCharacters.test(line.charAt(pos.ch - 1)))) {\n        this.close();\n      } else {\n        var self = this;\n        this.debounce = requestAnimationFrame(function() {self.update();});\n        if (this.widget) this.widget.disable();\n      }\n    },\n\n    update: function(first) {\n      if (this.tick == null) return\n      var self = this, myTick = ++this.tick\n      fetchHints(this.options.hint, this.cm, this.options, function(data) {\n        if (self.tick == myTick) self.finishUpdate(data, first)\n      })\n    },\n\n    finishUpdate: function(data, first) {\n      if (this.data) CodeMirror.signal(this.data, \"update\");\n\n      var picked = (this.widget && this.widget.picked) || (first && this.options.completeSingle);\n      if (this.widget) this.widget.close();\n\n      if (data && this.data && isNewCompletion(this.data, data)) return;\n      this.data = data;\n\n      if (data && data.list.length) {\n        if (picked && data.list.length == 1) {\n          this.pick(data, 0);\n        } else {\n          this.widget = new Widget(this, data);\n          CodeMirror.signal(data, \"shown\");\n        }\n      }\n    }\n  };\n\n  function isNewCompletion(old, nw) {\n    var moved = CodeMirror.cmpPos(nw.from, old.from)\n    return moved > 0 && old.to.ch - old.from.ch != nw.to.ch - nw.from.ch\n  }\n\n  function parseOptions(cm, pos, options) {\n    var editor = cm.options.hintOptions;\n    var out = {};\n    for (var prop in defaultOptions) out[prop] = defaultOptions[prop];\n    if (editor) for (var prop in editor)\n      if (editor[prop] !== undefined) out[prop] = editor[prop];\n    if (options) for (var prop in options)\n      if (options[prop] !== undefined) out[prop] = options[prop];\n    if (out.hint.resolve) out.hint = out.hint.resolve(cm, pos)\n    return out;\n  }\n\n  function getText(completion) {\n    if (typeof completion == \"string\") return completion;\n    else return completion.text;\n  }\n\n  function buildKeyMap(completion, handle) {\n    var baseMap = {\n      Up: function() {handle.moveFocus(-1);},\n      Down: function() {handle.moveFocus(1);},\n      PageUp: function() {handle.moveFocus(-handle.menuSize() + 1, true);},\n      PageDown: function() {handle.moveFocus(handle.menuSize() - 1, true);},\n      Home: function() {handle.setFocus(0);},\n      End: function() {handle.setFocus(handle.length - 1);},\n      Enter: handle.pick,\n      Tab: handle.pick,\n      Esc: handle.close\n    };\n    var custom = completion.options.customKeys;\n    var ourMap = custom ? {} : baseMap;\n    function addBinding(key, val) {\n      var bound;\n      if (typeof val != \"string\")\n        bound = function(cm) { return val(cm, handle); };\n      else if (baseMap.hasOwnProperty(val))\n        bound = baseMap[val];\n      else\n        bound = val;\n      ourMap[key] = bound;\n    }\n    if (custom)\n      for (var key in custom) if (custom.hasOwnProperty(key))\n        addBinding(key, custom[key]);\n    var extra = completion.options.extraKeys;\n    if (extra)\n      for (var key in extra) if (extra.hasOwnProperty(key))\n        addBinding(key, extra[key]);\n    return ourMap;\n  }\n\n  function getHintElement(hintsElement, el) {\n    while (el && el != hintsElement) {\n      if (el.nodeName.toUpperCase() === \"LI\" && el.parentNode == hintsElement) return el;\n      el = el.parentNode;\n    }\n  }\n\n  function Widget(completion, data) {\n    this.completion = completion;\n    this.data = data;\n    this.picked = false;\n    var widget = this, cm = completion.cm;\n\n    var hints = this.hints = document.createElement(\"ul\");\n    hints.className = \"CodeMirror-hints\";\n    this.selectedHint = data.selectedHint || 0;\n\n    var completions = data.list;\n    for (var i = 0; i < completions.length; ++i) {\n      var elt = hints.appendChild(document.createElement(\"li\")), cur = completions[i];\n      var className = HINT_ELEMENT_CLASS + (i != this.selectedHint ? \"\" : \" \" + ACTIVE_HINT_ELEMENT_CLASS);\n      if (cur.className != null) className = cur.className + \" \" + className;\n      elt.className = className;\n      if (cur.render) cur.render(elt, data, cur);\n      else elt.appendChild(document.createTextNode(cur.displayText || getText(cur)));\n      elt.hintId = i;\n    }\n\n    var pos = cm.cursorCoords(completion.options.alignWithWord ? data.from : null);\n    var left = pos.left, top = pos.bottom, below = true;\n    hints.style.left = left + \"px\";\n    hints.style.top = top + \"px\";\n    var winW = window.innerWidth || Math.max(document.body.offsetWidth, document.documentElement.offsetWidth);\n    var winH = window.innerHeight || Math.max(document.body.offsetHeight, document.documentElement.offsetHeight);\n    (completion.options.container || document.body).appendChild(hints);\n    var box = hints.getBoundingClientRect(), overlapY = box.bottom - winH;\n    var scrolls = hints.scrollHeight > hints.clientHeight + 1\n    var startScroll = cm.getScrollInfo();\n\n    if (overlapY > 0) {\n      var height = box.bottom - box.top, curTop = pos.top - (pos.bottom - box.top);\n      if (curTop - height > 0) { \n        hints.style.top = (top = pos.top - height) + \"px\";\n        below = false;\n      } else if (height > winH) {\n        hints.style.height = (winH - 5) + \"px\";\n        hints.style.top = (top = pos.bottom - box.top) + \"px\";\n        var cursor = cm.getCursor();\n        if (data.from.ch != cursor.ch) {\n          pos = cm.cursorCoords(cursor);\n          hints.style.left = (left = pos.left) + \"px\";\n          box = hints.getBoundingClientRect();\n        }\n      }\n    }\n    var overlapX = box.right - winW;\n    if (overlapX > 0) {\n      if (box.right - box.left > winW) {\n        hints.style.width = (winW - 5) + \"px\";\n        overlapX -= (box.right - box.left) - winW;\n      }\n      hints.style.left = (left = pos.left - overlapX) + \"px\";\n    }\n    if (scrolls) for (var node = hints.firstChild; node; node = node.nextSibling)\n      node.style.paddingRight = cm.display.nativeBarWidth + \"px\"\n\n    cm.addKeyMap(this.keyMap = buildKeyMap(completion, {\n      moveFocus: function(n, avoidWrap) { widget.changeActive(widget.selectedHint + n, avoidWrap); },\n      setFocus: function(n) { widget.changeActive(n); },\n      menuSize: function() { return widget.screenAmount(); },\n      length: completions.length,\n      close: function() { completion.close(); },\n      pick: function() { widget.pick(); },\n      data: data\n    }));\n\n    if (completion.options.closeOnUnfocus) {\n      var closingOnBlur;\n      cm.on(\"blur\", this.onBlur = function() { closingOnBlur = setTimeout(function() { completion.close(); }, 100); });\n      cm.on(\"focus\", this.onFocus = function() { clearTimeout(closingOnBlur); });\n    }\n\n    cm.on(\"scroll\", this.onScroll = function() {\n      var curScroll = cm.getScrollInfo(), editor = cm.getWrapperElement().getBoundingClientRect();\n      var newTop = top + startScroll.top - curScroll.top;\n      var point = newTop - (window.pageYOffset || (document.documentElement || document.body).scrollTop);\n      if (!below) point += hints.offsetHeight;\n      if (point <= editor.top || point >= editor.bottom) return completion.close();\n      hints.style.top = newTop + \"px\";\n      hints.style.left = (left + startScroll.left - curScroll.left) + \"px\";\n    });\n\n    CodeMirror.on(hints, \"dblclick\", function(e) {\n      var t = getHintElement(hints, e.target || e.srcElement);\n      if (t && t.hintId != null) {widget.changeActive(t.hintId); widget.pick();}\n    });\n\n    CodeMirror.on(hints, \"click\", function(e) {\n      var t = getHintElement(hints, e.target || e.srcElement);\n      if (t && t.hintId != null) {\n        widget.changeActive(t.hintId);\n        if (completion.options.completeOnSingleClick) widget.pick();\n      }\n    });\n\n    CodeMirror.on(hints, \"mousedown\", function() {\n      setTimeout(function(){cm.focus();}, 20);\n    });\n\n    CodeMirror.signal(data, \"select\", completions[this.selectedHint], hints.childNodes[this.selectedHint]);\n    return true;\n  }\n\n  Widget.prototype = {\n    close: function() {\n      if (this.completion.widget != this) return;\n      this.completion.widget = null;\n      this.hints.parentNode.removeChild(this.hints);\n      this.completion.cm.removeKeyMap(this.keyMap);\n\n      var cm = this.completion.cm;\n      if (this.completion.options.closeOnUnfocus) {\n        cm.off(\"blur\", this.onBlur);\n        cm.off(\"focus\", this.onFocus);\n      }\n      cm.off(\"scroll\", this.onScroll);\n    },\n\n    disable: function() {\n      this.completion.cm.removeKeyMap(this.keyMap);\n      var widget = this;\n      this.keyMap = {Enter: function() { widget.picked = true; }};\n      this.completion.cm.addKeyMap(this.keyMap);\n    },\n\n    pick: function() {\n      this.completion.pick(this.data, this.selectedHint);\n    },\n\n    changeActive: function(i, avoidWrap) {\n      if (i >= this.data.list.length)\n        i = avoidWrap ? this.data.list.length - 1 : 0;\n      else if (i < 0)\n        i = avoidWrap ? 0  : this.data.list.length - 1;\n      if (this.selectedHint == i) return;\n      var node = this.hints.childNodes[this.selectedHint];\n      node.className = node.className.replace(\" \" + ACTIVE_HINT_ELEMENT_CLASS, \"\");\n      node = this.hints.childNodes[this.selectedHint = i];\n      node.className += \" \" + ACTIVE_HINT_ELEMENT_CLASS;\n      if (node.offsetTop < this.hints.scrollTop)\n        this.hints.scrollTop = node.offsetTop - 3;\n      else if (node.offsetTop + node.offsetHeight > this.hints.scrollTop + this.hints.clientHeight)\n        this.hints.scrollTop = node.offsetTop + node.offsetHeight - this.hints.clientHeight + 3;\n      CodeMirror.signal(this.data, \"select\", this.data.list[this.selectedHint], node);\n    },\n\n    screenAmount: function() {\n      return Math.floor(this.hints.clientHeight / this.hints.firstChild.offsetHeight) || 1;\n    }\n  };\n\n  function applicableHelpers(cm, helpers) {\n    if (!cm.somethingSelected()) return helpers\n    var result = []\n    for (var i = 0; i < helpers.length; i++)\n      if (helpers[i].supportsSelection) result.push(helpers[i])\n    return result\n  }\n\n  function fetchHints(hint, cm, options, callback) {\n    if (hint.async) {\n      hint(cm, callback, options)\n    } else {\n      var result = hint(cm, options)\n      if (result && result.then) result.then(callback)\n      else callback(result)\n    }\n  }\n\n  function resolveAutoHints(cm, pos) {\n    var helpers = cm.getHelpers(pos, \"hint\"), words\n    if (helpers.length) {\n      var resolved = function(cm, callback, options) {\n        var app = applicableHelpers(cm, helpers);\n        function run(i) {\n          if (i == app.length) return callback(null)\n          fetchHints(app[i], cm, options, function(result) {\n            if (result && result.list.length > 0) callback(result)\n            else run(i + 1)\n          })\n        }\n        run(0)\n      }\n      resolved.async = true\n      resolved.supportsSelection = true\n      return resolved\n    } else if (words = cm.getHelper(cm.getCursor(), \"hintWords\")) {\n      return function(cm) { return CodeMirror.hint.fromList(cm, {words: words}) }\n    } else if (CodeMirror.hint.anyword) {\n      return function(cm, options) { return CodeMirror.hint.anyword(cm, options) }\n    } else {\n      return function() {}\n    }\n  }\n\n  CodeMirror.registerHelper(\"hint\", \"auto\", {\n    resolve: resolveAutoHints\n  });\n\n  CodeMirror.registerHelper(\"hint\", \"fromList\", function(cm, options) {\n    var cur = cm.getCursor(), token = cm.getTokenAt(cur);\n    var to = CodeMirror.Pos(cur.line, token.end);\n    if (token.string && /\\w/.test(token.string[token.string.length - 1])) {\n      var term = token.string, from = CodeMirror.Pos(cur.line, token.start);\n    } else {\n      var term = \"\", from = to;\n    }\n    var found = [];\n    for (var i = 0; i < options.words.length; i++) {\n      var word = options.words[i];\n      if (word.slice(0, term.length) == term)\n        found.push(word);\n    }\n\n    if (found.length) return {list: found, from: from, to: to};\n  });\n\n  CodeMirror.commands.autocomplete = CodeMirror.showHint;\n\n  var defaultOptions = {\n    hint: CodeMirror.hint.auto,\n    completeSingle: true,\n    alignWithWord: true,\n    closeCharacters: /[\\s()\\[\\]{};:>,]/,\n    closeOnUnfocus: true,\n    completeOnSingleClick: true,\n    container: null,\n    customKeys: null,\n    extraKeys: null\n  };\n\n  CodeMirror.defineOption(\"hintOptions\", null);\n});\n\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") \n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) \n    define([\"../../lib/codemirror\"], mod);\n  else \n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nvar htmlConfig = {\n  autoSelfClosers: {'area': true, 'base': true, 'br': true, 'col': true, 'command': true,\n                    'embed': true, 'frame': true, 'hr': true, 'img': true, 'input': true,\n                    'keygen': true, 'link': true, 'meta': true, 'param': true, 'source': true,\n                    'track': true, 'wbr': true, 'menuitem': true},\n  implicitlyClosed: {'dd': true, 'li': true, 'optgroup': true, 'option': true, 'p': true,\n                     'rp': true, 'rt': true, 'tbody': true, 'td': true, 'tfoot': true,\n                     'th': true, 'tr': true},\n  contextGrabbers: {\n    'dd': {'dd': true, 'dt': true},\n    'dt': {'dd': true, 'dt': true},\n    'li': {'li': true},\n    'option': {'option': true, 'optgroup': true},\n    'optgroup': {'optgroup': true},\n    'p': {'address': true, 'article': true, 'aside': true, 'blockquote': true, 'dir': true,\n          'div': true, 'dl': true, 'fieldset': true, 'footer': true, 'form': true,\n          'h1': true, 'h2': true, 'h3': true, 'h4': true, 'h5': true, 'h6': true,\n          'header': true, 'hgroup': true, 'hr': true, 'menu': true, 'nav': true, 'ol': true,\n          'p': true, 'pre': true, 'section': true, 'table': true, 'ul': true},\n    'rp': {'rp': true, 'rt': true},\n    'rt': {'rp': true, 'rt': true},\n    'tbody': {'tbody': true, 'tfoot': true},\n    'td': {'td': true, 'th': true},\n    'tfoot': {'tbody': true},\n    'th': {'td': true, 'th': true},\n    'thead': {'tbody': true, 'tfoot': true},\n    'tr': {'tr': true}\n  },\n  doNotIndent: {\"pre\": true},\n  allowUnquoted: true,\n  allowMissing: true,\n  caseFold: true\n}\n\nvar xmlConfig = {\n  autoSelfClosers: {},\n  implicitlyClosed: {},\n  contextGrabbers: {},\n  doNotIndent: {},\n  allowUnquoted: false,\n  allowMissing: false,\n  caseFold: false\n}\n\nCodeMirror.defineMode(\"xml\", function(editorConf, config_) {\n  var indentUnit = editorConf.indentUnit\n  var config = {}\n  var defaults = config_.htmlMode ? htmlConfig : xmlConfig\n  for (var prop in defaults) config[prop] = defaults[prop]\n  for (var prop in config_) config[prop] = config_[prop]\n\n  var type, setStyle;\n\n  function inText(stream, state) {\n    function chain(parser) {\n      state.tokenize = parser;\n      return parser(stream, state);\n    }\n\n    var ch = stream.next();\n    if (ch == \"<\") {\n      if (stream.eat(\"!\")) {\n        if (stream.eat(\"[\")) {\n          if (stream.match(\"CDATA[\")) return chain(inBlock(\"atom\", \"]]>\"));\n          else return null;\n        } else if (stream.match(\"--\")) {\n          return chain(inBlock(\"comment\", \"-->\"));\n        } else if (stream.match(\"DOCTYPE\", true, true)) {\n          stream.eatWhile(/[\\w\\._\\-]/);\n          return chain(doctype(1));\n        } else {\n          return null;\n        }\n      } else if (stream.eat(\"?\")) {\n        stream.eatWhile(/[\\w\\._\\-]/);\n        state.tokenize = inBlock(\"meta\", \"?>\");\n        return \"meta\";\n      } else {\n        type = stream.eat(\"/\") ? \"closeTag\" : \"openTag\";\n        state.tokenize = inTag;\n        return \"tag bracket\";\n      }\n    } else if (ch == \"&\") {\n      var ok;\n      if (stream.eat(\"#\")) {\n        if (stream.eat(\"x\")) {\n          ok = stream.eatWhile(/[a-fA-F\\d]/) && stream.eat(\";\");\n        } else {\n          ok = stream.eatWhile(/[\\d]/) && stream.eat(\";\");\n        }\n      } else {\n        ok = stream.eatWhile(/[\\w\\.\\-:]/) && stream.eat(\";\");\n      }\n      return ok ? \"atom\" : \"error\";\n    } else {\n      stream.eatWhile(/[^&<]/);\n      return null;\n    }\n  }\n  inText.isInText = true;\n\n  function inTag(stream, state) {\n    var ch = stream.next();\n    if (ch == \">\" || (ch == \"/\" && stream.eat(\">\"))) {\n      state.tokenize = inText;\n      type = ch == \">\" ? \"endTag\" : \"selfcloseTag\";\n      return \"tag bracket\";\n    } else if (ch == \"=\") {\n      type = \"equals\";\n      return null;\n    } else if (ch == \"<\") {\n      state.tokenize = inText;\n      state.state = baseState;\n      state.tagName = state.tagStart = null;\n      var next = state.tokenize(stream, state);\n      return next ? next + \" tag error\" : \"tag error\";\n    } else if (/[\\'\\\"]/.test(ch)) {\n      state.tokenize = inAttribute(ch);\n      state.stringStartCol = stream.column();\n      return state.tokenize(stream, state);\n    } else {\n      stream.match(/^[^\\s\\u00a0=<>\\\"\\']*[^\\s\\u00a0=<>\\\"\\'\\/]/);\n      return \"word\";\n    }\n  }\n\n  function inAttribute(quote) {\n    var closure = function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.next() == quote) {\n          state.tokenize = inTag;\n          break;\n        }\n      }\n      return \"string\";\n    };\n    closure.isInAttribute = true;\n    return closure;\n  }\n\n  function inBlock(style, terminator) {\n    return function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.match(terminator)) {\n          state.tokenize = inText;\n          break;\n        }\n        stream.next();\n      }\n      return style;\n    };\n  }\n  function doctype(depth) {\n    return function(stream, state) {\n      var ch;\n      while ((ch = stream.next()) != null) {\n        if (ch == \"<\") {\n          state.tokenize = doctype(depth + 1);\n          return state.tokenize(stream, state);\n        } else if (ch == \">\") {\n          if (depth == 1) {\n            state.tokenize = inText;\n            break;\n          } else {\n            state.tokenize = doctype(depth - 1);\n            return state.tokenize(stream, state);\n          }\n        }\n      }\n      return \"meta\";\n    };\n  }\n\n  function Context(state, tagName, startOfLine) {\n    this.prev = state.context;\n    this.tagName = tagName;\n    this.indent = state.indented;\n    this.startOfLine = startOfLine;\n    if (config.doNotIndent.hasOwnProperty(tagName) || (state.context && state.context.noIndent))\n      this.noIndent = true;\n  }\n  function popContext(state) {\n    if (state.context) state.context = state.context.prev;\n  }\n  function maybePopContext(state, nextTagName) {\n    var parentTagName;\n    while (true) {\n      if (!state.context) {\n        return;\n      }\n      parentTagName = state.context.tagName;\n      if (!config.contextGrabbers.hasOwnProperty(parentTagName) ||\n          !config.contextGrabbers[parentTagName].hasOwnProperty(nextTagName)) {\n        return;\n      }\n      popContext(state);\n    }\n  }\n\n  function baseState(type, stream, state) {\n    if (type == \"openTag\") {\n      state.tagStart = stream.column();\n      return tagNameState;\n    } else if (type == \"closeTag\") {\n      return closeTagNameState;\n    } else {\n      return baseState;\n    }\n  }\n  function tagNameState(type, stream, state) {\n    if (type == \"word\") {\n      state.tagName = stream.current();\n      setStyle = \"tag\";\n      return attrState;\n    } else {\n      setStyle = \"error\";\n      return tagNameState;\n    }\n  }\n  function closeTagNameState(type, stream, state) {\n    if (type == \"word\") {\n      var tagName = stream.current();\n      if (state.context && state.context.tagName != tagName &&\n          config.implicitlyClosed.hasOwnProperty(state.context.tagName))\n        popContext(state);\n      if ((state.context && state.context.tagName == tagName) || config.matchClosing === false) {\n        setStyle = \"tag\";\n        return closeState;\n      } else {\n        setStyle = \"tag error\";\n        return closeStateErr;\n      }\n    } else {\n      setStyle = \"error\";\n      return closeStateErr;\n    }\n  }\n\n  function closeState(type, _stream, state) {\n    if (type != \"endTag\") {\n      setStyle = \"error\";\n      return closeState;\n    }\n    popContext(state);\n    return baseState;\n  }\n  function closeStateErr(type, stream, state) {\n    setStyle = \"error\";\n    return closeState(type, stream, state);\n  }\n\n  function attrState(type, _stream, state) {\n    if (type == \"word\") {\n      setStyle = \"attribute\";\n      return attrEqState;\n    } else if (type == \"endTag\" || type == \"selfcloseTag\") {\n      var tagName = state.tagName, tagStart = state.tagStart;\n      state.tagName = state.tagStart = null;\n      if (type == \"selfcloseTag\" ||\n          config.autoSelfClosers.hasOwnProperty(tagName)) {\n        maybePopContext(state, tagName);\n      } else {\n        maybePopContext(state, tagName);\n        state.context = new Context(state, tagName, tagStart == state.indented);\n      }\n      return baseState;\n    }\n    setStyle = \"error\";\n    return attrState;\n  }\n  function attrEqState(type, stream, state) {\n    if (type == \"equals\") return attrValueState;\n    if (!config.allowMissing) setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrValueState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    if (type == \"word\" && config.allowUnquoted) {setStyle = \"string\"; return attrState;}\n    setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrContinuedState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    return attrState(type, stream, state);\n  }\n\n  return {\n    startState: function(baseIndent) {\n      var state = {tokenize: inText,\n                   state: baseState,\n                   indented: baseIndent || 0,\n                   tagName: null, tagStart: null,\n                   context: null}\n      if (baseIndent != null) state.baseIndent = baseIndent\n      return state\n    },\n\n    token: function(stream, state) {\n      if (!state.tagName && stream.sol())\n        state.indented = stream.indentation();\n\n      if (stream.eatSpace()) return null;\n      type = null;\n      var style = state.tokenize(stream, state);\n      if ((style || type) && style != \"comment\") {\n        setStyle = null;\n        state.state = state.state(type || style, stream, state);\n        if (setStyle)\n          style = setStyle == \"error\" ? style + \" error\" : setStyle;\n      }\n      return style;\n    },\n\n    indent: function(state, textAfter, fullLine) {\n      var context = state.context;\n      if (state.tokenize.isInAttribute) {\n        if (state.tagStart == state.indented)\n          return state.stringStartCol + 1;\n        else\n          return state.indented + indentUnit;\n      }\n      if (context && context.noIndent) return CodeMirror.Pass;\n      if (state.tokenize != inTag && state.tokenize != inText)\n        return fullLine ? fullLine.match(/^(\\s*)/)[0].length : 0;\n      if (state.tagName) {\n        if (config.multilineTagIndentPastTag !== false)\n          return state.tagStart + state.tagName.length + 2;\n        else\n          return state.tagStart + indentUnit * (config.multilineTagIndentFactor || 1);\n      }\n      if (config.alignCDATA && /<!\\[CDATA\\[/.test(textAfter)) return 0;\n      var tagAfter = textAfter && /^<(\\/)?([\\w_:\\.-]*)/.exec(textAfter);\n      if (tagAfter && tagAfter[1]) { \n        while (context) {\n          if (context.tagName == tagAfter[2]) {\n            context = context.prev;\n            break;\n          } else if (config.implicitlyClosed.hasOwnProperty(context.tagName)) {\n            context = context.prev;\n          } else {\n            break;\n          }\n        }\n      } else if (tagAfter) { \n        while (context) {\n          var grabbers = config.contextGrabbers[context.tagName];\n          if (grabbers && grabbers.hasOwnProperty(tagAfter[2]))\n            context = context.prev;\n          else\n            break;\n        }\n      }\n      while (context && context.prev && !context.startOfLine)\n        context = context.prev;\n      if (context) return context.indent + indentUnit;\n      else return state.baseIndent || 0;\n    },\n\n    electricInput: /<\\/[\\s\\w:]+>$/,\n    blockCommentStart: \"<!--\",\n    blockCommentEnd: \"-->\",\n\n    configuration: config.htmlMode ? \"html\" : \"xml\",\n    helperType: config.htmlMode ? \"html\" : \"xml\",\n\n    skipAttribute: function(state) {\n      if (state.state == attrValueState)\n        state.state = attrState\n    }\n  };\n});\n\nCodeMirror.defineMIME(\"text/xml\", \"xml\");\nCodeMirror.defineMIME(\"application/xml\", \"xml\");\nif (!CodeMirror.mimeModes.hasOwnProperty(\"text/html\"))\n  CodeMirror.defineMIME(\"text/html\", {name: \"xml\", htmlMode: true});\n\n});\n\n\n(function() {\nvar legacy_beautify_html =\n (function(modules) { \n \tvar installedModules = {};\n \tfunction __webpack_require__(moduleId) {\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n \t\tmodule.l = true;\n \t\treturn module.exports;\n \t}\n \t__webpack_require__.m = modules;\n \t__webpack_require__.c = installedModules;\n \t__webpack_require__.i = function(value) { return value; };\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n \t__webpack_require__.p = \"\";\n \treturn __webpack_require__(__webpack_require__.s = 3);\n })\n ([\n (function(module, exports, __webpack_require__) {\n\n\nvar mergeOpts = __webpack_require__(2).mergeOpts;\nvar acorn = __webpack_require__(1);\n\n\nvar lineBreak = acorn.lineBreak;\nvar allLineBreaks = acorn.allLineBreaks;\n\n\nfunction ltrim(s) {\n    return s.replace(/^\\s+/g, '');\n}\n\nfunction rtrim(s) {\n    return s.replace(/\\s+$/g, '');\n}\n\nfunction Beautifier(html_source, options, js_beautify, css_beautify) {\n    html_source = html_source || '';\n\n    var multi_parser,\n        indent_inner_html,\n        indent_body_inner_html,\n        indent_head_inner_html,\n        indent_size,\n        indent_character,\n        wrap_line_length,\n        brace_style,\n        unformatted,\n        content_unformatted,\n        preserve_newlines,\n        max_preserve_newlines,\n        indent_handlebars,\n        wrap_attributes,\n        wrap_attributes_indent_size,\n        is_wrap_attributes_force,\n        is_wrap_attributes_force_expand_multiline,\n        is_wrap_attributes_force_aligned,\n        end_with_newline,\n        extra_liners,\n        eol;\n\n    options = options || {};\n\n    options = mergeOpts(options, 'html');\n\n    if ((options.wrap_line_length === undefined || parseInt(options.wrap_line_length, 10) === 0) &&\n        (options.max_char !== undefined && parseInt(options.max_char, 10) !== 0)) {\n        options.wrap_line_length = options.max_char;\n    }\n\n    indent_inner_html = (options.indent_inner_html === undefined) ? false : options.indent_inner_html;\n    indent_body_inner_html = (options.indent_body_inner_html === undefined) ? true : options.indent_body_inner_html;\n    indent_head_inner_html = (options.indent_head_inner_html === undefined) ? true : options.indent_head_inner_html;\n    indent_size = (options.indent_size === undefined) ? 4 : parseInt(options.indent_size, 10);\n    indent_character = (options.indent_char === undefined) ? ' ' : options.indent_char;\n    brace_style = (options.brace_style === undefined) ? 'collapse' : options.brace_style;\n    wrap_line_length = parseInt(options.wrap_line_length, 10) === 0 ? 32786 : parseInt(options.wrap_line_length || 250, 10);\n    unformatted = options.unformatted || [\n        'a', 'abbr', 'area', 'audio', 'b', 'bdi', 'bdo', 'br', 'button', 'canvas', 'cite',\n        'code', 'data', 'datalist', 'del', 'dfn', 'em', 'embed', 'i', 'iframe', 'img',\n        'input', 'ins', 'kbd', 'keygen', 'label', 'map', 'mark', 'math', 'meter', 'noscript',\n        'object', 'output', 'progress', 'q', 'ruby', 's', 'samp',  'select', 'small',\n        'span', 'strong', 'sub', 'sup', 'svg', 'template', 'textarea', 'time', 'u', 'var',\n        'video', 'wbr', 'text',\n        'acronym', 'address', 'big', 'dt', 'ins', 'strike', 'tt',\n    ];\n    content_unformatted = options.content_unformatted || [\n        'pre',\n    ];\n    preserve_newlines = (options.preserve_newlines === undefined) ? true : options.preserve_newlines;\n    max_preserve_newlines = preserve_newlines ?\n        (isNaN(parseInt(options.max_preserve_newlines, 10)) ? 32786 : parseInt(options.max_preserve_newlines, 10)) :\n        0;\n    indent_handlebars = (options.indent_handlebars === undefined) ? false : options.indent_handlebars;\n    wrap_attributes = (options.wrap_attributes === undefined) ? 'auto' : options.wrap_attributes;\n    wrap_attributes_indent_size = (isNaN(parseInt(options.wrap_attributes_indent_size, 10))) ? indent_size : parseInt(options.wrap_attributes_indent_size, 10);\n    is_wrap_attributes_force = wrap_attributes.substr(0, 'force'.length) === 'force';\n    is_wrap_attributes_force_expand_multiline = (wrap_attributes === 'force-expand-multiline');\n    is_wrap_attributes_force_aligned = (wrap_attributes === 'force-aligned');\n    end_with_newline = (options.end_with_newline === undefined) ? false : options.end_with_newline;\n    extra_liners = (typeof options.extra_liners === 'object') && options.extra_liners ?\n        options.extra_liners.concat() : (typeof options.extra_liners === 'string') ?\n        options.extra_liners.split(',') : 'head,body,/html'.split(',');\n    eol = options.eol ? options.eol : 'auto';\n\n    if (options.indent_with_tabs) {\n        indent_character = '\\t';\n        indent_size = 1;\n    }\n\n    if (eol === 'auto') {\n        eol = '\\n';\n        if (html_source && lineBreak.test(html_source || '')) {\n            eol = html_source.match(lineBreak)[0];\n        }\n    }\n\n    eol = eol.replace(/\\\\r/, '\\r').replace(/\\\\n/, '\\n');\n\n    html_source = html_source.replace(allLineBreaks, '\\n');\n\n    function Parser() {\n\n        this.pos = 0; \n        this.token = '';\n        this.current_mode = 'CONTENT'; \n        this.tags = { \n            parent: 'parent1',\n            parentcount: 1,\n            parent1: ''\n        };\n        this.tag_type = '';\n        this.token_text = this.last_token = this.last_text = this.token_type = '';\n        this.newlines = 0;\n        this.indent_content = indent_inner_html;\n        this.indent_body_inner_html = indent_body_inner_html;\n        this.indent_head_inner_html = indent_head_inner_html;\n\n        this.Utils = { \n            whitespace: \"\\n\\r\\t \".split(''),\n\n            single_token: options.void_elements || [\n                'area', 'base', 'br', 'col', 'embed', 'hr', 'img', 'input', 'keygen',\n                'link', 'menuitem', 'meta', 'param', 'source', 'track', 'wbr',\n\n                '!doctype', '?xml',\n                '?php',\n                'basefont', 'isindex'\n            ],\n            extra_liners: extra_liners, \n            in_array: function(what, arr) {\n                for (var i = 0; i < arr.length; i++) {\n                    if (what === arr[i]) {\n                        return true;\n                    }\n                }\n                return false;\n            }\n        };\n\n        this.is_whitespace = function(text) {\n            for (var n = 0; n < text.length; n++) {\n                if (!this.Utils.in_array(text.charAt(n), this.Utils.whitespace)) {\n                    return false;\n                }\n            }\n            return true;\n        };\n\n        this.traverse_whitespace = function() {\n            var input_char = '';\n\n            input_char = this.input.charAt(this.pos);\n            if (this.Utils.in_array(input_char, this.Utils.whitespace)) {\n                this.newlines = 0;\n                while (this.Utils.in_array(input_char, this.Utils.whitespace)) {\n                    if (preserve_newlines && input_char === '\\n' && this.newlines <= max_preserve_newlines) {\n                        this.newlines += 1;\n                    }\n\n                    this.pos++;\n                    input_char = this.input.charAt(this.pos);\n                }\n                return true;\n            }\n            return false;\n        };\n\n        this.space_or_wrap = function(content) {\n            if (this.line_char_count >= this.wrap_line_length) { \n                this.print_newline(false, content);\n                this.print_indentation(content);\n                return true;\n            } else {\n                this.line_char_count++;\n                content.push(' ');\n                return false;\n            }\n        };\n\n        this.get_content = function() { \n            var input_char = '',\n                content = [],\n                handlebarsStarted = 0;\n\n            while (this.input.charAt(this.pos) !== '<' || handlebarsStarted === 2) {\n                if (this.pos >= this.input.length) {\n                    return content.length ? content.join('') : ['', 'TK_EOF'];\n                }\n\n                if (handlebarsStarted < 2 && this.traverse_whitespace()) {\n                    this.space_or_wrap(content);\n                    continue;\n                }\n\n                input_char = this.input.charAt(this.pos);\n\n                if (indent_handlebars) {\n                    if (input_char === '{') {\n                        handlebarsStarted += 1;\n                    } else if (handlebarsStarted < 2) {\n                        handlebarsStarted = 0;\n                    }\n\n                    if (input_char === '}' && handlebarsStarted > 0) {\n                        if (handlebarsStarted-- === 0) {\n                            break;\n                        }\n                    }\n                    var peek3 = this.input.substr(this.pos, 3);\n                    if (peek3 === '{{#' || peek3 === '{{/') {\n                        break;\n                    } else if (peek3 === '{{!') {\n                        return [this.get_tag(), 'TK_TAG_HANDLEBARS_COMMENT'];\n                    } else if (this.input.substr(this.pos, 2) === '{{') {\n                        if (this.get_tag(true) === '{{else}}') {\n                            break;\n                        }\n                    }\n                }\n\n                this.pos++;\n                this.line_char_count++;\n                content.push(input_char); \n            }\n            return content.length ? content.join('') : '';\n        };\n\n        this.get_contents_to = function(name) { \n            if (this.pos === this.input.length) {\n                return ['', 'TK_EOF'];\n            }\n            var content = '';\n            var reg_match = new RegExp('</' + name + '\\\\s*>', 'igm');\n            reg_match.lastIndex = this.pos;\n            var reg_array = reg_match.exec(this.input);\n            var end_script = reg_array ? reg_array.index : this.input.length; \n            if (this.pos < end_script) { \n                content = this.input.substring(this.pos, end_script);\n                this.pos = end_script;\n            }\n            return content;\n        };\n\n        this.record_tag = function(tag) { \n            if (this.tags[tag + 'count']) { \n                this.tags[tag + 'count']++;\n                this.tags[tag + this.tags[tag + 'count']] = this.indent_level; \n            } else { \n                this.tags[tag + 'count'] = 1;\n                this.tags[tag + this.tags[tag + 'count']] = this.indent_level; \n            }\n            this.tags[tag + this.tags[tag + 'count'] + 'parent'] = this.tags.parent; \n            this.tags.parent = tag + this.tags[tag + 'count']; \n        };\n\n        this.retrieve_tag = function(tag) { \n            if (this.tags[tag + 'count']) { \n                var temp_parent = this.tags.parent; \n                while (temp_parent) { \n                    if (tag + this.tags[tag + 'count'] === temp_parent) { \n                        break;\n                    }\n                    temp_parent = this.tags[temp_parent + 'parent']; \n                }\n                if (temp_parent) { \n                    this.indent_level = this.tags[tag + this.tags[tag + 'count']]; \n                    this.tags.parent = this.tags[temp_parent + 'parent']; \n                }\n                delete this.tags[tag + this.tags[tag + 'count'] + 'parent']; \n                delete this.tags[tag + this.tags[tag + 'count']]; \n                if (this.tags[tag + 'count'] === 1) {\n                    delete this.tags[tag + 'count'];\n                } else {\n                    this.tags[tag + 'count']--;\n                }\n            }\n        };\n\n        this.indent_to_tag = function(tag) {\n            if (!this.tags[tag + 'count']) {\n                return;\n            }\n            var temp_parent = this.tags.parent;\n            while (temp_parent) {\n                if (tag + this.tags[tag + 'count'] === temp_parent) {\n                    break;\n                }\n                temp_parent = this.tags[temp_parent + 'parent'];\n            }\n            if (temp_parent) {\n                this.indent_level = this.tags[tag + this.tags[tag + 'count']];\n            }\n        };\n\n        this.get_tag = function(peek) { \n            var input_char = '',\n                content = [],\n                comment = '',\n                space = false,\n                first_attr = true,\n                has_wrapped_attrs = false,\n                tag_start, tag_end,\n                tag_start_char,\n                orig_pos = this.pos,\n                orig_line_char_count = this.line_char_count,\n                is_tag_closed = false,\n                tail;\n\n            peek = peek !== undefined ? peek : false;\n\n            do {\n                if (this.pos >= this.input.length) {\n                    if (peek) {\n                        this.pos = orig_pos;\n                        this.line_char_count = orig_line_char_count;\n                    }\n                    return content.length ? content.join('') : ['', 'TK_EOF'];\n                }\n\n                input_char = this.input.charAt(this.pos);\n                this.pos++;\n\n                if (this.Utils.in_array(input_char, this.Utils.whitespace)) { \n                    space = true;\n                    continue;\n                }\n\n                if (input_char === \"'\" || input_char === '\"') {\n                    input_char += this.get_unformatted(input_char);\n                    space = true;\n                }\n\n                if (input_char === '=') { \n                    space = false;\n                }\n                tail = this.input.substr(this.pos - 1);\n                if (is_wrap_attributes_force_expand_multiline && has_wrapped_attrs && !is_tag_closed && (input_char === '>' || input_char === '/')) {\n                    if (tail.match(/^\\/?\\s*>/)) {\n                        space = false;\n                        is_tag_closed = true;\n                        this.print_newline(false, content);\n                        this.print_indentation(content);\n                    }\n                }\n                if (content.length && content[content.length - 1] !== '=' && input_char !== '>' && space) {\n                    var wrapped = this.space_or_wrap(content);\n                    var indentAttrs = wrapped && input_char !== '/' && !is_wrap_attributes_force;\n                    space = false;\n\n                    if (is_wrap_attributes_force && input_char !== '/') {\n                        var force_first_attr_wrap = false;\n                        if (is_wrap_attributes_force_expand_multiline && first_attr) {\n                            var is_only_attribute = tail.match(/^\\S*(=\"([^\"]|\\\\\")*\")?\\s*\\/?\\s*>/) !== null;\n                            force_first_attr_wrap = !is_only_attribute;\n                        }\n                        if (!first_attr || force_first_attr_wrap) {\n                            this.print_newline(false, content);\n                            this.print_indentation(content);\n                            indentAttrs = true;\n                        }\n                    }\n                    if (indentAttrs) {\n                        has_wrapped_attrs = true;\n\n                        var alignment_size = wrap_attributes_indent_size;\n                        if (is_wrap_attributes_force_aligned) {\n                            alignment_size = content.indexOf(' ') + 1;\n                        }\n\n                        for (var count = 0; count < alignment_size; count++) {\n                            content.push(' ');\n                        }\n                    }\n                    if (first_attr) {\n                        for (var i = 0; i < content.length; i++) {\n                            if (content[i] === ' ') {\n                                first_attr = false;\n                                break;\n                            }\n                        }\n                    }\n                }\n\n                if (indent_handlebars && tag_start_char === '<') {\n                    if ((input_char + this.input.charAt(this.pos)) === '{{') {\n                        input_char += this.get_unformatted('}}');\n                        if (content.length && content[content.length - 1] !== ' ' && content[content.length - 1] !== '<') {\n                            input_char = ' ' + input_char;\n                        }\n                        space = true;\n                    }\n                }\n\n                if (input_char === '<' && !tag_start_char) {\n                    tag_start = this.pos - 1;\n                    tag_start_char = '<';\n                }\n\n                if (indent_handlebars && !tag_start_char) {\n                    if (content.length >= 2 && content[content.length - 1] === '{' && content[content.length - 2] === '{') {\n                        if (input_char === '#' || input_char === '/' || input_char === '!') {\n                            tag_start = this.pos - 3;\n                        } else {\n                            tag_start = this.pos - 2;\n                        }\n                        tag_start_char = '{';\n                    }\n                }\n\n                this.line_char_count++;\n                content.push(input_char); \n\n                if (content[1] && (content[1] === '!' || content[1] === '?' || content[1] === '%')) { \n                    content = [this.get_comment(tag_start)];\n                    break;\n                }\n\n                if (indent_handlebars && content[1] && content[1] === '{' && content[2] && content[2] === '!') { \n                    content = [this.get_comment(tag_start)];\n                    break;\n                }\n\n                if (indent_handlebars && tag_start_char === '{' && content.length > 2 && content[content.length - 2] === '}' && content[content.length - 1] === '}') {\n                    break;\n                }\n            } while (input_char !== '>');\n\n            var tag_complete = content.join('');\n            var tag_index;\n            var tag_offset;\n\n            if (tag_complete.indexOf(' ') !== -1) { \n                tag_index = tag_complete.indexOf(' ');\n            } else if (tag_complete.indexOf('\\n') !== -1) { \n                tag_index = tag_complete.indexOf('\\n');\n            } else if (tag_complete.charAt(0) === '{') {\n                tag_index = tag_complete.indexOf('}');\n            } else { \n                tag_index = tag_complete.indexOf('>');\n            }\n            if (tag_complete.charAt(0) === '<' || !indent_handlebars) {\n                tag_offset = 1;\n            } else {\n                tag_offset = tag_complete.charAt(2) === '#' ? 3 : 2;\n            }\n            var tag_check = tag_complete.substring(tag_offset, tag_index).toLowerCase();\n            if (tag_complete.charAt(tag_complete.length - 2) === '/' ||\n                this.Utils.in_array(tag_check, this.Utils.single_token)) { \n                if (!peek) {\n                    this.tag_type = 'SINGLE';\n                }\n            } else if (indent_handlebars && tag_complete.charAt(0) === '{' && tag_check === 'else') {\n                if (!peek) {\n                    this.indent_to_tag('if');\n                    this.tag_type = 'HANDLEBARS_ELSE';\n                    this.indent_content = true;\n                    this.traverse_whitespace();\n                }\n            } else if (this.is_unformatted(tag_check, unformatted) ||\n                this.is_unformatted(tag_check, content_unformatted)) {\n                comment = this.get_unformatted('</' + tag_check + '>', tag_complete); \n                content.push(comment);\n                tag_end = this.pos - 1;\n                this.tag_type = 'SINGLE';\n            } else if (tag_check === 'script' &&\n                (tag_complete.search('type') === -1 ||\n                    (tag_complete.search('type') > -1 &&\n                        tag_complete.search(/\\b(text|application|dojo)\\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\\+)?json|method|aspect)/) > -1))) {\n                if (!peek) {\n                    this.record_tag(tag_check);\n                    this.tag_type = 'SCRIPT';\n                }\n            } else if (tag_check === 'style' &&\n                (tag_complete.search('type') === -1 ||\n                    (tag_complete.search('type') > -1 && tag_complete.search('text/css') > -1))) {\n                if (!peek) {\n                    this.record_tag(tag_check);\n                    this.tag_type = 'STYLE';\n                }\n            } else if (tag_check.charAt(0) === '!') { \n                if (!peek) {\n                    this.tag_type = 'SINGLE';\n                    this.traverse_whitespace();\n                }\n            } else if (!peek) {\n                if (tag_check.charAt(0) === '/') { \n                    this.retrieve_tag(tag_check.substring(1)); \n                    this.tag_type = 'END';\n                } else { \n                    this.record_tag(tag_check); \n                    if (tag_check.toLowerCase() !== 'html') {\n                        this.indent_content = true;\n                    }\n                    this.tag_type = 'START';\n                }\n\n                if (this.traverse_whitespace()) {\n                    this.space_or_wrap(content);\n                }\n\n                if (this.Utils.in_array(tag_check, this.Utils.extra_liners)) { \n                    this.print_newline(false, this.output);\n                    if (this.output.length && this.output[this.output.length - 2] !== '\\n') {\n                        this.print_newline(true, this.output);\n                    }\n                }\n            }\n\n            if (peek) {\n                this.pos = orig_pos;\n                this.line_char_count = orig_line_char_count;\n            }\n\n            return content.join(''); \n        };\n\n        this.get_comment = function(start_pos) { \n            var comment = '',\n                delimiter = '>',\n                matched = false;\n\n            this.pos = start_pos;\n            var input_char = this.input.charAt(this.pos);\n            this.pos++;\n\n            while (this.pos <= this.input.length) {\n                comment += input_char;\n\n                if (comment.charAt(comment.length - 1) === delimiter.charAt(delimiter.length - 1) &&\n                    comment.indexOf(delimiter) !== -1) {\n                    break;\n                }\n\n                if (!matched && comment.length < 10) {\n                    if (comment.indexOf('<![if') === 0) { \n                        delimiter = '<![endif]>';\n                        matched = true;\n                    } else if (comment.indexOf('<![cdata[') === 0) { \n                        delimiter = ']]>';\n                        matched = true;\n                    } else if (comment.indexOf('<![') === 0) { \n                        delimiter = ']>';\n                        matched = true;\n                    } else if (comment.indexOf('<!--') === 0) { \n                        delimiter = '-->';\n                        matched = true;\n                    } else if (comment.indexOf('{{!--') === 0) { \n                        delimiter = '--}}';\n                        matched = true;\n                    } else if (comment.indexOf('{{!') === 0) { \n                        if (comment.length === 5 && comment.indexOf('{{!--') === -1) {\n                            delimiter = '}}';\n                            matched = true;\n                        }\n                    } else if (comment.indexOf('<?') === 0) { \n                        delimiter = '?>';\n                        matched = true;\n                    } else if (comment.indexOf('<%') === 0) { \n                        delimiter = '%>';\n                        matched = true;\n                    }\n                }\n\n                input_char = this.input.charAt(this.pos);\n                this.pos++;\n            }\n\n            return comment;\n        };\n\n        function tokenMatcher(delimiter) {\n            var token = '';\n\n            var add = function(str) {\n                var newToken = token + str.toLowerCase();\n                token = newToken.length <= delimiter.length ? newToken : newToken.substr(newToken.length - delimiter.length, delimiter.length);\n            };\n\n            var doesNotMatch = function() {\n                return token.indexOf(delimiter) === -1;\n            };\n\n            return {\n                add: add,\n                doesNotMatch: doesNotMatch\n            };\n        }\n\n        this.get_unformatted = function(delimiter, orig_tag) { \n            if (orig_tag && orig_tag.toLowerCase().indexOf(delimiter) !== -1) {\n                return '';\n            }\n            var input_char = '';\n            var content = '';\n            var space = true;\n\n            var delimiterMatcher = tokenMatcher(delimiter);\n\n            do {\n\n                if (this.pos >= this.input.length) {\n                    return content;\n                }\n\n                input_char = this.input.charAt(this.pos);\n                this.pos++;\n\n                if (this.Utils.in_array(input_char, this.Utils.whitespace)) {\n                    if (!space) {\n                        this.line_char_count--;\n                        continue;\n                    }\n                    if (input_char === '\\n' || input_char === '\\r') {\n                        content += '\\n';\n                        this.line_char_count = 0;\n                        continue;\n                    }\n                }\n                content += input_char;\n                delimiterMatcher.add(input_char);\n                this.line_char_count++;\n                space = true;\n\n                if (indent_handlebars && input_char === '{' && content.length && content.charAt(content.length - 2) === '{') {\n                    content += this.get_unformatted('}}');\n                }\n            } while (delimiterMatcher.doesNotMatch());\n\n            return content;\n        };\n\n        this.get_token = function() { \n            var token;\n\n            if (this.last_token === 'TK_TAG_SCRIPT' || this.last_token === 'TK_TAG_STYLE') { \n                var type = this.last_token.substr(7);\n                token = this.get_contents_to(type);\n                if (typeof token !== 'string') {\n                    return token;\n                }\n                return [token, 'TK_' + type];\n            }\n            if (this.current_mode === 'CONTENT') {\n                token = this.get_content();\n                if (typeof token !== 'string') {\n                    return token;\n                } else {\n                    return [token, 'TK_CONTENT'];\n                }\n            }\n\n            if (this.current_mode === 'TAG') {\n                token = this.get_tag();\n                if (typeof token !== 'string') {\n                    return token;\n                } else {\n                    var tag_name_type = 'TK_TAG_' + this.tag_type;\n                    return [token, tag_name_type];\n                }\n            }\n        };\n\n        this.get_full_indent = function(level) {\n            level = this.indent_level + level || 0;\n            if (level < 1) {\n                return '';\n            }\n\n            return Array(level + 1).join(this.indent_string);\n        };\n\n        this.is_unformatted = function(tag_check, unformatted) {\n            if (!this.Utils.in_array(tag_check, unformatted)) {\n                return false;\n            }\n\n            if (tag_check.toLowerCase() !== 'a' || !this.Utils.in_array('a', unformatted)) {\n                return true;\n            }\n\n            var next_tag = this.get_tag(true  );\n\n            var tag = (next_tag || \"\").match(/^\\s*<\\s*\\/?([a-z]*)\\s*[^>]*>\\s*$/);\n\n            if (!tag || this.Utils.in_array(tag[1], unformatted)) {\n                return true;\n            } else {\n                return false;\n            }\n        };\n\n        this.printer = function(js_source, indent_character, indent_size, wrap_line_length, brace_style) { \n\n            this.input = js_source || ''; \n\n            this.input = this.input.replace(/\\r\\n|[\\r\\u2028\\u2029]/g, '\\n');\n\n            this.output = [];\n            this.indent_character = indent_character;\n            this.indent_string = '';\n            this.indent_size = indent_size;\n            this.brace_style = brace_style;\n            this.indent_level = 0;\n            this.wrap_line_length = wrap_line_length;\n            this.line_char_count = 0; \n\n            for (var i = 0; i < this.indent_size; i++) {\n                this.indent_string += this.indent_character;\n            }\n\n            this.print_newline = function(force, arr) {\n                this.line_char_count = 0;\n                if (!arr || !arr.length) {\n                    return;\n                }\n                if (force || (arr[arr.length - 1] !== '\\n')) { \n                    if ((arr[arr.length - 1] !== '\\n')) {\n                        arr[arr.length - 1] = rtrim(arr[arr.length - 1]);\n                    }\n                    arr.push('\\n');\n                }\n            };\n\n            this.print_indentation = function(arr) {\n                for (var i = 0; i < this.indent_level; i++) {\n                    arr.push(this.indent_string);\n                    this.line_char_count += this.indent_string.length;\n                }\n            };\n\n            this.print_token = function(text) {\n                if (this.is_whitespace(text) && !this.output.length) {\n                    return;\n                }\n                if (text || text !== '') {\n                    if (this.output.length && this.output[this.output.length - 1] === '\\n') {\n                        this.print_indentation(this.output);\n                        text = ltrim(text);\n                    }\n                }\n                this.print_token_raw(text);\n            };\n\n            this.print_token_raw = function(text) {\n                if (this.newlines > 0) {\n                    text = rtrim(text);\n                }\n\n                if (text && text !== '') {\n                    if (text.length > 1 && text.charAt(text.length - 1) === '\\n') {\n                        this.output.push(text.slice(0, -1));\n                        this.print_newline(false, this.output);\n                    } else {\n                        this.output.push(text);\n                    }\n                }\n\n                for (var n = 0; n < this.newlines; n++) {\n                    this.print_newline(n > 0, this.output);\n                }\n                this.newlines = 0;\n            };\n\n            this.indent = function() {\n                this.indent_level++;\n            };\n\n            this.unindent = function() {\n                if (this.indent_level > 0) {\n                    this.indent_level--;\n                }\n            };\n        };\n        return this;\n    }\n\n\n    this.beautify = function() {\n        multi_parser = new Parser(); \n        multi_parser.printer(html_source, indent_character, indent_size, wrap_line_length, brace_style); \n        while (true) {\n            var t = multi_parser.get_token();\n            multi_parser.token_text = t[0];\n            multi_parser.token_type = t[1];\n\n            if (multi_parser.token_type === 'TK_EOF') {\n                break;\n            }\n\n            switch (multi_parser.token_type) {\n                case 'TK_TAG_START':\n                    multi_parser.print_newline(false, multi_parser.output);\n                    multi_parser.print_token(multi_parser.token_text);\n                    if (multi_parser.indent_content) {\n                        if ((multi_parser.indent_body_inner_html || !multi_parser.token_text.match(/<body(?:.*)>/)) &&\n                            (multi_parser.indent_head_inner_html || !multi_parser.token_text.match(/<head(?:.*)>/))) {\n\n                            multi_parser.indent();\n                        }\n\n                        multi_parser.indent_content = false;\n                    }\n                    multi_parser.current_mode = 'CONTENT';\n                    break;\n                case 'TK_TAG_STYLE':\n                case 'TK_TAG_SCRIPT':\n                    multi_parser.print_newline(false, multi_parser.output);\n                    multi_parser.print_token(multi_parser.token_text);\n                    multi_parser.current_mode = 'CONTENT';\n                    break;\n                case 'TK_TAG_END':\n                    if (multi_parser.last_token === 'TK_CONTENT' && multi_parser.last_text === '') {\n                        var tag_name = (multi_parser.token_text.match(/\\w+/) || [])[0];\n                        var tag_extracted_from_last_output = null;\n                        if (multi_parser.output.length) {\n                            tag_extracted_from_last_output = multi_parser.output[multi_parser.output.length - 1].match(/(?:<|{{#)\\s*(\\w+)/);\n                        }\n                        if (tag_extracted_from_last_output === null ||\n                            (tag_extracted_from_last_output[1] !== tag_name && !multi_parser.Utils.in_array(tag_extracted_from_last_output[1], unformatted))) {\n                            multi_parser.print_newline(false, multi_parser.output);\n                        }\n                    }\n                    multi_parser.print_token(multi_parser.token_text);\n                    multi_parser.current_mode = 'CONTENT';\n                    break;\n                case 'TK_TAG_SINGLE':\n                    var tag_check = multi_parser.token_text.match(/^\\s*<([a-z-]+)/i);\n                    if (!tag_check || !multi_parser.Utils.in_array(tag_check[1], unformatted)) {\n                        multi_parser.print_newline(false, multi_parser.output);\n                    }\n                    multi_parser.print_token(multi_parser.token_text);\n                    multi_parser.current_mode = 'CONTENT';\n                    break;\n                case 'TK_TAG_HANDLEBARS_ELSE':\n                    var foundIfOnCurrentLine = false;\n                    for (var lastCheckedOutput = multi_parser.output.length - 1; lastCheckedOutput >= 0; lastCheckedOutput--) {\n                        if (multi_parser.output[lastCheckedOutput] === '\\n') {\n                            break;\n                        } else {\n                            if (multi_parser.output[lastCheckedOutput].match(/{{#if/)) {\n                                foundIfOnCurrentLine = true;\n                                break;\n                            }\n                        }\n                    }\n                    if (!foundIfOnCurrentLine) {\n                        multi_parser.print_newline(false, multi_parser.output);\n                    }\n                    multi_parser.print_token(multi_parser.token_text);\n                    if (multi_parser.indent_content) {\n                        multi_parser.indent();\n                        multi_parser.indent_content = false;\n                    }\n                    multi_parser.current_mode = 'CONTENT';\n                    break;\n                case 'TK_TAG_HANDLEBARS_COMMENT':\n                    multi_parser.print_token(multi_parser.token_text);\n                    multi_parser.current_mode = 'TAG';\n                    break;\n                case 'TK_CONTENT':\n                    multi_parser.print_token(multi_parser.token_text);\n                    multi_parser.current_mode = 'TAG';\n                    break;\n                case 'TK_STYLE':\n                case 'TK_SCRIPT':\n                    if (multi_parser.token_text !== '') {\n                        multi_parser.print_newline(false, multi_parser.output);\n                        var text = multi_parser.token_text,\n                            _beautifier,\n                            script_indent_level = 1;\n                        if (multi_parser.token_type === 'TK_SCRIPT') {\n                            _beautifier = typeof js_beautify === 'function' && js_beautify;\n                        } else if (multi_parser.token_type === 'TK_STYLE') {\n                            _beautifier = typeof css_beautify === 'function' && css_beautify;\n                        }\n\n                        if (options.indent_scripts === \"keep\") {\n                            script_indent_level = 0;\n                        } else if (options.indent_scripts === \"separate\") {\n                            script_indent_level = -multi_parser.indent_level;\n                        }\n\n                        var indentation = multi_parser.get_full_indent(script_indent_level);\n                        if (_beautifier) {\n\n                            var Child_options = function() {\n                                this.eol = '\\n';\n                            };\n                            Child_options.prototype = options;\n                            var child_options = new Child_options();\n                            text = _beautifier(text.replace(/^\\s*/, indentation), child_options);\n                        } else {\n                            var white = text.match(/^\\s*/)[0];\n                            var _level = white.match(/[^\\n\\r]*$/)[0].split(multi_parser.indent_string).length - 1;\n                            var reindent = multi_parser.get_full_indent(script_indent_level - _level);\n                            text = text.replace(/^\\s*/, indentation)\n                                .replace(/\\r\\n|\\r|\\n/g, '\\n' + reindent)\n                                .replace(/\\s+$/, '');\n                        }\n                        if (text) {\n                            multi_parser.print_token_raw(text);\n                            multi_parser.print_newline(true, multi_parser.output);\n                        }\n                    }\n                    multi_parser.current_mode = 'TAG';\n                    break;\n                default:\n                    if (multi_parser.token_text !== '') {\n                        multi_parser.print_token(multi_parser.token_text);\n                    }\n                    break;\n            }\n            multi_parser.last_token = multi_parser.token_type;\n            multi_parser.last_text = multi_parser.token_text;\n        }\n        var sweet_code = multi_parser.output.join('').replace(/[\\r\\n\\t ]+$/, '');\n\n        if (end_with_newline) {\n            sweet_code += '\\n';\n        }\n\n        if (eol !== '\\n') {\n            sweet_code = sweet_code.replace(/[\\n]/g, eol);\n        }\n\n        return sweet_code;\n    };\n}\n\nmodule.exports.Beautifier = Beautifier;\n\n\n }),\n (function(module, exports) {\n\n\n\n\nvar nonASCIIwhitespace = /[\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]/; \nvar nonASCIIidentifierStartChars = \"\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc\";\nvar nonASCIIidentifierChars = \"\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f\";\nvar nonASCIIidentifierStart = new RegExp(\"[\" + nonASCIIidentifierStartChars + \"]\");\nvar nonASCIIidentifier = new RegExp(\"[\" + nonASCIIidentifierStartChars + nonASCIIidentifierChars + \"]\");\n\n\nexports.newline = /[\\n\\r\\u2028\\u2029]/;\n\n\nexports.lineBreak = new RegExp('\\r\\n|' + exports.newline.source);\nexports.allLineBreaks = new RegExp(exports.lineBreak.source, 'g');\n\n\n\nexports.isIdentifierStart = function(code) {\n    if (code < 65) return code === 36 || code === 64;\n    if (code < 91) return true;\n    if (code < 97) return code === 95;\n    if (code < 123) return true;\n    return code >= 0xaa && nonASCIIidentifierStart.test(String.fromCharCode(code));\n};\n\n\nexports.isIdentifierChar = function(code) {\n    if (code < 48) return code === 36;\n    if (code < 58) return true;\n    if (code < 65) return false;\n    if (code < 91) return true;\n    if (code < 97) return code === 95;\n    if (code < 123) return true;\n    return code >= 0xaa && nonASCIIidentifier.test(String.fromCharCode(code));\n};\n\n\n }),\n (function(module, exports) {\n\n\nfunction mergeOpts(allOptions, targetType) {\n    var finalOpts = {};\n    var name;\n\n    for (name in allOptions) {\n        if (name !== targetType) {\n            finalOpts[name] = allOptions[name];\n        }\n    }\n\n    if (targetType in allOptions) {\n        for (name in allOptions[targetType]) {\n            finalOpts[name] = allOptions[targetType][name];\n        }\n    }\n    return finalOpts;\n}\n\nmodule.exports.mergeOpts = mergeOpts;\n\n\n }),\n (function(module, exports, __webpack_require__) {\n\n\nvar Beautifier = __webpack_require__(0).Beautifier;\n\nfunction style_html(html_source, options, js_beautify, css_beautify) {\n    var beautifier = new Beautifier(html_source, options, js_beautify, css_beautify);\n    return beautifier.beautify();\n}\n\nmodule.exports = style_html;\n\n })\n ]);\nvar style_html = legacy_beautify_html;\nif (typeof define === \"function\" && define.amd) {\n    define([\"require\", \"./beautify\", \"./beautify-css\"], function(requireamd) {\n        var js_beautify = requireamd(\"./beautify\");\n        var css_beautify = requireamd(\"./beautify-css\");\n\n        return {\n            html_beautify: function(html_source, options) {\n                return style_html(html_source, options, js_beautify.js_beautify, css_beautify.css_beautify);\n            }\n        };\n    });\n} else if (typeof exports !== \"undefined\") {\n    var js_beautify = require('./beautify.js');\n    var css_beautify = require('./beautify-css.js');\n\n    exports.html_beautify = function(html_source, options) {\n        return style_html(html_source, options, js_beautify.js_beautify, css_beautify.css_beautify);\n    };\n} else if (typeof window !== \"undefined\") {\n    window.html_beautify = function(html_source, options) {\n        return style_html(html_source, options, window.js_beautify, window.css_beautify);\n    };\n} else if (typeof global !== \"undefined\") {\n    global.html_beautify = function(html_source, options) {\n        return style_html(html_source, options, global.js_beautify, global.css_beautify);\n    };\n}\n\n}());\n\n\n\n(function() {\nvar legacy_beautify_css =\n (function(modules) { \n \tvar installedModules = {};\n \tfunction __webpack_require__(moduleId) {\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n \t\tmodule.l = true;\n \t\treturn module.exports;\n \t}\n \t__webpack_require__.m = modules;\n \t__webpack_require__.c = installedModules;\n \t__webpack_require__.i = function(value) { return value; };\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n \t__webpack_require__.p = \"\";\n \treturn __webpack_require__(__webpack_require__.s = 4);\n })\n ([\n (function(module, exports, __webpack_require__) {\n\n\nvar mergeOpts = __webpack_require__(2).mergeOpts;\nvar acorn = __webpack_require__(1);\nvar Output = __webpack_require__(3).Output;\n\n\nvar lineBreak = acorn.lineBreak;\nvar allLineBreaks = acorn.allLineBreaks;\n\nfunction Beautifier(source_text, options) {\n    options = options || {};\n\n    options = mergeOpts(options, 'css');\n\n    source_text = source_text || '';\n\n    var newlinesFromLastWSEat = 0;\n    var indentSize = options.indent_size ? parseInt(options.indent_size, 10) : 4;\n    var indentCharacter = options.indent_char || ' ';\n    var preserve_newlines = (options.preserve_newlines === undefined) ? false : options.preserve_newlines;\n    var selectorSeparatorNewline = (options.selector_separator_newline === undefined) ? true : options.selector_separator_newline;\n    var end_with_newline = (options.end_with_newline === undefined) ? false : options.end_with_newline;\n    var newline_between_rules = (options.newline_between_rules === undefined) ? true : options.newline_between_rules;\n    var space_around_combinator = (options.space_around_combinator === undefined) ? false : options.space_around_combinator;\n    space_around_combinator = space_around_combinator || ((options.space_around_selector_separator === undefined) ? false : options.space_around_selector_separator);\n    var eol = options.eol ? options.eol : 'auto';\n\n    if (options.indent_with_tabs) {\n        indentCharacter = '\\t';\n        indentSize = 1;\n    }\n\n    if (eol === 'auto') {\n        eol = '\\n';\n        if (source_text && lineBreak.test(source_text || '')) {\n            eol = source_text.match(lineBreak)[0];\n        }\n    }\n\n    eol = eol.replace(/\\\\r/, '\\r').replace(/\\\\n/, '\\n');\n\n    source_text = source_text.replace(allLineBreaks, '\\n');\n\n    var whiteRe = /^\\s+$/;\n\n    var pos = -1,\n        ch;\n    var parenLevel = 0;\n\n    function next() {\n        ch = source_text.charAt(++pos);\n        return ch || '';\n    }\n\n    function peek(skipWhitespace) {\n        var result = '';\n        var prev_pos = pos;\n        if (skipWhitespace) {\n            eatWhitespace();\n        }\n        result = source_text.charAt(pos + 1) || '';\n        pos = prev_pos - 1;\n        next();\n        return result;\n    }\n\n    function eatString(endChars) {\n        var start = pos;\n        while (next()) {\n            if (ch === \"\\\\\") {\n                next();\n            } else if (endChars.indexOf(ch) !== -1) {\n                break;\n            } else if (ch === \"\\n\") {\n                break;\n            }\n        }\n        return source_text.substring(start, pos + 1);\n    }\n\n    function peekString(endChar) {\n        var prev_pos = pos;\n        var str = eatString(endChar);\n        pos = prev_pos - 1;\n        next();\n        return str;\n    }\n\n    function eatWhitespace(preserve_newlines_local) {\n        var result = 0;\n        while (whiteRe.test(peek())) {\n            next();\n            if (ch === '\\n' && preserve_newlines_local && preserve_newlines) {\n                output.add_new_line(true);\n                result++;\n            }\n        }\n        newlinesFromLastWSEat = result;\n        return result;\n    }\n\n    function skipWhitespace() {\n        var result = '';\n        if (ch && whiteRe.test(ch)) {\n            result = ch;\n        }\n        while (whiteRe.test(next())) {\n            result += ch;\n        }\n        return result;\n    }\n\n    function eatComment() {\n        var start = pos;\n        var singleLine = peek() === \"/\";\n        next();\n        while (next()) {\n            if (!singleLine && ch === \"*\" && peek() === \"/\") {\n                next();\n                break;\n            } else if (singleLine && ch === \"\\n\") {\n                return source_text.substring(start, pos);\n            }\n        }\n\n        return source_text.substring(start, pos) + ch;\n    }\n\n\n    function lookBack(str) {\n        return source_text.substring(pos - str.length, pos).toLowerCase() ===\n            str;\n    }\n\n    function foundNestedPseudoClass() {\n        var openParen = 0;\n        for (var i = pos + 1; i < source_text.length; i++) {\n            var ch = source_text.charAt(i);\n            if (ch === \"{\") {\n                return true;\n            } else if (ch === '(') {\n                openParen += 1;\n            } else if (ch === ')') {\n                if (openParen === 0) {\n                    return false;\n                }\n                openParen -= 1;\n            } else if (ch === \";\" || ch === \"}\") {\n                return false;\n            }\n        }\n        return false;\n    }\n\n    var baseIndentString = '';\n    var preindent_index = 0;\n    if (source_text && source_text.length) {\n        while ((source_text.charAt(preindent_index) === ' ' ||\n                source_text.charAt(preindent_index) === '\\t')) {\n            preindent_index += 1;\n        }\n        baseIndentString = source_text.substring(0, preindent_index);\n        js_source_text = source_text.substring(preindent_index);\n    }\n\n\n    var singleIndent = new Array(indentSize + 1).join(indentCharacter);\n    var indentLevel;\n    var nestedLevel;\n    var output;\n\n    function print_string(output_string) {\n        if (output.just_added_newline()) {\n            output.set_indent(indentLevel);\n        }\n        output.add_token(output_string);\n    }\n\n    function preserveSingleSpace(isAfterSpace) {\n        if (isAfterSpace) {\n            output.space_before_token = true;\n        }\n    }\n\n    function indent() {\n        indentLevel++;\n    }\n\n    function outdent() {\n        if (indentLevel > 0) {\n            indentLevel--;\n        }\n    }\n\n\n    this.beautify = function() {\n        output = new Output(singleIndent, baseIndentString);\n        indentLevel = 0;\n        nestedLevel = 0;\n\n        pos = -1;\n        ch = null;\n        parenLevel = 0;\n\n        var insideRule = false;\n        var insidePropertyValue = false;\n        var enteringConditionalGroup = false;\n        var top_ch = '';\n        var last_top_ch = '';\n\n        while (true) {\n            var whitespace = skipWhitespace();\n            var isAfterSpace = whitespace !== '';\n            var isAfterNewline = whitespace.indexOf('\\n') !== -1;\n            last_top_ch = top_ch;\n            top_ch = ch;\n\n            if (!ch) {\n                break;\n            } else if (ch === '/' && peek() === '*') { \n                var header = indentLevel === 0;\n\n                if (isAfterNewline || header) {\n                    output.add_new_line();\n                }\n\n                print_string(eatComment());\n                output.add_new_line();\n                if (header) {\n                    output.add_new_line(true);\n                }\n            } else if (ch === '/' && peek() === '/') { \n                if (!isAfterNewline && last_top_ch !== '{') {\n                    output.trim(true);\n                }\n                output.space_before_token = true;\n                print_string(eatComment());\n                output.add_new_line();\n            } else if (ch === '@') {\n                preserveSingleSpace(isAfterSpace);\n\n                if (peek() === '{') {\n                    print_string(eatString('}'));\n                } else {\n                    print_string(ch);\n\n                    var variableOrRule = peekString(\": ,;{}()[]/='\\\"\");\n\n                    if (variableOrRule.match(/[ :]$/)) {\n                        next();\n                        variableOrRule = eatString(\": \").replace(/\\s$/, '');\n                        print_string(variableOrRule);\n                        output.space_before_token = true;\n                    }\n\n                    variableOrRule = variableOrRule.replace(/\\s$/, '');\n\n                    if (variableOrRule in this.NESTED_AT_RULE) {\n                        nestedLevel += 1;\n                        if (variableOrRule in this.CONDITIONAL_GROUP_RULE) {\n                            enteringConditionalGroup = true;\n                        }\n                    }\n                }\n            } else if (ch === '#' && peek() === '{') {\n                preserveSingleSpace(isAfterSpace);\n                print_string(eatString('}'));\n            } else if (ch === '{') {\n                if (peek(true) === '}') {\n                    eatWhitespace();\n                    next();\n                    output.space_before_token = true;\n                    print_string(\"{}\");\n                    if (!eatWhitespace(true)) {\n                        output.add_new_line();\n                    }\n\n                    if (newlinesFromLastWSEat < 2 && newline_between_rules && indentLevel === 0) {\n                        output.add_new_line(true);\n                    }\n                } else {\n                    indent();\n                    output.space_before_token = true;\n                    print_string(ch);\n                    if (!eatWhitespace(true)) {\n                        output.add_new_line();\n                    }\n\n                    if (enteringConditionalGroup) {\n                        enteringConditionalGroup = false;\n                        insideRule = (indentLevel > nestedLevel);\n                    } else {\n                        insideRule = (indentLevel >= nestedLevel);\n                    }\n                }\n            } else if (ch === '}') {\n                outdent();\n                output.add_new_line();\n                print_string(ch);\n                insideRule = false;\n                insidePropertyValue = false;\n                if (nestedLevel) {\n                    nestedLevel--;\n                }\n\n                if (!eatWhitespace(true)) {\n                    output.add_new_line();\n                }\n\n                if (newlinesFromLastWSEat < 2 && newline_between_rules && indentLevel === 0) {\n                    output.add_new_line(true);\n                }\n            } else if (ch === \":\") {\n                eatWhitespace();\n                if ((insideRule || enteringConditionalGroup) &&\n                    !(lookBack(\"&\") || foundNestedPseudoClass()) &&\n                    !lookBack(\"(\")) {\n                    print_string(':');\n                    if (!insidePropertyValue) {\n                        insidePropertyValue = true;\n                        output.space_before_token = true;\n                    }\n                } else {\n\n                    if (lookBack(\" \")) {\n                        output.space_before_token = true;\n                    }\n                    if (peek() === \":\") {\n                        next();\n                        print_string(\"::\");\n                    } else {\n                        print_string(':');\n                    }\n                }\n            } else if (ch === '\"' || ch === '\\'') {\n                preserveSingleSpace(isAfterSpace);\n                print_string(eatString(ch));\n            } else if (ch === ';') {\n                insidePropertyValue = false;\n                print_string(ch);\n                if (!eatWhitespace(true)) {\n                    output.add_new_line();\n                }\n            } else if (ch === '(') { \n                if (lookBack(\"url\")) {\n                    print_string(ch);\n                    eatWhitespace();\n                    if (next()) {\n                        if (ch !== ')' && ch !== '\"' && ch !== '\\'') {\n                            print_string(eatString(')'));\n                        } else {\n                            pos--;\n                        }\n                    }\n                } else {\n                    parenLevel++;\n                    preserveSingleSpace(isAfterSpace);\n                    print_string(ch);\n                    eatWhitespace();\n                }\n            } else if (ch === ')') {\n                print_string(ch);\n                parenLevel--;\n            } else if (ch === ',') {\n                print_string(ch);\n                if (!eatWhitespace(true) && selectorSeparatorNewline && !insidePropertyValue && parenLevel < 1) {\n                    output.add_new_line();\n                } else {\n                    output.space_before_token = true;\n                }\n            } else if ((ch === '>' || ch === '+' || ch === '~') &&\n                !insidePropertyValue && parenLevel < 1) {\n                if (space_around_combinator) {\n                    output.space_before_token = true;\n                    print_string(ch);\n                    output.space_before_token = true;\n                } else {\n                    print_string(ch);\n                    eatWhitespace();\n                    if (ch && whiteRe.test(ch)) {\n                        ch = '';\n                    }\n                }\n            } else if (ch === ']') {\n                print_string(ch);\n            } else if (ch === '[') {\n                preserveSingleSpace(isAfterSpace);\n                print_string(ch);\n            } else if (ch === '=') { \n                eatWhitespace();\n                print_string('=');\n                if (whiteRe.test(ch)) {\n                    ch = '';\n                }\n\n            } else {\n                preserveSingleSpace(isAfterSpace);\n                print_string(ch);\n            }\n        }\n\n        var sweetCode = output.get_code(end_with_newline, eol);\n\n        return sweetCode;\n    };\n\n    this.NESTED_AT_RULE = {\n        \"@page\": true,\n        \"@font-face\": true,\n        \"@keyframes\": true,\n        \"@media\": true,\n        \"@supports\": true,\n        \"@document\": true\n    };\n    this.CONDITIONAL_GROUP_RULE = {\n        \"@media\": true,\n        \"@supports\": true,\n        \"@document\": true\n    };\n}\n\nmodule.exports.Beautifier = Beautifier;\n\n\n }),\n (function(module, exports) {\n\n\n\n\nvar nonASCIIwhitespace = /[\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]/; \nvar nonASCIIidentifierStartChars = \"\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc\";\nvar nonASCIIidentifierChars = \"\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f\";\nvar nonASCIIidentifierStart = new RegExp(\"[\" + nonASCIIidentifierStartChars + \"]\");\nvar nonASCIIidentifier = new RegExp(\"[\" + nonASCIIidentifierStartChars + nonASCIIidentifierChars + \"]\");\n\n\nexports.newline = /[\\n\\r\\u2028\\u2029]/;\n\n\nexports.lineBreak = new RegExp('\\r\\n|' + exports.newline.source);\nexports.allLineBreaks = new RegExp(exports.lineBreak.source, 'g');\n\n\n\nexports.isIdentifierStart = function(code) {\n    if (code < 65) return code === 36 || code === 64;\n    if (code < 91) return true;\n    if (code < 97) return code === 95;\n    if (code < 123) return true;\n    return code >= 0xaa && nonASCIIidentifierStart.test(String.fromCharCode(code));\n};\n\n\nexports.isIdentifierChar = function(code) {\n    if (code < 48) return code === 36;\n    if (code < 58) return true;\n    if (code < 65) return false;\n    if (code < 91) return true;\n    if (code < 97) return code === 95;\n    if (code < 123) return true;\n    return code >= 0xaa && nonASCIIidentifier.test(String.fromCharCode(code));\n};\n\n\n }),\n (function(module, exports) {\n\n\nfunction mergeOpts(allOptions, targetType) {\n    var finalOpts = {};\n    var name;\n\n    for (name in allOptions) {\n        if (name !== targetType) {\n            finalOpts[name] = allOptions[name];\n        }\n    }\n\n    if (targetType in allOptions) {\n        for (name in allOptions[targetType]) {\n            finalOpts[name] = allOptions[targetType][name];\n        }\n    }\n    return finalOpts;\n}\n\nmodule.exports.mergeOpts = mergeOpts;\n\n\n }),\n (function(module, exports) {\n\n\nfunction OutputLine(parent) {\n    var _character_count = 0;\n    var _indent_count = -1;\n\n    var _items = [];\n    var _empty = true;\n\n    this.set_indent = function(level) {\n        _character_count = parent.baseIndentLength + level * parent.indent_length;\n        _indent_count = level;\n    };\n\n    this.get_character_count = function() {\n        return _character_count;\n    };\n\n    this.is_empty = function() {\n        return _empty;\n    };\n\n    this.last = function() {\n        if (!this._empty) {\n            return _items[_items.length - 1];\n        } else {\n            return null;\n        }\n    };\n\n    this.push = function(input) {\n        _items.push(input);\n        _character_count += input.length;\n        _empty = false;\n    };\n\n    this.pop = function() {\n        var item = null;\n        if (!_empty) {\n            item = _items.pop();\n            _character_count -= item.length;\n            _empty = _items.length === 0;\n        }\n        return item;\n    };\n\n    this.remove_indent = function() {\n        if (_indent_count > 0) {\n            _indent_count -= 1;\n            _character_count -= parent.indent_length;\n        }\n    };\n\n    this.trim = function() {\n        while (this.last() === ' ') {\n            _items.pop();\n            _character_count -= 1;\n        }\n        _empty = _items.length === 0;\n    };\n\n    this.toString = function() {\n        var result = '';\n        if (!this._empty) {\n            if (_indent_count >= 0) {\n                result = parent.indent_cache[_indent_count];\n            }\n            result += _items.join('');\n        }\n        return result;\n    };\n}\n\nfunction Output(indent_string, baseIndentString) {\n    baseIndentString = baseIndentString || '';\n    this.indent_cache = [baseIndentString];\n    this.baseIndentLength = baseIndentString.length;\n    this.indent_length = indent_string.length;\n    this.raw = false;\n\n    var lines = [];\n    this.baseIndentString = baseIndentString;\n    this.indent_string = indent_string;\n    this.previous_line = null;\n    this.current_line = null;\n    this.space_before_token = false;\n\n    this.add_outputline = function() {\n        this.previous_line = this.current_line;\n        this.current_line = new OutputLine(this);\n        lines.push(this.current_line);\n    };\n\n    this.add_outputline();\n\n\n    this.get_line_number = function() {\n        return lines.length;\n    };\n\n    this.add_new_line = function(force_newline) {\n        if (this.get_line_number() === 1 && this.just_added_newline()) {\n            return false; \n        }\n\n        if (force_newline || !this.just_added_newline()) {\n            if (!this.raw) {\n                this.add_outputline();\n            }\n            return true;\n        }\n\n        return false;\n    };\n\n    this.get_code = function(end_with_newline, eol) {\n        var sweet_code = lines.join('\\n').replace(/[\\r\\n\\t ]+$/, '');\n\n        if (end_with_newline) {\n            sweet_code += '\\n';\n        }\n\n        if (eol !== '\\n') {\n            sweet_code = sweet_code.replace(/[\\n]/g, eol);\n        }\n\n        return sweet_code;\n    };\n\n    this.set_indent = function(level) {\n        if (lines.length > 1) {\n            while (level >= this.indent_cache.length) {\n                this.indent_cache.push(this.indent_cache[this.indent_cache.length - 1] + this.indent_string);\n            }\n\n            this.current_line.set_indent(level);\n            return true;\n        }\n        this.current_line.set_indent(0);\n        return false;\n    };\n\n    this.add_raw_token = function(token) {\n        for (var x = 0; x < token.newlines; x++) {\n            this.add_outputline();\n        }\n        this.current_line.push(token.whitespace_before);\n        this.current_line.push(token.text);\n        this.space_before_token = false;\n    };\n\n    this.add_token = function(printable_token) {\n        this.add_space_before_token();\n        this.current_line.push(printable_token);\n    };\n\n    this.add_space_before_token = function() {\n        if (this.space_before_token && !this.just_added_newline()) {\n            this.current_line.push(' ');\n        }\n        this.space_before_token = false;\n    };\n\n    this.remove_indent = function(index) {\n        var output_length = lines.length;\n        while (index < output_length) {\n            lines[index].remove_indent();\n            index++;\n        }\n    };\n\n    this.trim = function(eat_newlines) {\n        eat_newlines = (eat_newlines === undefined) ? false : eat_newlines;\n\n        this.current_line.trim(indent_string, baseIndentString);\n\n        while (eat_newlines && lines.length > 1 &&\n            this.current_line.is_empty()) {\n            lines.pop();\n            this.current_line = lines[lines.length - 1];\n            this.current_line.trim();\n        }\n\n        this.previous_line = lines.length > 1 ? lines[lines.length - 2] : null;\n    };\n\n    this.just_added_newline = function() {\n        return this.current_line.is_empty();\n    };\n\n    this.just_added_blankline = function() {\n        if (this.just_added_newline()) {\n            if (lines.length === 1) {\n                return true; \n            }\n\n            var line = lines[lines.length - 2];\n            return line.is_empty();\n        }\n        return false;\n    };\n}\n\nmodule.exports.Output = Output;\n\n\n }),\n (function(module, exports, __webpack_require__) {\n\n\nvar Beautifier = __webpack_require__(0).Beautifier;\n\nfunction css_beautify(source_text, options) {\n    var beautifier = new Beautifier(source_text, options);\n    return beautifier.beautify();\n}\n\nmodule.exports = css_beautify;\n\n })\n ]);\nvar css_beautify = legacy_beautify_css;\nif (typeof define === \"function\" && define.amd) {\n    define([], function() {\n        return {\n            css_beautify: css_beautify\n        };\n    });\n} else if (typeof exports !== \"undefined\") {\n    exports.css_beautify = css_beautify;\n} else if (typeof window !== \"undefined\") {\n    window.css_beautify = css_beautify;\n} else if (typeof global !== \"undefined\") {\n    global.css_beautify = css_beautify;\n}\n\n}());\n\n\n(function() {\nvar legacy_beautify_js =\n (function(modules) { \n \tvar installedModules = {};\n \tfunction __webpack_require__(moduleId) {\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n \t\tmodule.l = true;\n \t\treturn module.exports;\n \t}\n \t__webpack_require__.m = modules;\n \t__webpack_require__.c = installedModules;\n \t__webpack_require__.i = function(value) { return value; };\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n \t__webpack_require__.p = \"\";\n \treturn __webpack_require__(__webpack_require__.s = 6);\n })\n ([\n (function(module, exports) {\n\n\n\n\nvar nonASCIIwhitespace = /[\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]/; \nvar nonASCIIidentifierStartChars = \"\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc\";\nvar nonASCIIidentifierChars = \"\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f\";\nvar nonASCIIidentifierStart = new RegExp(\"[\" + nonASCIIidentifierStartChars + \"]\");\nvar nonASCIIidentifier = new RegExp(\"[\" + nonASCIIidentifierStartChars + nonASCIIidentifierChars + \"]\");\n\n\nexports.newline = /[\\n\\r\\u2028\\u2029]/;\n\n\nexports.lineBreak = new RegExp('\\r\\n|' + exports.newline.source);\nexports.allLineBreaks = new RegExp(exports.lineBreak.source, 'g');\n\n\n\nexports.isIdentifierStart = function(code) {\n    if (code < 65) return code === 36 || code === 64;\n    if (code < 91) return true;\n    if (code < 97) return code === 95;\n    if (code < 123) return true;\n    return code >= 0xaa && nonASCIIidentifierStart.test(String.fromCharCode(code));\n};\n\n\nexports.isIdentifierChar = function(code) {\n    if (code < 48) return code === 36;\n    if (code < 58) return true;\n    if (code < 65) return false;\n    if (code < 91) return true;\n    if (code < 97) return code === 95;\n    if (code < 123) return true;\n    return code >= 0xaa && nonASCIIidentifier.test(String.fromCharCode(code));\n};\n\n\n }),\n (function(module, exports, __webpack_require__) {\n\n\nvar mergeOpts = __webpack_require__(3).mergeOpts;\nvar acorn = __webpack_require__(0);\nvar Output = __webpack_require__(4).Output;\nvar Tokenizer = __webpack_require__(7).Tokenizer;\n\nfunction remove_redundant_indentation(output, frame) {\n\n    if (frame.multiline_frame ||\n        frame.mode === MODE.ForInitializer ||\n        frame.mode === MODE.Conditional) {\n        return;\n    }\n\n    var start_index = frame.start_line_index;\n\n    output.remove_indent(start_index);\n}\n\nfunction in_array(what, arr) {\n    for (var i = 0; i < arr.length; i += 1) {\n        if (arr[i] === what) {\n            return true;\n        }\n    }\n    return false;\n}\n\nfunction trim(s) {\n    return s.replace(/^\\s+|\\s+$/g, '');\n}\n\nfunction ltrim(s) {\n    return s.replace(/^\\s+/g, '');\n}\n\n\n\nfunction generateMapFromStrings(list) {\n    var result = {};\n    for (var x = 0; x < list.length; x++) {\n        result[list[x].replace(/-/g, '_')] = list[x];\n    }\n    return result;\n}\n\nfunction sanitizeOperatorPosition(opPosition) {\n    opPosition = opPosition || OPERATOR_POSITION.before_newline;\n\n    if (!in_array(opPosition, validPositionValues)) {\n        throw new Error(\"Invalid Option Value: The option 'operator_position' must be one of the following values\\n\" +\n            validPositionValues +\n            \"\\nYou passed in: '\" + opPosition + \"'\");\n    }\n\n    return opPosition;\n}\n\nvar validPositionValues = ['before-newline', 'after-newline', 'preserve-newline'];\n\nvar OPERATOR_POSITION = generateMapFromStrings(validPositionValues);\n\nvar OPERATOR_POSITION_BEFORE_OR_PRESERVE = [OPERATOR_POSITION.before_newline, OPERATOR_POSITION.preserve_newline];\n\nvar MODE = {\n    BlockStatement: 'BlockStatement', \n    Statement: 'Statement', \n    ObjectLiteral: 'ObjectLiteral', \n    ArrayLiteral: 'ArrayLiteral', \n    ForInitializer: 'ForInitializer', \n    Conditional: 'Conditional', \n    Expression: 'Expression' \n};\n\nfunction Beautifier(js_source_text, options) {\n    \"use strict\";\n    var output;\n    var tokens = [],\n        token_pos;\n    var tokenizer;\n    var current_token;\n    var last_type, last_last_text, indent_string;\n    var flags, previous_flags, flag_store;\n    var prefix;\n\n    var handlers, opt;\n    var baseIndentString = '';\n\n    handlers = {\n        'TK_START_EXPR': handle_start_expr,\n        'TK_END_EXPR': handle_end_expr,\n        'TK_START_BLOCK': handle_start_block,\n        'TK_END_BLOCK': handle_end_block,\n        'TK_WORD': handle_word,\n        'TK_RESERVED': handle_word,\n        'TK_SEMICOLON': handle_semicolon,\n        'TK_STRING': handle_string,\n        'TK_EQUALS': handle_equals,\n        'TK_OPERATOR': handle_operator,\n        'TK_COMMA': handle_comma,\n        'TK_BLOCK_COMMENT': handle_block_comment,\n        'TK_COMMENT': handle_comment,\n        'TK_DOT': handle_dot,\n        'TK_UNKNOWN': handle_unknown,\n        'TK_EOF': handle_eof\n    };\n\n    function create_flags(flags_base, mode) {\n        var next_indent_level = 0;\n        if (flags_base) {\n            next_indent_level = flags_base.indentation_level;\n            if (!output.just_added_newline() &&\n                flags_base.line_indent_level > next_indent_level) {\n                next_indent_level = flags_base.line_indent_level;\n            }\n        }\n\n        var next_flags = {\n            mode: mode,\n            parent: flags_base,\n            last_text: flags_base ? flags_base.last_text : '', \n            last_word: flags_base ? flags_base.last_word : '', \n            declaration_statement: false,\n            declaration_assignment: false,\n            multiline_frame: false,\n            inline_frame: false,\n            if_block: false,\n            else_block: false,\n            do_block: false,\n            do_while: false,\n            import_block: false,\n            in_case_statement: false, \n            in_case: false, \n            case_body: false, \n            indentation_level: next_indent_level,\n            line_indent_level: flags_base ? flags_base.line_indent_level : next_indent_level,\n            start_line_index: output.get_line_number(),\n            ternary_depth: 0\n        };\n        return next_flags;\n    }\n\n    options = options ? options : {};\n\n    options = mergeOpts(options, 'js');\n\n    opt = {};\n\n    if (options.brace_style === \"expand-strict\") { \n        options.brace_style = \"expand\";\n    } else if (options.brace_style === \"collapse-preserve-inline\") { \n        options.brace_style = \"collapse,preserve-inline\";\n    } else if (options.braces_on_own_line !== undefined) { \n        options.brace_style = options.braces_on_own_line ? \"expand\" : \"collapse\";\n    } else if (!options.brace_style) \n    {\n        options.brace_style = \"collapse\";\n    }\n\n\n    var brace_style_split = options.brace_style.split(/[^a-zA-Z0-9_\\-]+/);\n    opt.brace_style = brace_style_split[0];\n    opt.brace_preserve_inline = brace_style_split[1] ? brace_style_split[1] : false;\n\n    opt.indent_size = options.indent_size ? parseInt(options.indent_size, 10) : 4;\n    opt.indent_char = options.indent_char ? options.indent_char : ' ';\n    opt.eol = options.eol ? options.eol : 'auto';\n    opt.preserve_newlines = (options.preserve_newlines === undefined) ? true : options.preserve_newlines;\n    opt.unindent_chained_methods = (options.unindent_chained_methods === undefined) ? false : options.unindent_chained_methods;\n    opt.break_chained_methods = (options.break_chained_methods === undefined) ? false : options.break_chained_methods;\n    opt.max_preserve_newlines = (options.max_preserve_newlines === undefined) ? 0 : parseInt(options.max_preserve_newlines, 10);\n    opt.space_in_paren = (options.space_in_paren === undefined) ? false : options.space_in_paren;\n    opt.space_in_empty_paren = (options.space_in_empty_paren === undefined) ? false : options.space_in_empty_paren;\n    opt.jslint_happy = (options.jslint_happy === undefined) ? false : options.jslint_happy;\n    opt.space_after_anon_function = (options.space_after_anon_function === undefined) ? false : options.space_after_anon_function;\n    opt.keep_array_indentation = (options.keep_array_indentation === undefined) ? false : options.keep_array_indentation;\n    opt.space_before_conditional = (options.space_before_conditional === undefined) ? true : options.space_before_conditional;\n    opt.unescape_strings = (options.unescape_strings === undefined) ? false : options.unescape_strings;\n    opt.wrap_line_length = (options.wrap_line_length === undefined) ? 0 : parseInt(options.wrap_line_length, 10);\n    opt.e4x = (options.e4x === undefined) ? false : options.e4x;\n    opt.end_with_newline = (options.end_with_newline === undefined) ? false : options.end_with_newline;\n    opt.comma_first = (options.comma_first === undefined) ? false : options.comma_first;\n    opt.operator_position = sanitizeOperatorPosition(options.operator_position);\n\n    opt.test_output_raw = (options.test_output_raw === undefined) ? false : options.test_output_raw;\n\n    if (opt.jslint_happy) {\n        opt.space_after_anon_function = true;\n    }\n\n    if (options.indent_with_tabs) {\n        opt.indent_char = '\\t';\n        opt.indent_size = 1;\n    }\n\n    if (opt.eol === 'auto') {\n        opt.eol = '\\n';\n        if (js_source_text && acorn.lineBreak.test(js_source_text || '')) {\n            opt.eol = js_source_text.match(acorn.lineBreak)[0];\n        }\n    }\n\n    opt.eol = opt.eol.replace(/\\\\r/, '\\r').replace(/\\\\n/, '\\n');\n\n    indent_string = '';\n    while (opt.indent_size > 0) {\n        indent_string += opt.indent_char;\n        opt.indent_size -= 1;\n    }\n\n    var preindent_index = 0;\n    if (js_source_text && js_source_text.length) {\n        while ((js_source_text.charAt(preindent_index) === ' ' ||\n                js_source_text.charAt(preindent_index) === '\\t')) {\n            preindent_index += 1;\n        }\n        baseIndentString = js_source_text.substring(0, preindent_index);\n        js_source_text = js_source_text.substring(preindent_index);\n    }\n\n    last_type = 'TK_START_BLOCK'; \n    last_last_text = ''; \n    output = new Output(indent_string, baseIndentString);\n\n    output.raw = opt.test_output_raw;\n\n\n    flag_store = [];\n    set_mode(MODE.BlockStatement);\n\n    this.beautify = function() {\n\n        var sweet_code;\n        tokenizer = new Tokenizer(js_source_text, opt, indent_string);\n        tokens = tokenizer.tokenize();\n        token_pos = 0;\n\n        current_token = get_token();\n        while (current_token) {\n            handlers[current_token.type]();\n\n            last_last_text = flags.last_text;\n            last_type = current_token.type;\n            flags.last_text = current_token.text;\n\n            token_pos += 1;\n            current_token = get_token();\n        }\n\n        sweet_code = output.get_code(opt.end_with_newline, opt.eol);\n\n        return sweet_code;\n    };\n\n    function handle_whitespace_and_comments(local_token, preserve_statement_flags) {\n        var newlines = local_token.newlines;\n        var keep_whitespace = opt.keep_array_indentation && is_array(flags.mode);\n        var temp_token = current_token;\n\n        for (var h = 0; h < local_token.comments_before.length; h++) {\n            current_token = local_token.comments_before[h];\n            handle_whitespace_and_comments(current_token, preserve_statement_flags);\n            handlers[current_token.type](preserve_statement_flags);\n        }\n        current_token = temp_token;\n\n        if (keep_whitespace) {\n            for (var i = 0; i < newlines; i += 1) {\n                print_newline(i > 0, preserve_statement_flags);\n            }\n        } else {\n            if (opt.max_preserve_newlines && newlines > opt.max_preserve_newlines) {\n                newlines = opt.max_preserve_newlines;\n            }\n\n            if (opt.preserve_newlines) {\n                if (local_token.newlines > 1) {\n                    print_newline(false, preserve_statement_flags);\n                    for (var j = 1; j < newlines; j += 1) {\n                        print_newline(true, preserve_statement_flags);\n                    }\n                }\n            }\n        }\n\n    }\n\n    function split_linebreaks(s) {\n\n        s = s.replace(acorn.allLineBreaks, '\\n');\n        var out = [],\n            idx = s.indexOf(\"\\n\");\n        while (idx !== -1) {\n            out.push(s.substring(0, idx));\n            s = s.substring(idx + 1);\n            idx = s.indexOf(\"\\n\");\n        }\n        if (s.length) {\n            out.push(s);\n        }\n        return out;\n    }\n\n    var newline_restricted_tokens = ['break', 'continue', 'return', 'throw', 'yield'];\n\n    function allow_wrap_or_preserved_newline(force_linewrap) {\n        force_linewrap = (force_linewrap === undefined) ? false : force_linewrap;\n\n        if (output.just_added_newline()) {\n            return;\n        }\n\n        var shouldPreserveOrForce = (opt.preserve_newlines && current_token.wanted_newline) || force_linewrap;\n        var operatorLogicApplies = in_array(flags.last_text, tokenizer.positionable_operators) || in_array(current_token.text, tokenizer.positionable_operators);\n\n        if (operatorLogicApplies) {\n            var shouldPrintOperatorNewline = (\n                    in_array(flags.last_text, tokenizer.positionable_operators) &&\n                    in_array(opt.operator_position, OPERATOR_POSITION_BEFORE_OR_PRESERVE)\n                ) ||\n                in_array(current_token.text, tokenizer.positionable_operators);\n            shouldPreserveOrForce = shouldPreserveOrForce && shouldPrintOperatorNewline;\n        }\n\n        if (shouldPreserveOrForce) {\n            print_newline(false, true);\n        } else if (opt.wrap_line_length) {\n            if (last_type === 'TK_RESERVED' && in_array(flags.last_text, newline_restricted_tokens)) {\n                return;\n            }\n            var proposed_line_length = output.current_line.get_character_count() + current_token.text.length +\n                (output.space_before_token ? 1 : 0);\n            if (proposed_line_length >= opt.wrap_line_length) {\n                print_newline(false, true);\n            }\n        }\n    }\n\n    function print_newline(force_newline, preserve_statement_flags) {\n        if (!preserve_statement_flags) {\n            if (flags.last_text !== ';' && flags.last_text !== ',' && flags.last_text !== '=' && last_type !== 'TK_OPERATOR') {\n                var next_token = get_token(1);\n                while (flags.mode === MODE.Statement &&\n                    !(flags.if_block && next_token && next_token.type === 'TK_RESERVED' && next_token.text === 'else') &&\n                    !flags.do_block) {\n                    restore_mode();\n                }\n            }\n        }\n\n        if (output.add_new_line(force_newline)) {\n            flags.multiline_frame = true;\n        }\n    }\n\n    function print_token_line_indentation() {\n        if (output.just_added_newline()) {\n            if (opt.keep_array_indentation && is_array(flags.mode) && current_token.wanted_newline) {\n                output.current_line.push(current_token.whitespace_before);\n                output.space_before_token = false;\n            } else if (output.set_indent(flags.indentation_level)) {\n                flags.line_indent_level = flags.indentation_level;\n            }\n        }\n    }\n\n    function print_token(printable_token) {\n        if (output.raw) {\n            output.add_raw_token(current_token);\n            return;\n        }\n\n        if (opt.comma_first && last_type === 'TK_COMMA' &&\n            output.just_added_newline()) {\n            if (output.previous_line.last() === ',') {\n                var popped = output.previous_line.pop();\n                if (output.previous_line.is_empty()) {\n                    output.previous_line.push(popped);\n                    output.trim(true);\n                    output.current_line.pop();\n                    output.trim();\n                }\n\n                print_token_line_indentation();\n                output.add_token(',');\n                output.space_before_token = true;\n            }\n        }\n\n        printable_token = printable_token || current_token.text;\n        print_token_line_indentation();\n        output.add_token(printable_token);\n    }\n\n    function indent() {\n        flags.indentation_level += 1;\n    }\n\n    function deindent() {\n        if (flags.indentation_level > 0 &&\n            ((!flags.parent) || flags.indentation_level > flags.parent.indentation_level)) {\n            flags.indentation_level -= 1;\n\n        }\n    }\n\n    function set_mode(mode) {\n        if (flags) {\n            flag_store.push(flags);\n            previous_flags = flags;\n        } else {\n            previous_flags = create_flags(null, mode);\n        }\n\n        flags = create_flags(previous_flags, mode);\n    }\n\n    function is_array(mode) {\n        return mode === MODE.ArrayLiteral;\n    }\n\n    function is_expression(mode) {\n        return in_array(mode, [MODE.Expression, MODE.ForInitializer, MODE.Conditional]);\n    }\n\n    function restore_mode() {\n        if (flag_store.length > 0) {\n            previous_flags = flags;\n            flags = flag_store.pop();\n            if (previous_flags.mode === MODE.Statement && !opt.unindent_chained_methods) {\n                remove_redundant_indentation(output, previous_flags);\n            }\n        }\n    }\n\n    function start_of_object_property() {\n        return flags.parent.mode === MODE.ObjectLiteral && flags.mode === MODE.Statement && (\n            (flags.last_text === ':' && flags.ternary_depth === 0) || (last_type === 'TK_RESERVED' && in_array(flags.last_text, ['get', 'set'])));\n    }\n\n    function start_of_statement() {\n        if (\n            (last_type === 'TK_RESERVED' && in_array(flags.last_text, ['var', 'let', 'const']) && current_token.type === 'TK_WORD') ||\n            (last_type === 'TK_RESERVED' && flags.last_text === 'do') ||\n            (last_type === 'TK_RESERVED' && in_array(flags.last_text, newline_restricted_tokens) && !current_token.wanted_newline) ||\n            (last_type === 'TK_RESERVED' && flags.last_text === 'else' &&\n                !(current_token.type === 'TK_RESERVED' && current_token.text === 'if' && !current_token.comments_before.length)) ||\n            (last_type === 'TK_END_EXPR' && (previous_flags.mode === MODE.ForInitializer || previous_flags.mode === MODE.Conditional)) ||\n            (last_type === 'TK_WORD' && flags.mode === MODE.BlockStatement &&\n                !flags.in_case &&\n                !(current_token.text === '--' || current_token.text === '++') &&\n                last_last_text !== 'function' &&\n                current_token.type !== 'TK_WORD' && current_token.type !== 'TK_RESERVED') ||\n            (flags.mode === MODE.ObjectLiteral && (\n                (flags.last_text === ':' && flags.ternary_depth === 0) || (last_type === 'TK_RESERVED' && in_array(flags.last_text, ['get', 'set']))))\n        ) {\n\n            set_mode(MODE.Statement);\n            if (!opt.unindent_chained_methods) {\n                indent();\n            }\n\n            handle_whitespace_and_comments(current_token, true);\n\n            if (!start_of_object_property()) {\n                allow_wrap_or_preserved_newline(\n                    current_token.type === 'TK_RESERVED' && in_array(current_token.text, ['do', 'for', 'if', 'while']));\n            }\n\n            return true;\n        }\n        return false;\n    }\n\n    function all_lines_start_with(lines, c) {\n        for (var i = 0; i < lines.length; i++) {\n            var line = trim(lines[i]);\n            if (line.charAt(0) !== c) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    function each_line_matches_indent(lines, indent) {\n        var i = 0,\n            len = lines.length,\n            line;\n        for (; i < len; i++) {\n            line = lines[i];\n            if (line && line.indexOf(indent) !== 0) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    function is_special_word(word) {\n        return in_array(word, ['case', 'return', 'do', 'if', 'throw', 'else']);\n    }\n\n    function get_token(offset) {\n        var index = token_pos + (offset || 0);\n        return (index < 0 || index >= tokens.length) ? null : tokens[index];\n    }\n\n    function handle_start_expr() {\n        if (!start_of_statement()) {\n            handle_whitespace_and_comments(current_token);\n        }\n\n        var next_mode = MODE.Expression;\n        if (current_token.text === '[') {\n\n            if (last_type === 'TK_WORD' || flags.last_text === ')') {\n                if (last_type === 'TK_RESERVED' && in_array(flags.last_text, tokenizer.line_starters)) {\n                    output.space_before_token = true;\n                }\n                set_mode(next_mode);\n                print_token();\n                indent();\n                if (opt.space_in_paren) {\n                    output.space_before_token = true;\n                }\n                return;\n            }\n\n            next_mode = MODE.ArrayLiteral;\n            if (is_array(flags.mode)) {\n                if (flags.last_text === '[' ||\n                    (flags.last_text === ',' && (last_last_text === ']' || last_last_text === '}'))) {\n                    if (!opt.keep_array_indentation) {\n                        print_newline();\n                    }\n                }\n            }\n\n        } else {\n            if (last_type === 'TK_RESERVED' && flags.last_text === 'for') {\n                next_mode = MODE.ForInitializer;\n            } else if (last_type === 'TK_RESERVED' && in_array(flags.last_text, ['if', 'while'])) {\n                next_mode = MODE.Conditional;\n            } else {\n            }\n        }\n\n        if (flags.last_text === ';' || last_type === 'TK_START_BLOCK') {\n            print_newline();\n        } else if (last_type === 'TK_END_EXPR' || last_type === 'TK_START_EXPR' || last_type === 'TK_END_BLOCK' || flags.last_text === '.') {\n            allow_wrap_or_preserved_newline(current_token.wanted_newline);\n        } else if (!(last_type === 'TK_RESERVED' && current_token.text === '(') && last_type !== 'TK_WORD' && last_type !== 'TK_OPERATOR') {\n            output.space_before_token = true;\n        } else if ((last_type === 'TK_RESERVED' && (flags.last_word === 'function' || flags.last_word === 'typeof')) ||\n            (flags.last_text === '*' &&\n                (in_array(last_last_text, ['function', 'yield']) ||\n                    (flags.mode === MODE.ObjectLiteral && in_array(last_last_text, ['{', ',']))))) {\n            if (opt.space_after_anon_function) {\n                output.space_before_token = true;\n            }\n        } else if (last_type === 'TK_RESERVED' && (in_array(flags.last_text, tokenizer.line_starters) || flags.last_text === 'catch')) {\n            if (opt.space_before_conditional) {\n                output.space_before_token = true;\n            }\n        }\n\n        if (current_token.text === '(' && last_type === 'TK_RESERVED' && in_array(flags.last_word, ['await', 'async'])) {\n            output.space_before_token = true;\n        }\n\n        if (current_token.text === '(') {\n            if (last_type === 'TK_EQUALS' || last_type === 'TK_OPERATOR') {\n                if (!start_of_object_property()) {\n                    allow_wrap_or_preserved_newline();\n                }\n            }\n        }\n\n        if (current_token.text === '(' && last_type !== 'TK_WORD' && last_type !== 'TK_RESERVED') {\n            allow_wrap_or_preserved_newline();\n        }\n\n        set_mode(next_mode);\n        print_token();\n        if (opt.space_in_paren) {\n            output.space_before_token = true;\n        }\n\n        indent();\n    }\n\n    function handle_end_expr() {\n        while (flags.mode === MODE.Statement) {\n            restore_mode();\n        }\n\n        handle_whitespace_and_comments(current_token);\n\n        if (flags.multiline_frame) {\n            allow_wrap_or_preserved_newline(current_token.text === ']' && is_array(flags.mode) && !opt.keep_array_indentation);\n        }\n\n        if (opt.space_in_paren) {\n            if (last_type === 'TK_START_EXPR' && !opt.space_in_empty_paren) {\n                output.trim();\n                output.space_before_token = false;\n            } else {\n                output.space_before_token = true;\n            }\n        }\n        if (current_token.text === ']' && opt.keep_array_indentation) {\n            print_token();\n            restore_mode();\n        } else {\n            restore_mode();\n            print_token();\n        }\n        remove_redundant_indentation(output, previous_flags);\n\n        if (flags.do_while && previous_flags.mode === MODE.Conditional) {\n            previous_flags.mode = MODE.Expression;\n            flags.do_block = false;\n            flags.do_while = false;\n\n        }\n    }\n\n    function handle_start_block() {\n        handle_whitespace_and_comments(current_token);\n\n        var next_token = get_token(1);\n        var second_token = get_token(2);\n        if (second_token && (\n                (in_array(second_token.text, [':', ',']) && in_array(next_token.type, ['TK_STRING', 'TK_WORD', 'TK_RESERVED'])) ||\n                (in_array(next_token.text, ['get', 'set', '...']) && in_array(second_token.type, ['TK_WORD', 'TK_RESERVED']))\n            )) {\n            if (!in_array(last_last_text, ['class', 'interface'])) {\n                set_mode(MODE.ObjectLiteral);\n            } else {\n                set_mode(MODE.BlockStatement);\n            }\n        } else if (last_type === 'TK_OPERATOR' && flags.last_text === '=>') {\n            set_mode(MODE.BlockStatement);\n        } else if (in_array(last_type, ['TK_EQUALS', 'TK_START_EXPR', 'TK_COMMA', 'TK_OPERATOR']) ||\n            (last_type === 'TK_RESERVED' && in_array(flags.last_text, ['return', 'throw', 'import', 'default']))\n        ) {\n            set_mode(MODE.ObjectLiteral);\n        } else {\n            set_mode(MODE.BlockStatement);\n        }\n\n        var empty_braces = !next_token.comments_before.length && next_token.text === '}';\n        var empty_anonymous_function = empty_braces && flags.last_word === 'function' &&\n            last_type === 'TK_END_EXPR';\n\n        if (opt.brace_preserve_inline) \n        {\n            var index = 0;\n            var check_token = null;\n            flags.inline_frame = true;\n            do {\n                index += 1;\n                check_token = get_token(index);\n                if (check_token.wanted_newline) {\n                    flags.inline_frame = false;\n                    break;\n                }\n            } while (check_token.type !== 'TK_EOF' &&\n                !(check_token.type === 'TK_END_BLOCK' && check_token.opened === current_token));\n        }\n\n        if ((opt.brace_style === \"expand\" ||\n                (opt.brace_style === \"none\" && current_token.wanted_newline)) &&\n            !flags.inline_frame) {\n            if (last_type !== 'TK_OPERATOR' &&\n                (empty_anonymous_function ||\n                    last_type === 'TK_EQUALS' ||\n                    (last_type === 'TK_RESERVED' && is_special_word(flags.last_text) && flags.last_text !== 'else'))) {\n                output.space_before_token = true;\n            } else {\n                print_newline(false, true);\n            }\n        } else { \n            if (is_array(previous_flags.mode) && (last_type === 'TK_START_EXPR' || last_type === 'TK_COMMA')) {\n                if (last_type === 'TK_COMMA' || opt.space_in_paren) {\n                    output.space_before_token = true;\n                }\n\n                if (last_type === 'TK_COMMA' || (last_type === 'TK_START_EXPR' && flags.inline_frame)) {\n                    allow_wrap_or_preserved_newline();\n                    previous_flags.multiline_frame = previous_flags.multiline_frame || flags.multiline_frame;\n                    flags.multiline_frame = false;\n                }\n            }\n            if (last_type !== 'TK_OPERATOR' && last_type !== 'TK_START_EXPR') {\n                if (last_type === 'TK_START_BLOCK' && !flags.inline_frame) {\n                    print_newline();\n                } else {\n                    output.space_before_token = true;\n                }\n            }\n        }\n        print_token();\n        indent();\n    }\n\n    function handle_end_block() {\n        handle_whitespace_and_comments(current_token);\n\n        while (flags.mode === MODE.Statement) {\n            restore_mode();\n        }\n\n        var empty_braces = last_type === 'TK_START_BLOCK';\n\n        if (flags.inline_frame && !empty_braces) { \n            output.space_before_token = true;\n        } else if (opt.brace_style === \"expand\") {\n            if (!empty_braces) {\n                print_newline();\n            }\n        } else {\n            if (!empty_braces) {\n                if (is_array(flags.mode) && opt.keep_array_indentation) {\n                    opt.keep_array_indentation = false;\n                    print_newline();\n                    opt.keep_array_indentation = true;\n\n                } else {\n                    print_newline();\n                }\n            }\n        }\n        restore_mode();\n        print_token();\n    }\n\n    function handle_word() {\n        if (current_token.type === 'TK_RESERVED') {\n            if (in_array(current_token.text, ['set', 'get']) && flags.mode !== MODE.ObjectLiteral) {\n                current_token.type = 'TK_WORD';\n            } else if (in_array(current_token.text, ['as', 'from']) && !flags.import_block) {\n                current_token.type = 'TK_WORD';\n            } else if (flags.mode === MODE.ObjectLiteral) {\n                var next_token = get_token(1);\n                if (next_token.text === ':') {\n                    current_token.type = 'TK_WORD';\n                }\n            }\n        }\n\n        if (start_of_statement()) {\n            if (last_type === 'TK_RESERVED' && in_array(flags.last_text, ['var', 'let', 'const']) && current_token.type === 'TK_WORD') {\n                flags.declaration_statement = true;\n            }\n        } else if (current_token.wanted_newline && !is_expression(flags.mode) &&\n            (last_type !== 'TK_OPERATOR' || (flags.last_text === '--' || flags.last_text === '++')) &&\n            last_type !== 'TK_EQUALS' &&\n            (opt.preserve_newlines || !(last_type === 'TK_RESERVED' && in_array(flags.last_text, ['var', 'let', 'const', 'set', 'get'])))) {\n            handle_whitespace_and_comments(current_token);\n            print_newline();\n        } else {\n            handle_whitespace_and_comments(current_token);\n        }\n\n        if (flags.do_block && !flags.do_while) {\n            if (current_token.type === 'TK_RESERVED' && current_token.text === 'while') {\n                output.space_before_token = true;\n                print_token();\n                output.space_before_token = true;\n                flags.do_while = true;\n                return;\n            } else {\n                print_newline();\n                flags.do_block = false;\n            }\n        }\n\n        if (flags.if_block) {\n            if (!flags.else_block && (current_token.type === 'TK_RESERVED' && current_token.text === 'else')) {\n                flags.else_block = true;\n            } else {\n                while (flags.mode === MODE.Statement) {\n                    restore_mode();\n                }\n                flags.if_block = false;\n                flags.else_block = false;\n            }\n        }\n\n        if (current_token.type === 'TK_RESERVED' && (current_token.text === 'case' || (current_token.text === 'default' && flags.in_case_statement))) {\n            print_newline();\n            if (flags.case_body || opt.jslint_happy) {\n                deindent();\n                flags.case_body = false;\n            }\n            print_token();\n            flags.in_case = true;\n            flags.in_case_statement = true;\n            return;\n        }\n\n        if (last_type === 'TK_COMMA' || last_type === 'TK_START_EXPR' || last_type === 'TK_EQUALS' || last_type === 'TK_OPERATOR') {\n            if (!start_of_object_property()) {\n                allow_wrap_or_preserved_newline();\n            }\n        }\n\n        if (current_token.type === 'TK_RESERVED' && current_token.text === 'function') {\n            if (in_array(flags.last_text, ['}', ';']) ||\n                (output.just_added_newline() && !(in_array(flags.last_text, ['(', '[', '{', ':', '=', ',']) || last_type === 'TK_OPERATOR'))) {\n                if (!output.just_added_blankline() && !current_token.comments_before.length) {\n                    print_newline();\n                    print_newline(true);\n                }\n            }\n            if (last_type === 'TK_RESERVED' || last_type === 'TK_WORD') {\n                if (last_type === 'TK_RESERVED' && (\n                        in_array(flags.last_text, ['get', 'set', 'new', 'export', 'async']) ||\n                        in_array(flags.last_text, newline_restricted_tokens))) {\n                    output.space_before_token = true;\n                } else if (last_type === 'TK_RESERVED' && flags.last_text === 'default' && last_last_text === 'export') {\n                    output.space_before_token = true;\n                } else {\n                    print_newline();\n                }\n            } else if (last_type === 'TK_OPERATOR' || flags.last_text === '=') {\n                output.space_before_token = true;\n            } else if (!flags.multiline_frame && (is_expression(flags.mode) || is_array(flags.mode))) {\n            } else {\n                print_newline();\n            }\n\n            print_token();\n            flags.last_word = current_token.text;\n            return;\n        }\n\n        prefix = 'NONE';\n\n        if (last_type === 'TK_END_BLOCK') {\n\n            if (previous_flags.inline_frame) {\n                prefix = 'SPACE';\n            } else if (!(current_token.type === 'TK_RESERVED' && in_array(current_token.text, ['else', 'catch', 'finally', 'from']))) {\n                prefix = 'NEWLINE';\n            } else {\n                if (opt.brace_style === \"expand\" ||\n                    opt.brace_style === \"end-expand\" ||\n                    (opt.brace_style === \"none\" && current_token.wanted_newline)) {\n                    prefix = 'NEWLINE';\n                } else {\n                    prefix = 'SPACE';\n                    output.space_before_token = true;\n                }\n            }\n        } else if (last_type === 'TK_SEMICOLON' && flags.mode === MODE.BlockStatement) {\n            prefix = 'NEWLINE';\n        } else if (last_type === 'TK_SEMICOLON' && is_expression(flags.mode)) {\n            prefix = 'SPACE';\n        } else if (last_type === 'TK_STRING') {\n            prefix = 'NEWLINE';\n        } else if (last_type === 'TK_RESERVED' || last_type === 'TK_WORD' ||\n            (flags.last_text === '*' &&\n                (in_array(last_last_text, ['function', 'yield']) ||\n                    (flags.mode === MODE.ObjectLiteral && in_array(last_last_text, ['{', ',']))))) {\n            prefix = 'SPACE';\n        } else if (last_type === 'TK_START_BLOCK') {\n            if (flags.inline_frame) {\n                prefix = 'SPACE';\n            } else {\n                prefix = 'NEWLINE';\n            }\n        } else if (last_type === 'TK_END_EXPR') {\n            output.space_before_token = true;\n            prefix = 'NEWLINE';\n        }\n\n        if (current_token.type === 'TK_RESERVED' && in_array(current_token.text, tokenizer.line_starters) && flags.last_text !== ')') {\n            if (flags.inline_frame || flags.last_text === 'else' || flags.last_text === 'export') {\n                prefix = 'SPACE';\n            } else {\n                prefix = 'NEWLINE';\n            }\n\n        }\n\n        if (current_token.type === 'TK_RESERVED' && in_array(current_token.text, ['else', 'catch', 'finally'])) {\n            if ((!(last_type === 'TK_END_BLOCK' && previous_flags.mode === MODE.BlockStatement) ||\n                    opt.brace_style === \"expand\" ||\n                    opt.brace_style === \"end-expand\" ||\n                    (opt.brace_style === \"none\" && current_token.wanted_newline)) &&\n                !flags.inline_frame) {\n                print_newline();\n            } else {\n                output.trim(true);\n                var line = output.current_line;\n                if (line.last() !== '}') {\n                    print_newline();\n                }\n                output.space_before_token = true;\n            }\n        } else if (prefix === 'NEWLINE') {\n            if (last_type === 'TK_RESERVED' && is_special_word(flags.last_text)) {\n                output.space_before_token = true;\n            } else if (last_type !== 'TK_END_EXPR') {\n                if ((last_type !== 'TK_START_EXPR' || !(current_token.type === 'TK_RESERVED' && in_array(current_token.text, ['var', 'let', 'const']))) && flags.last_text !== ':') {\n                    if (current_token.type === 'TK_RESERVED' && current_token.text === 'if' && flags.last_text === 'else') {\n                        output.space_before_token = true;\n                    } else {\n                        print_newline();\n                    }\n                }\n            } else if (current_token.type === 'TK_RESERVED' && in_array(current_token.text, tokenizer.line_starters) && flags.last_text !== ')') {\n                print_newline();\n            }\n        } else if (flags.multiline_frame && is_array(flags.mode) && flags.last_text === ',' && last_last_text === '}') {\n            print_newline(); \n        } else if (prefix === 'SPACE') {\n            output.space_before_token = true;\n        }\n        print_token();\n        flags.last_word = current_token.text;\n\n        if (current_token.type === 'TK_RESERVED') {\n            if (current_token.text === 'do') {\n                flags.do_block = true;\n            } else if (current_token.text === 'if') {\n                flags.if_block = true;\n            } else if (current_token.text === 'import') {\n                flags.import_block = true;\n            } else if (flags.import_block && current_token.type === 'TK_RESERVED' && current_token.text === 'from') {\n                flags.import_block = false;\n            }\n        }\n    }\n\n    function handle_semicolon() {\n        if (start_of_statement()) {\n            output.space_before_token = false;\n        } else {\n            handle_whitespace_and_comments(current_token);\n        }\n\n        var next_token = get_token(1);\n        while (flags.mode === MODE.Statement &&\n            !(flags.if_block && next_token && next_token.type === 'TK_RESERVED' && next_token.text === 'else') &&\n            !flags.do_block) {\n            restore_mode();\n        }\n\n        if (flags.import_block) {\n            flags.import_block = false;\n        }\n        print_token();\n    }\n\n    function handle_string() {\n        if (start_of_statement()) {\n            output.space_before_token = true;\n        } else {\n            handle_whitespace_and_comments(current_token);\n            if (last_type === 'TK_RESERVED' || last_type === 'TK_WORD' || flags.inline_frame) {\n                output.space_before_token = true;\n            } else if (last_type === 'TK_COMMA' || last_type === 'TK_START_EXPR' || last_type === 'TK_EQUALS' || last_type === 'TK_OPERATOR') {\n                if (!start_of_object_property()) {\n                    allow_wrap_or_preserved_newline();\n                }\n            } else {\n                print_newline();\n            }\n        }\n        print_token();\n    }\n\n    function handle_equals() {\n        if (start_of_statement()) {\n        } else {\n            handle_whitespace_and_comments(current_token);\n        }\n\n        if (flags.declaration_statement) {\n            flags.declaration_assignment = true;\n        }\n        output.space_before_token = true;\n        print_token();\n        output.space_before_token = true;\n    }\n\n    function handle_comma() {\n        handle_whitespace_and_comments(current_token, true);\n\n        print_token();\n        output.space_before_token = true;\n        if (flags.declaration_statement) {\n            if (is_expression(flags.parent.mode)) {\n                flags.declaration_assignment = false;\n            }\n\n            if (flags.declaration_assignment) {\n                flags.declaration_assignment = false;\n                print_newline(false, true);\n            } else if (opt.comma_first) {\n                allow_wrap_or_preserved_newline();\n            }\n        } else if (flags.mode === MODE.ObjectLiteral ||\n            (flags.mode === MODE.Statement && flags.parent.mode === MODE.ObjectLiteral)) {\n            if (flags.mode === MODE.Statement) {\n                restore_mode();\n            }\n\n            if (!flags.inline_frame) {\n                print_newline();\n            }\n        } else if (opt.comma_first) {\n            allow_wrap_or_preserved_newline();\n        }\n    }\n\n    function handle_operator() {\n        var isGeneratorAsterisk = current_token.text === '*' &&\n            ((last_type === 'TK_RESERVED' && in_array(flags.last_text, ['function', 'yield'])) ||\n                (in_array(last_type, ['TK_START_BLOCK', 'TK_COMMA', 'TK_END_BLOCK', 'TK_SEMICOLON']))\n            );\n        var isUnary = in_array(current_token.text, ['-', '+']) && (\n            in_array(last_type, ['TK_START_BLOCK', 'TK_START_EXPR', 'TK_EQUALS', 'TK_OPERATOR']) ||\n            in_array(flags.last_text, tokenizer.line_starters) ||\n            flags.last_text === ','\n        );\n\n        if (start_of_statement()) {\n        } else {\n            var preserve_statement_flags = !isGeneratorAsterisk;\n            handle_whitespace_and_comments(current_token, preserve_statement_flags);\n        }\n\n        if (last_type === 'TK_RESERVED' && is_special_word(flags.last_text)) {\n            output.space_before_token = true;\n            print_token();\n            return;\n        }\n\n        if (current_token.text === '*' && last_type === 'TK_DOT') {\n            print_token();\n            return;\n        }\n\n        if (current_token.text === '::') {\n            print_token();\n            return;\n        }\n\n        if (last_type === 'TK_OPERATOR' && in_array(opt.operator_position, OPERATOR_POSITION_BEFORE_OR_PRESERVE)) {\n            allow_wrap_or_preserved_newline();\n        }\n\n        if (current_token.text === ':' && flags.in_case) {\n            flags.case_body = true;\n            indent();\n            print_token();\n            print_newline();\n            flags.in_case = false;\n            return;\n        }\n\n        var space_before = true;\n        var space_after = true;\n        var in_ternary = false;\n        if (current_token.text === ':') {\n            if (flags.ternary_depth === 0) {\n                space_before = false;\n            } else {\n                flags.ternary_depth -= 1;\n                in_ternary = true;\n            }\n        } else if (current_token.text === '?') {\n            flags.ternary_depth += 1;\n        }\n\n        if (!isUnary && !isGeneratorAsterisk && opt.preserve_newlines && in_array(current_token.text, tokenizer.positionable_operators)) {\n            var isColon = current_token.text === ':';\n            var isTernaryColon = (isColon && in_ternary);\n            var isOtherColon = (isColon && !in_ternary);\n\n            switch (opt.operator_position) {\n                case OPERATOR_POSITION.before_newline:\n                    output.space_before_token = !isOtherColon;\n\n                    print_token();\n\n                    if (!isColon || isTernaryColon) {\n                        allow_wrap_or_preserved_newline();\n                    }\n\n                    output.space_before_token = true;\n                    return;\n\n                case OPERATOR_POSITION.after_newline:\n\n                    output.space_before_token = true;\n\n                    if (!isColon || isTernaryColon) {\n                        if (get_token(1).wanted_newline) {\n                            print_newline(false, true);\n                        } else {\n                            allow_wrap_or_preserved_newline();\n                        }\n                    } else {\n                        output.space_before_token = false;\n                    }\n\n                    print_token();\n\n                    output.space_before_token = true;\n                    return;\n\n                case OPERATOR_POSITION.preserve_newline:\n                    if (!isOtherColon) {\n                        allow_wrap_or_preserved_newline();\n                    }\n\n                    space_before = !(output.just_added_newline() || isOtherColon);\n\n                    output.space_before_token = space_before;\n                    print_token();\n                    output.space_before_token = true;\n                    return;\n            }\n        }\n\n        if (isGeneratorAsterisk) {\n            allow_wrap_or_preserved_newline();\n            space_before = false;\n            var next_token = get_token(1);\n            space_after = next_token && in_array(next_token.type, ['TK_WORD', 'TK_RESERVED']);\n        } else if (current_token.text === '...') {\n            allow_wrap_or_preserved_newline();\n            space_before = last_type === 'TK_START_BLOCK';\n            space_after = false;\n        } else if (in_array(current_token.text, ['--', '++', '!', '~']) || isUnary) {\n\n            space_before = false;\n            space_after = false;\n\n            if (current_token.wanted_newline && (current_token.text === '--' || current_token.text === '++')) {\n                print_newline(false, true);\n            }\n\n            if (flags.last_text === ';' && is_expression(flags.mode)) {\n                space_before = true;\n            }\n\n            if (last_type === 'TK_RESERVED') {\n                space_before = true;\n            } else if (last_type === 'TK_END_EXPR') {\n                space_before = !(flags.last_text === ']' && (current_token.text === '--' || current_token.text === '++'));\n            } else if (last_type === 'TK_OPERATOR') {\n                space_before = in_array(current_token.text, ['--', '-', '++', '+']) && in_array(flags.last_text, ['--', '-', '++', '+']);\n                if (in_array(current_token.text, ['+', '-']) && in_array(flags.last_text, ['--', '++'])) {\n                    space_after = true;\n                }\n            }\n\n\n            if (((flags.mode === MODE.BlockStatement && !flags.inline_frame) || flags.mode === MODE.Statement) &&\n                (flags.last_text === '{' || flags.last_text === ';')) {\n                print_newline();\n            }\n        }\n\n        output.space_before_token = output.space_before_token || space_before;\n        print_token();\n        output.space_before_token = space_after;\n    }\n\n    function handle_block_comment(preserve_statement_flags) {\n        if (output.raw) {\n            output.add_raw_token(current_token);\n            if (current_token.directives && current_token.directives.preserve === 'end') {\n                output.raw = opt.test_output_raw;\n            }\n            return;\n        }\n\n        if (current_token.directives) {\n            print_newline(false, preserve_statement_flags);\n            print_token();\n            if (current_token.directives.preserve === 'start') {\n                output.raw = true;\n            }\n            print_newline(false, true);\n            return;\n        }\n\n        if (!acorn.newline.test(current_token.text) && !current_token.wanted_newline) {\n            output.space_before_token = true;\n            print_token();\n            output.space_before_token = true;\n            return;\n        }\n\n        var lines = split_linebreaks(current_token.text);\n        var j; \n        var javadoc = false;\n        var starless = false;\n        var lastIndent = current_token.whitespace_before;\n        var lastIndentLength = lastIndent.length;\n\n        print_newline(false, preserve_statement_flags);\n        if (lines.length > 1) {\n            javadoc = all_lines_start_with(lines.slice(1), '*');\n            starless = each_line_matches_indent(lines.slice(1), lastIndent);\n        }\n\n        print_token(lines[0]);\n        for (j = 1; j < lines.length; j++) {\n            print_newline(false, true);\n            if (javadoc) {\n                print_token(' ' + ltrim(lines[j]));\n            } else if (starless && lines[j].length > lastIndentLength) {\n                print_token(lines[j].substring(lastIndentLength));\n            } else {\n                output.add_token(lines[j]);\n            }\n        }\n\n        print_newline(false, preserve_statement_flags);\n    }\n\n    function handle_comment(preserve_statement_flags) {\n        if (current_token.wanted_newline) {\n            print_newline(false, preserve_statement_flags);\n        } else {\n            output.trim(true);\n        }\n\n        output.space_before_token = true;\n        print_token();\n        print_newline(false, preserve_statement_flags);\n    }\n\n    function handle_dot() {\n        if (start_of_statement()) {\n        } else {\n            handle_whitespace_and_comments(current_token, true);\n        }\n\n        if (last_type === 'TK_RESERVED' && is_special_word(flags.last_text)) {\n            output.space_before_token = true;\n        } else {\n            allow_wrap_or_preserved_newline(flags.last_text === ')' && opt.break_chained_methods);\n        }\n\n        print_token();\n    }\n\n    function handle_unknown(preserve_statement_flags) {\n        print_token();\n\n        if (current_token.text[current_token.text.length - 1] === '\\n') {\n            print_newline(false, preserve_statement_flags);\n        }\n    }\n\n    function handle_eof() {\n        while (flags.mode === MODE.Statement) {\n            restore_mode();\n        }\n        handle_whitespace_and_comments(current_token);\n    }\n}\n\nmodule.exports.Beautifier = Beautifier;\n\n }),\n (function(module, exports) {\n\n\nfunction InputScanner(input) {\n    var _input = input;\n    var _input_length = _input.length;\n    var _position = 0;\n\n    this.back = function() {\n        _position -= 1;\n    };\n\n    this.hasNext = function() {\n        return _position < _input_length;\n    };\n\n    this.next = function() {\n        var val = null;\n        if (this.hasNext()) {\n            val = _input.charAt(_position);\n            _position += 1;\n        }\n        return val;\n    };\n\n    this.peek = function(index) {\n        var val = null;\n        index = index || 0;\n        index += _position;\n        if (index >= 0 && index < _input_length) {\n            val = _input.charAt(index);\n        }\n        return val;\n    };\n\n    this.peekCharCode = function(index) {\n        var val = 0;\n        index = index || 0;\n        index += _position;\n        if (index >= 0 && index < _input_length) {\n            val = _input.charCodeAt(index);\n        }\n        return val;\n    };\n\n    this.test = function(pattern, index) {\n        index = index || 0;\n        pattern.lastIndex = _position + index;\n        return pattern.test(_input);\n    };\n\n    this.testChar = function(pattern, index) {\n        var val = this.peek(index);\n        return val !== null && pattern.test(val);\n    };\n\n    this.match = function(pattern) {\n        pattern.lastIndex = _position;\n        var pattern_match = pattern.exec(_input);\n        if (pattern_match && pattern_match.index === _position) {\n            _position += pattern_match[0].length;\n        } else {\n            pattern_match = null;\n        }\n        return pattern_match;\n    };\n}\n\n\nmodule.exports.InputScanner = InputScanner;\n\n\n }),\n (function(module, exports) {\n\n\nfunction mergeOpts(allOptions, targetType) {\n    var finalOpts = {};\n    var name;\n\n    for (name in allOptions) {\n        if (name !== targetType) {\n            finalOpts[name] = allOptions[name];\n        }\n    }\n\n    if (targetType in allOptions) {\n        for (name in allOptions[targetType]) {\n            finalOpts[name] = allOptions[targetType][name];\n        }\n    }\n    return finalOpts;\n}\n\nmodule.exports.mergeOpts = mergeOpts;\n\n\n }),\n (function(module, exports) {\n\n\nfunction OutputLine(parent) {\n    var _character_count = 0;\n    var _indent_count = -1;\n\n    var _items = [];\n    var _empty = true;\n\n    this.set_indent = function(level) {\n        _character_count = parent.baseIndentLength + level * parent.indent_length;\n        _indent_count = level;\n    };\n\n    this.get_character_count = function() {\n        return _character_count;\n    };\n\n    this.is_empty = function() {\n        return _empty;\n    };\n\n    this.last = function() {\n        if (!this._empty) {\n            return _items[_items.length - 1];\n        } else {\n            return null;\n        }\n    };\n\n    this.push = function(input) {\n        _items.push(input);\n        _character_count += input.length;\n        _empty = false;\n    };\n\n    this.pop = function() {\n        var item = null;\n        if (!_empty) {\n            item = _items.pop();\n            _character_count -= item.length;\n            _empty = _items.length === 0;\n        }\n        return item;\n    };\n\n    this.remove_indent = function() {\n        if (_indent_count > 0) {\n            _indent_count -= 1;\n            _character_count -= parent.indent_length;\n        }\n    };\n\n    this.trim = function() {\n        while (this.last() === ' ') {\n            _items.pop();\n            _character_count -= 1;\n        }\n        _empty = _items.length === 0;\n    };\n\n    this.toString = function() {\n        var result = '';\n        if (!this._empty) {\n            if (_indent_count >= 0) {\n                result = parent.indent_cache[_indent_count];\n            }\n            result += _items.join('');\n        }\n        return result;\n    };\n}\n\nfunction Output(indent_string, baseIndentString) {\n    baseIndentString = baseIndentString || '';\n    this.indent_cache = [baseIndentString];\n    this.baseIndentLength = baseIndentString.length;\n    this.indent_length = indent_string.length;\n    this.raw = false;\n\n    var lines = [];\n    this.baseIndentString = baseIndentString;\n    this.indent_string = indent_string;\n    this.previous_line = null;\n    this.current_line = null;\n    this.space_before_token = false;\n\n    this.add_outputline = function() {\n        this.previous_line = this.current_line;\n        this.current_line = new OutputLine(this);\n        lines.push(this.current_line);\n    };\n\n    this.add_outputline();\n\n\n    this.get_line_number = function() {\n        return lines.length;\n    };\n\n    this.add_new_line = function(force_newline) {\n        if (this.get_line_number() === 1 && this.just_added_newline()) {\n            return false; \n        }\n\n        if (force_newline || !this.just_added_newline()) {\n            if (!this.raw) {\n                this.add_outputline();\n            }\n            return true;\n        }\n\n        return false;\n    };\n\n    this.get_code = function(end_with_newline, eol) {\n        var sweet_code = lines.join('\\n').replace(/[\\r\\n\\t ]+$/, '');\n\n        if (end_with_newline) {\n            sweet_code += '\\n';\n        }\n\n        if (eol !== '\\n') {\n            sweet_code = sweet_code.replace(/[\\n]/g, eol);\n        }\n\n        return sweet_code;\n    };\n\n    this.set_indent = function(level) {\n        if (lines.length > 1) {\n            while (level >= this.indent_cache.length) {\n                this.indent_cache.push(this.indent_cache[this.indent_cache.length - 1] + this.indent_string);\n            }\n\n            this.current_line.set_indent(level);\n            return true;\n        }\n        this.current_line.set_indent(0);\n        return false;\n    };\n\n    this.add_raw_token = function(token) {\n        for (var x = 0; x < token.newlines; x++) {\n            this.add_outputline();\n        }\n        this.current_line.push(token.whitespace_before);\n        this.current_line.push(token.text);\n        this.space_before_token = false;\n    };\n\n    this.add_token = function(printable_token) {\n        this.add_space_before_token();\n        this.current_line.push(printable_token);\n    };\n\n    this.add_space_before_token = function() {\n        if (this.space_before_token && !this.just_added_newline()) {\n            this.current_line.push(' ');\n        }\n        this.space_before_token = false;\n    };\n\n    this.remove_indent = function(index) {\n        var output_length = lines.length;\n        while (index < output_length) {\n            lines[index].remove_indent();\n            index++;\n        }\n    };\n\n    this.trim = function(eat_newlines) {\n        eat_newlines = (eat_newlines === undefined) ? false : eat_newlines;\n\n        this.current_line.trim(indent_string, baseIndentString);\n\n        while (eat_newlines && lines.length > 1 &&\n            this.current_line.is_empty()) {\n            lines.pop();\n            this.current_line = lines[lines.length - 1];\n            this.current_line.trim();\n        }\n\n        this.previous_line = lines.length > 1 ? lines[lines.length - 2] : null;\n    };\n\n    this.just_added_newline = function() {\n        return this.current_line.is_empty();\n    };\n\n    this.just_added_blankline = function() {\n        if (this.just_added_newline()) {\n            if (lines.length === 1) {\n                return true; \n            }\n\n            var line = lines[lines.length - 2];\n            return line.is_empty();\n        }\n        return false;\n    };\n}\n\nmodule.exports.Output = Output;\n\n\n }),\n (function(module, exports) {\n\n\nfunction Token(type, text, newlines, whitespace_before, parent) {\n    this.type = type;\n    this.text = text;\n\n    this.comments_before =  [];\n\n\n    this.comments_after = []; \n    this.newlines = newlines || 0;\n    this.wanted_newline = newlines > 0;\n    this.whitespace_before = whitespace_before || '';\n    this.parent = parent || null;\n    this.opened = null;\n    this.directives = null;\n}\n\nmodule.exports.Token = Token;\n\n\n }),\n (function(module, exports, __webpack_require__) {\n\n\nvar Beautifier = __webpack_require__(1).Beautifier;\n\nfunction js_beautify(js_source_text, options) {\n    var beautifier = new Beautifier(js_source_text, options);\n    return beautifier.beautify();\n}\n\nmodule.exports = js_beautify;\n\n }),\n (function(module, exports, __webpack_require__) {\n\n\nvar InputScanner = __webpack_require__(2).InputScanner;\nvar Token = __webpack_require__(5).Token;\nvar acorn = __webpack_require__(0);\n\nfunction trim(s) {\n    return s.replace(/^\\s+|\\s+$/g, '');\n}\n\nfunction in_array(what, arr) {\n    for (var i = 0; i < arr.length; i += 1) {\n        if (arr[i] === what) {\n            return true;\n        }\n    }\n    return false;\n}\n\nfunction Tokenizer(input_string, opts) {\n\n    var whitespace = \"\\n\\r\\t \".split('');\n    var digit = /[0-9]/;\n    var digit_bin = /[01]/;\n    var digit_oct = /[01234567]/;\n    var digit_hex = /[0123456789abcdefABCDEF]/;\n\n    this.positionable_operators = '!= !== % & && * ** + - / : < << <= == === > >= >> >>> ? ^ | ||'.split(' ');\n    var punct = this.positionable_operators.concat(\n        '! %= &= *= **= ++ += , -- -= /= :: <<= = => >>= >>>= ^= |= ~ ...'.split(' '));\n\n    this.line_starters = 'continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export'.split(',');\n    var reserved_words = this.line_starters.concat(['do', 'in', 'of', 'else', 'get', 'set', 'new', 'catch', 'finally', 'typeof', 'yield', 'async', 'await', 'from', 'as']);\n\n    var block_comment_pattern = /([\\s\\S]*?)((?:\\*\\/)|$)/g;\n\n    var comment_pattern = /([^\\n\\r\\u2028\\u2029]*)/g;\n\n    var directives_block_pattern = /\\/\\* beautify( \\w+[:]\\w+)+ \\*\\//g;\n    var directive_pattern = / (\\w+)[:](\\w+)/g;\n    var directives_end_ignore_pattern = /([\\s\\S]*?)((?:\\/\\*\\sbeautify\\signore:end\\s\\*\\/)|$)/g;\n\n    var template_pattern = /((<\\?php|<\\?=)[\\s\\S]*?\\?>)|(<%[\\s\\S]*?%>)/g;\n\n    var n_newlines, whitespace_before_token, in_html_comment, tokens;\n    var input;\n\n    this.tokenize = function() {\n        input = new InputScanner(input_string);\n        in_html_comment = false;\n        tokens = [];\n\n        var next, last;\n        var token_values;\n        var open = null;\n        var open_stack = [];\n        var comments = [];\n\n        while (!(last && last.type === 'TK_EOF')) {\n            token_values = tokenize_next();\n            next = new Token(token_values[1], token_values[0], n_newlines, whitespace_before_token);\n            while (next.type === 'TK_COMMENT' || next.type === 'TK_BLOCK_COMMENT' || next.type === 'TK_UNKNOWN') {\n                if (next.type === 'TK_BLOCK_COMMENT') {\n                    next.directives = token_values[2];\n                }\n                comments.push(next);\n                token_values = tokenize_next();\n                next = new Token(token_values[1], token_values[0], n_newlines, whitespace_before_token);\n            }\n\n            if (comments.length) {\n                next.comments_before = comments;\n                comments = [];\n            }\n\n            if (next.type === 'TK_START_BLOCK' || next.type === 'TK_START_EXPR') {\n                next.parent = last;\n                open_stack.push(open);\n                open = next;\n            } else if ((next.type === 'TK_END_BLOCK' || next.type === 'TK_END_EXPR') &&\n                (open && (\n                    (next.text === ']' && open.text === '[') ||\n                    (next.text === ')' && open.text === '(') ||\n                    (next.text === '}' && open.text === '{')))) {\n                next.parent = open.parent;\n                next.opened = open;\n\n                open = open_stack.pop();\n            }\n\n            tokens.push(next);\n            last = next;\n        }\n\n        return tokens;\n    };\n\n    function get_directives(text) {\n        if (!text.match(directives_block_pattern)) {\n            return null;\n        }\n\n        var directives = {};\n        directive_pattern.lastIndex = 0;\n        var directive_match = directive_pattern.exec(text);\n\n        while (directive_match) {\n            directives[directive_match[1]] = directive_match[2];\n            directive_match = directive_pattern.exec(text);\n        }\n\n        return directives;\n    }\n\n    function tokenize_next() {\n        var resulting_string;\n        var whitespace_on_this_line = [];\n\n        n_newlines = 0;\n        whitespace_before_token = '';\n\n        var c = input.next();\n\n        if (c === null) {\n            return ['', 'TK_EOF'];\n        }\n\n        var last_token;\n        if (tokens.length) {\n            last_token = tokens[tokens.length - 1];\n        } else {\n            last_token = new Token('TK_START_BLOCK', '{');\n        }\n\n        while (in_array(c, whitespace)) {\n\n            if (acorn.newline.test(c)) {\n                if (!(c === '\\n' && input.peek(-2) === '\\r')) {\n                    n_newlines += 1;\n                    whitespace_on_this_line = [];\n                }\n            } else {\n                whitespace_on_this_line.push(c);\n            }\n\n            c = input.next();\n\n            if (c === null) {\n                return ['', 'TK_EOF'];\n            }\n        }\n\n        if (whitespace_on_this_line.length) {\n            whitespace_before_token = whitespace_on_this_line.join('');\n        }\n\n        if (digit.test(c) || (c === '.' && input.testChar(digit))) {\n            var allow_decimal = true;\n            var allow_e = true;\n            var local_digit = digit;\n\n            if (c === '0' && input.testChar(/[XxOoBb]/)) {\n                allow_decimal = false;\n                allow_e = false;\n                if (input.testChar(/[Bb]/)) {\n                    local_digit = digit_bin;\n                } else if (input.testChar(/[Oo]/)) {\n                    local_digit = digit_oct;\n                } else {\n                    local_digit = digit_hex;\n                }\n                c += input.next();\n            } else if (c === '.') {\n                allow_decimal = false;\n            } else {\n                c = '';\n                input.back();\n            }\n\n            while (input.testChar(local_digit)) {\n                c += input.next();\n\n                if (allow_decimal && input.peek() === '.') {\n                    c += input.next();\n                    allow_decimal = false;\n                }\n\n                if (allow_e && input.testChar(/[Ee]/)) {\n                    c += input.next();\n\n                    if (input.testChar(/[+-]/)) {\n                        c += input.next();\n                    }\n\n                    allow_e = false;\n                    allow_decimal = false;\n                }\n            }\n\n            return [c, 'TK_WORD'];\n        }\n\n        if (acorn.isIdentifierStart(input.peekCharCode(-1))) {\n            if (input.hasNext()) {\n                while (acorn.isIdentifierChar(input.peekCharCode())) {\n                    c += input.next();\n                    if (!input.hasNext()) {\n                        break;\n                    }\n                }\n            }\n\n            if (!(last_token.type === 'TK_DOT' ||\n                    (last_token.type === 'TK_RESERVED' && in_array(last_token.text, ['set', 'get']))) &&\n                in_array(c, reserved_words)) {\n                if (c === 'in' || c === 'of') { \n                    return [c, 'TK_OPERATOR'];\n                }\n                return [c, 'TK_RESERVED'];\n            }\n\n            return [c, 'TK_WORD'];\n        }\n\n        if (c === '(' || c === '[') {\n            return [c, 'TK_START_EXPR'];\n        }\n\n        if (c === ')' || c === ']') {\n            return [c, 'TK_END_EXPR'];\n        }\n\n        if (c === '{') {\n            return [c, 'TK_START_BLOCK'];\n        }\n\n        if (c === '}') {\n            return [c, 'TK_END_BLOCK'];\n        }\n\n        if (c === ';') {\n            return [c, 'TK_SEMICOLON'];\n        }\n\n        if (c === '/') {\n            var comment = '';\n            var comment_match;\n            if (input.peek() === '*') {\n                input.next();\n                comment_match = input.match(block_comment_pattern);\n                comment = '/*' + comment_match[0];\n                var directives = get_directives(comment);\n                if (directives && directives.ignore === 'start') {\n                    comment_match = input.match(directives_end_ignore_pattern);\n                    comment += comment_match[0];\n                }\n                comment = comment.replace(acorn.allLineBreaks, '\\n');\n                return [comment, 'TK_BLOCK_COMMENT', directives];\n            }\n            if (input.peek() === '/') {\n                input.next();\n                comment_match = input.match(comment_pattern);\n                comment = '//' + comment_match[0];\n                return [comment, 'TK_COMMENT'];\n            }\n\n        }\n\n        var startXmlRegExp = /<()([-a-zA-Z:0-9_.]+|{[\\s\\S]+?}|!\\[CDATA\\[[\\s\\S]*?\\]\\])(\\s+{[\\s\\S]+?}|\\s+[-a-zA-Z:0-9_.]+|\\s+[-a-zA-Z:0-9_.]+\\s*=\\s*('[^']*'|\"[^\"]*\"|{[\\s\\S]+?}))*\\s*(\\/?)\\s*>/g;\n\n        if (c === '`' || c === \"'\" || c === '\"' || \n            (\n                (c === '/') || \n                (opts.e4x && c === \"<\" && input.test(startXmlRegExp, -1)) \n            ) && ( \n                (last_token.type === 'TK_RESERVED' && in_array(last_token.text, ['return', 'case', 'throw', 'else', 'do', 'typeof', 'yield'])) ||\n                (last_token.type === 'TK_END_EXPR' && last_token.text === ')' &&\n                    last_token.parent && last_token.parent.type === 'TK_RESERVED' && in_array(last_token.parent.text, ['if', 'while', 'for'])) ||\n                (in_array(last_token.type, ['TK_COMMENT', 'TK_START_EXPR', 'TK_START_BLOCK',\n                    'TK_END_BLOCK', 'TK_OPERATOR', 'TK_EQUALS', 'TK_EOF', 'TK_SEMICOLON', 'TK_COMMA'\n                ]))\n            )) {\n\n            var sep = c,\n                esc = false,\n                has_char_escapes = false;\n\n            resulting_string = c;\n\n            if (sep === '/') {\n                var in_char_class = false;\n                while (input.hasNext() &&\n                    ((esc || in_char_class || input.peek() !== sep) &&\n                        !input.testChar(acorn.newline))) {\n                    resulting_string += input.peek();\n                    if (!esc) {\n                        esc = input.peek() === '\\\\';\n                        if (input.peek() === '[') {\n                            in_char_class = true;\n                        } else if (input.peek() === ']') {\n                            in_char_class = false;\n                        }\n                    } else {\n                        esc = false;\n                    }\n                    input.next();\n                }\n            } else if (opts.e4x && sep === '<') {\n\n                var xmlRegExp = /[\\s\\S]*?<(\\/?)([-a-zA-Z:0-9_.]+|{[\\s\\S]+?}|!\\[CDATA\\[[\\s\\S]*?\\]\\])(\\s+{[\\s\\S]+?}|\\s+[-a-zA-Z:0-9_.]+|\\s+[-a-zA-Z:0-9_.]+\\s*=\\s*('[^']*'|\"[^\"]*\"|{[\\s\\S]+?}))*\\s*(\\/?)\\s*>/g;\n                input.back();\n                var xmlStr = '';\n                var match = input.match(startXmlRegExp);\n                if (match) {\n                    var rootTag = match[2].replace(/^{\\s+/, '{').replace(/\\s+}$/, '}');\n                    var isCurlyRoot = rootTag.indexOf('{') === 0;\n                    var depth = 0;\n                    while (match) {\n                        var isEndTag = !!match[1];\n                        var tagName = match[2];\n                        var isSingletonTag = (!!match[match.length - 1]) || (tagName.slice(0, 8) === \"![CDATA[\");\n                        if (!isSingletonTag &&\n                            (tagName === rootTag || (isCurlyRoot && tagName.replace(/^{\\s+/, '{').replace(/\\s+}$/, '}')))) {\n                            if (isEndTag) {\n                                --depth;\n                            } else {\n                                ++depth;\n                            }\n                        }\n                        xmlStr += match[0];\n                        if (depth <= 0) {\n                            break;\n                        }\n                        match = input.match(xmlRegExp);\n                    }\n                    if (!match) {\n                        xmlStr += input.match(/[\\s\\S]*/g)[0];\n                    }\n                    xmlStr = xmlStr.replace(acorn.allLineBreaks, '\\n');\n                    return [xmlStr, \"TK_STRING\"];\n                }\n            } else {\n                var parse_string = function(delimiter, allow_unescaped_newlines, start_sub) {\n                    var current_char;\n                    while (input.hasNext()) {\n                        current_char = input.peek();\n                        if (!(esc || (current_char !== delimiter &&\n                                (allow_unescaped_newlines || !acorn.newline.test(current_char))))) {\n                            break;\n                        }\n\n                        if ((esc || allow_unescaped_newlines) && acorn.newline.test(current_char)) {\n                            if (current_char === '\\r' && input.peek(1) === '\\n') {\n                                input.next();\n                                current_char = input.peek();\n                            }\n                            resulting_string += '\\n';\n                        } else {\n                            resulting_string += current_char;\n                        }\n\n                        if (esc) {\n                            if (current_char === 'x' || current_char === 'u') {\n                                has_char_escapes = true;\n                            }\n                            esc = false;\n                        } else {\n                            esc = current_char === '\\\\';\n                        }\n\n                        input.next();\n\n                        if (start_sub && resulting_string.indexOf(start_sub, resulting_string.length - start_sub.length) !== -1) {\n                            if (delimiter === '`') {\n                                parse_string('}', allow_unescaped_newlines, '`');\n                            } else {\n                                parse_string('`', allow_unescaped_newlines, '${');\n                            }\n\n                            if (input.hasNext()) {\n                                resulting_string += input.next();\n                            }\n                        }\n                    }\n                };\n\n                if (sep === '`') {\n                    parse_string('`', true, '${');\n                } else {\n                    parse_string(sep);\n                }\n            }\n\n            if (has_char_escapes && opts.unescape_strings) {\n                resulting_string = unescape_string(resulting_string);\n            }\n\n            if (input.peek() === sep) {\n                resulting_string += sep;\n                input.next();\n\n                if (sep === '/') {\n                    while (input.hasNext() && acorn.isIdentifierStart(input.peekCharCode())) {\n                        resulting_string += input.next();\n                    }\n                }\n            }\n            return [resulting_string, 'TK_STRING'];\n        }\n\n        if (c === '#') {\n\n            if (tokens.length === 0 && input.peek() === '!') {\n                resulting_string = c;\n                while (input.hasNext() && c !== '\\n') {\n                    c = input.next();\n                    resulting_string += c;\n                }\n                return [trim(resulting_string) + '\\n', 'TK_UNKNOWN'];\n            }\n\n\n\n            var sharp = '#';\n            if (input.hasNext() && input.testChar(digit)) {\n                do {\n                    c = input.next();\n                    sharp += c;\n                } while (input.hasNext() && c !== '#' && c !== '=');\n                if (c === '#') {\n                } else if (input.peek() === '[' && input.peek(1) === ']') {\n                    sharp += '[]';\n                    input.next();\n                    input.next();\n                } else if (input.peek() === '{' && input.peek(1) === '}') {\n                    sharp += '{}';\n                    input.next();\n                    input.next();\n                }\n                return [sharp, 'TK_WORD'];\n            }\n        }\n\n        if (c === '<' && (input.peek() === '?' || input.peek() === '%')) {\n            input.back();\n            var template_match = input.match(template_pattern);\n            if (template_match) {\n                c = template_match[0];\n                c = c.replace(acorn.allLineBreaks, '\\n');\n                return [c, 'TK_STRING'];\n            }\n        }\n\n        if (c === '<' && input.match(/\\!--/g)) {\n            c = '<!--';\n            while (input.hasNext() && !input.testChar(acorn.newline)) {\n                c += input.next();\n            }\n            in_html_comment = true;\n            return [c, 'TK_COMMENT'];\n        }\n\n        if (c === '-' && in_html_comment && input.match(/->/g)) {\n            in_html_comment = false;\n            return ['-->', 'TK_COMMENT'];\n        }\n\n        if (c === '.') {\n            if (input.peek() === '.' && input.peek(1) === '.') {\n                c += input.next() + input.next();\n                return [c, 'TK_OPERATOR'];\n            }\n            return [c, 'TK_DOT'];\n        }\n\n        if (in_array(c, punct)) {\n            while (input.hasNext() && in_array(c + input.peek(), punct)) {\n                c += input.next();\n                if (!input.hasNext()) {\n                    break;\n                }\n            }\n\n            if (c === ',') {\n                return [c, 'TK_COMMA'];\n            } else if (c === '=') {\n                return [c, 'TK_EQUALS'];\n            } else {\n                return [c, 'TK_OPERATOR'];\n            }\n        }\n\n        return [c, 'TK_UNKNOWN'];\n    }\n\n\n    function unescape_string(s) {\n        var out = '',\n            escaped = 0;\n\n        var input_scan = new InputScanner(s);\n        var matched = null;\n\n        while (input_scan.hasNext()) {\n            matched = input_scan.match(/([\\s]|[^\\\\]|\\\\\\\\)+/g);\n\n            if (matched) {\n                out += matched[0];\n            }\n\n            if (input_scan.peek() === '\\\\') {\n                input_scan.next();\n                if (input_scan.peek() === 'x') {\n                    matched = input_scan.match(/x([0-9A-Fa-f]{2})/g);\n                } else if (input_scan.peek() === 'u') {\n                    matched = input_scan.match(/u([0-9A-Fa-f]{4})/g);\n                } else {\n                    out += '\\\\';\n                    if (input_scan.hasNext()) {\n                        out += input_scan.next();\n                    }\n                    continue;\n                }\n\n                if (!matched) {\n                    return s;\n                }\n\n                escaped = parseInt(matched[1], 16);\n\n                if (escaped > 0x7e && escaped <= 0xff && matched[0].indexOf('x') === 0) {\n                    return s;\n                } else if (escaped >= 0x00 && escaped < 0x20) {\n                    out += '\\\\' + matched[0];\n                    continue;\n                } else if (escaped === 0x22 || escaped === 0x27 || escaped === 0x5c) {\n                    out += '\\\\' + String.fromCharCode(escaped);\n                } else {\n                    out += String.fromCharCode(escaped);\n                }\n            }\n        }\n\n        return out;\n    }\n}\n\nmodule.exports.Tokenizer = Tokenizer;\n\n })\n ]);\nvar js_beautify = legacy_beautify_js;\nif (typeof define === \"function\" && define.amd) {\n    define([], function() {\n        return { js_beautify: js_beautify };\n    });\n} else if (typeof exports !== \"undefined\") {\n    exports.js_beautify = js_beautify;\n} else if (typeof window !== \"undefined\") {\n    window.js_beautify = js_beautify;\n} else if (typeof global !== \"undefined\") {\n    global.js_beautify = js_beautify;\n}\n\n}());\n\n'use strict';\n\nangular.module('ui.codemirror', [])\n  .constant('uiCodemirrorConfig', {})\n  .directive('uiCodemirror', uiCodemirrorDirective);\n\nfunction uiCodemirrorDirective($timeout, uiCodemirrorConfig) {\n\n  return {\n    restrict: 'EA',\n    require: '?ngModel',\n    compile: function compile() {\n\n      if (angular.isUndefined(window.CodeMirror)) {\n        throw new Error('ui-codemirror needs CodeMirror to work... (o rly?)');\n      }\n\n      return postLink;\n    }\n  };\n\n  function postLink(scope, iElement, iAttrs, ngModel) {\n\n    var codemirrorOptions = angular.extend(\n      { value: iElement.text() },\n      uiCodemirrorConfig.codemirror || {},\n      scope.$eval(iAttrs.uiCodemirror),\n      scope.$eval(iAttrs.uiCodemirrorOpts)\n    );\n\n    var codemirror = newCodemirrorEditor(iElement, codemirrorOptions);\n\n    configOptionsWatcher(\n      codemirror,\n      iAttrs.uiCodemirror || iAttrs.uiCodemirrorOpts,\n      scope\n    );\n\n    configNgModelLink(codemirror, ngModel, scope);\n\n    configUiRefreshAttribute(codemirror, iAttrs.uiRefresh, scope);\n\n    scope.$on('CodeMirror', function(event, callback) {\n      if (angular.isFunction(callback)) {\n        callback(codemirror);\n      } else {\n        throw new Error('the CodeMirror event requires a callback function');\n      }\n    });\n\n    if (angular.isFunction(codemirrorOptions.onLoad)) {\n      codemirrorOptions.onLoad(codemirror);\n    }\n  }\n\n  function newCodemirrorEditor(iElement, codemirrorOptions) {\n    var codemirrot;\n\n    if (iElement[0].tagName === 'TEXTAREA') {\n      codemirrot = window.CodeMirror.fromTextArea(iElement[0], codemirrorOptions);\n    } else {\n      iElement.html('');\n      codemirrot = new window.CodeMirror(function(cm_el) {\n        iElement.append(cm_el);\n      }, codemirrorOptions);\n    }\n\n    return codemirrot;\n  }\n\n  function configOptionsWatcher(codemirrot, uiCodemirrorAttr, scope) {\n    if (!uiCodemirrorAttr) { return; }\n\n    var codemirrorDefaultsKeys = Object.keys(window.CodeMirror.defaults);\n    scope.$watch(uiCodemirrorAttr, updateOptions, true);\n    function updateOptions(newValues, oldValue) {\n      if (!angular.isObject(newValues)) { return; }\n      codemirrorDefaultsKeys.forEach(function(key) {\n        if (newValues.hasOwnProperty(key)) {\n\n          if (oldValue && newValues[key] === oldValue[key]) {\n            return;\n          }\n\n          codemirrot.setOption(key, newValues[key]);\n        }\n      });\n    }\n  }\n\n  function configNgModelLink(codemirror, ngModel, scope) {\n    if (!ngModel) { return; }\n    ngModel.$formatters.push(function(value) {\n      if (angular.isUndefined(value) || value === null) {\n        return '';\n      } else if (angular.isObject(value) || angular.isArray(value)) {\n        throw new Error('ui-codemirror cannot use an object or an array as a model');\n      }\n      return value;\n    });\n\n\n    ngModel.$render = function() {\n      var safeViewValue = ngModel.$viewValue || '';\n      codemirror.setValue(safeViewValue);\n    };\n\n\n    codemirror.on('change', function(instance) {\n      var newValue = instance.getValue();\n      if (newValue !== ngModel.$viewValue) {\n        scope.$evalAsync(function() {\n          ngModel.$setViewValue(newValue);\n        });\n      }\n    });\n  }\n\n  function configUiRefreshAttribute(codeMirror, uiRefreshAttr, scope) {\n    if (!uiRefreshAttr) { return; }\n\n    scope.$watch(uiRefreshAttr, function(newVal, oldVal) {\n      if (newVal !== oldVal) {\n        $timeout(function() {\n          codeMirror.refresh();\n        });\n      }\n    });\n  }\n\n}\nuiCodemirrorDirective.$inject = [\"$timeout\", \"uiCodemirrorConfig\"];\n"],"sourceRoot":"/source/"}